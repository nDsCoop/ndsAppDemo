{"version":3,"sources":["images/loadingImg.gif","images/logoMainLar.svg","apis/youtubeSearch.js","apis/getAudioLink.js","images/user-svg-default.svg","images/logoMain.svg","images/videobgr1.mp4","images/imgWeather3.jpg","images/birth2.jpg","components/GlobalState.js","images/videobgr5.mp4","images/videobgr3.mp4","images/videobgr6.mp4","images/plane-light.svg","images/plane.svg","images/moon.svg","images/sun.svg","images/dottedCircle.svg","images/CompletedTick.svg","images/DownloadIcon.svg","images/Logosvg2.svg","images/birth1.jpg","images/birth3.jpg","images/birth4.jpg","images/birth5.jpg","images/birth6.jpg","images/birth7.jpg","images/birth8.jpg","images/happyny.mp3","components/RenderDatabase.js","components/DownloadDeleteDialog.js","external/saveSong.js","helpers/en_deCrypt.js","helpers/objectid.js","apis/axios.js","external/fetchIPclient.js","components/Hero.js","pages/Home.js","components/Navbar.js","components/StyleHero.js","components/app1Content/InfoBox.js","components/app1Content/Table.js","components/app1Content/LineGraph.js","components/app1Content/Map.js","components/app1Content/MainMap.js","components/app1Content/charts.js","components/app1Content/chartForecast.js","notifications/Notification.js","notifications/NotificationProvider.js","components/Loading-mini.js","components/app1Content/mapPlane.js","components/Draggable.js","components/App1.js","service.js","realtime.js","store.js","components/GreetingApp4.js","pages/Error.js","pages/Page1.js","components/header/AutoSearchResult.js","components/header/SearchBox.js","components/header/SimpleAppBar.js","components/SwipeMenu.js","components/SnackbarMessage.js","components/sections/SettingsPage.js","components/player/PlayPauseButton.js","components/player/NextButton.js","components/player/PreviousButton.js","components/player/MusicArt.js","components/player/SleepTimer.js","components/player/TimelineController.js","components/player/VolumeController.js","components/RelatedVideos.js","components/player/MainPlayer.js","components/CurrentSection.js","components/player/TopBar.js","components/player/MiniMusicArt.js","components/App2.js","pages/Page2.js","pages/AuthWrapper.js","components/aboutApp/FeedbackApp.js","pages/PrivateRoute.js","components/ChangePassword.js","components/DragDrop.js","components/UpLoadFilePhoto.js","components/SendVerifyCommunication.js","components/UserBar.js","components/Loading.js","components/library/AudioVisualiser.js","components/library/AudioAnalyser.js","components/App3.js","components/Video.js","components/Videos.js","components/Chat.js","components/MainVideo.js","pages/Page3.js","components/aboutApp/DescriApp.js","components/aboutApp/ContributorsApp.js","components/aboutApp/PrivateApp.js","components/data.js/dataListQuestionsHome.js","components/data.js/dataListQuestionsMusic.js","components/data.js/dataListQuestionsWeather.js","components/data.js/dataListQuestionsChat.js","components/data.js/dataListQuestionsReTrille.js","components/aboutApp/HelpApp.js","pages/About.js","pages/Maintenance.js","components/data.js/dataListWishes.js","components/Wheel.js","components/Animation/Firework.js","pages/Landing.js","App.js","serviceWorker.js","index.js","components/Datetime1.js","components/Banner.js","images/svgnds.png"],"names":["module","exports","axios","create","baseURL","params","part","videoCategoryId","type","key","keys","process","split","Math","floor","random","length","selectRandomKey","GlobalContext","React","createContext","initialState","searchState","searchResult","relatedVideos","menuOpen","snackbarMsg","currentVideoSnippet","themeSelectValue","reducer","state","action","snippet","GlobalState","props","globalState","useReducer","Provider","value","children","currentId","DownloadDeleteDialog","isOpen","handleCancel","handleDelete","useState","checkBox","setCheckBox","useEffect","console","log","Dialog","style","zIndex","open","onClose","aria-labelledby","aria-describedby","DialogTitle","id","DialogContent","FormControlLabel","control","Checkbox","color","checked","onChange","e","target","label","DialogActions","Button","onClick","useSongMethods","songId","useContext","dispatch","setSnackbarMsg","useCallback","data","deleteDialogState","setDeleteDialogState","dontAskPopup","setDontAskPopup","popupLocalState","localStorage","getItem","handleDownload","a","getAudioLink","get","res","downloadSong","status","deleteTheSong","deleteSongAudio","setItem","deleteDialogComponent","handleRemoveSong","RenderDatabase","songs","window","innerHeight","setWindowHeight","handleClick","song","videoId","audio","thumbnail","title","channelTitle","maxThumbnail","sdThumbnail","returnAnimatedClass","downloadState","renderResult","map","index","ListItem","alignItems","button","ListItemAvatar","Avatar","className","width","height","marginRight","alt","src","ListItemText","primary","secondary","Fragment","Typography","component","variant","CompletedTick","DownloadIcon","renderItem","forwardRef","row","ref","maxWidth","left","transform","Divider","itemCount","innerWidth","db","Dexie","version","stores","updatePlayingSong","videoObj","timestamp","Date","now","playbackTimes","update","rating","add","rateSong","getHistory","orderBy","limit","reverse","toArray","songsByTimeStamp","getLikedSongs","where","between","minKey","maxKey","likedSongs","getDownloadedSongs","downloadedSongs","removeDownloadingState","modify","x","url","thumbURL","Promise","all","fetchProxiedBlob","thumbnailBlob","songBlob","URL","resolve","reject","xhr","XMLHttpRequest","responseType","onload","response","statusText","send","setTimeout","abort","keySecret","keySecret2","iv","crypto","randomBytes","encrypt","text","salt","CryptoJS","lib","WordArray","encrypted","AES","PBKDF2","keySize","iterations","padding","pad","Pkcs7","mode","CFB","toString","err","encrypt2","cipher","createCipheriv","Buffer","concat","final","content","MACHINE_ID","parseInt","checkForHexRegExp","RegExp","from","hasBufferType","ObjectID","this","_bsontype","generate","cacheHexString","__id","valid","isValid","Error","createFromHexString","toHexString","hexTable","i","prototype","hexString","JSON","stringify","_Buffer","convertToHex","charCodeAt","get_inc","getInc","time","pid","inc","buffer","format","copy","inspect","toJSON","equals","otherId","toLowerCase","getTimestamp","setTime","createPk","createFromTime","decodeLookup","bytes","string","array","n","test","Object","defineProperty","enumerable","set","ObjectId","Hero","video1","urlVideo","setUrlVideo","videos","video5","video3","video6","temp","randVideo","muted","autoPlay","loop","Wrapper","styled","nav","Home","useAuth0","isAuthenticated","loginWithRedirect","logout","user","useCookies","isUser","setCookie","path","Helmet","Banner","subtitle","picture","name","nickname","toUpperCase","to","returnTo","location","origin","Navbar","active","prevScrollpos","pageYOffset","toggleVisibility","currentScrollPos","document","getElementById","top","setState","handleToggle","onClickOutSide","contains","componentWillUnmount","removeEventListener","pathname","addEventListener","onContextMenu","preventDefault","role","maxHeight","logo","Component","StyledHero","header","img","defaultImg1","InfoBox","cases","total","Card","CardContent","numeral","require","Table","countries","country","options","legend","display","elements","point","radius","maintainAspectRatio","tooltips","intersect","callbacks","tooltipItem","scales","xAxes","tooltipFormat","yAxes","gridLines","ticks","beginAtZero","callback","values","LineGraph","casesType","setData","fetch","then","json","chartData","buildCharData","fetchData","lastDataPoint","date","newDataPoint","y","push","datasets","fill","backgroundColor","borderColor","borderWidth","MapCv","marks","center","zoom","casesTypeColors","hex","multiplier","recovered","deaths","century21icon","L","icon","iconUrl","iconSize","iconAnchor","popupAnchor","shadowSize","shadowAnchor","maxZoom","TileLayer","attribution","Circle","countryInfo","lat","long","fillOpacity","fillColor","sqrt","Popup","backgroundImage","flag","showDataOnMap","mark","Marker","position","lng","covid19","nameMark","manager","toFixed","desc","showMarksOnMap","allMark","showAllMarkOnMap","labels","boxWidth","responsive","datasetIndex","Charts","data1","setData1","data2","setData2","data3","setData3","data4","setData4","data5","setData5","_","each","hour","humid","pressure","cloud","dewpoint","windspeed","yAxisID","pointStrokeColor","pointHighlightFill","pointHoverBorderColor","pointHighlightStroke","strokeColor","pointColor","stepSize","ChartForecast","instant","details","Notification","exit","setExit","setWidth","intervalID","setIntervalID","handleStartTimer","setInterval","prev","clearInterval","handlePauseTimer","onMouseEnter","onMouseLeave","message","NotificationProvider","payload","filter","el","note","LoadingMini","MapPlane","infoPlanesOfMark","infoPlanes","isRealtimePlane","isAllPlanes","typeOfMap","mapMarkfindPlane","mapMarkfindPlaneRealtime","mapZoom","setMapZoom","mapCenter","setMapCenter","dataPlane","setDataPlane","intervalPlane","setIntervalPlane","loading","setLoading","listMarkPlane","setListMarkPlane","dataPlaneOfMarks","setDataPlaneOfMarks","showDataPlaneToMap","setShowDataPlaneToMap","regex","proccessCountry","replace","match","letter","proccessPlaneData","datas","temp0","temp1","plane","icao24","callSign","origin_country","time_position","last_contact","baro_altitude","on_ground","velocity","true_track","vertical_rate","sensors","geo_altitude","squawk","spi","position_source","planeOfMark","buildPlaneData","listData","method","credentials","redirect","agent","headers","btoa","myInterval","handleStartRealtime","info","typeMapChoose","rotate","divIcon","strokeOpacity","html","planeLight","fromNow","circleMarks","Draggable","pressed","setPressed","setPosition","useRef","current","onMouseMove","event","movementX","movementY","onMouseDown","onMouseUp","Geocode","setApiKey","enableDebug","App1","onChangeMarkSelectRealtime","markList","store","getMarksOfMe","markPosRealtime","mapZoomMain","toggleChangeIsPlanes","amountPlanes","lastContact","amountPlanesOfMark","lastContactOfMark","listPlanes","getCity","addressArray","types","long_name","getArea","j","getState","onInfoWindowClose","onPlaceSelected","place","address","formatted_address","address_components","city","area","latValue","geometry","lngValue","markerPosition","mapPosition","onMarkerDragEnd","newLat","latLng","newLng","fromLatLng","results","error","toggleAddMark","isFormAddNewMark","toggleSubmit","me","getCurrentUser","txtMessage","txtNameMark","isShowMark","district","public","loadingRequire","addNewMark","body","catch","toggleActiveWindow","isChat","isWrite","isShowFormAddMessage","isShowInstruction","messages","toggleActiveQuestion","questKey","includes","temps","difference","uniq","getAircraft","createTimeUnix","toISOString","toggleChangeTypeSort","sortData","sortAscending","tableData","sortData1","sortDescending","isSortAsending","colorBtnSort","sort","b","fetchWorldwide","infoCountry","ex","fetchCountries","ios2","mapCountries","onChangeMarkSelect","mapCenterMain","markPos","markForecast","properties","timeseries","activeMark","_id","onChangeCountrySelect","_onResi","readMore","listening","newNotification","typeNoti","addNotiSignal","isLoadingMarks","listMarkMe","showSettingVoices","showDetailPlanesKey","showDetailPlanes","isLoginPage","urlReDirect","navigator","geolocation","getCurrentPosition","success","coords","latitude","longitude","fetchAllMarkOther","fetchMarksListOfMe","result","showSettingVoice","nameUser","allMarkList","getAllMarkOther","sessionStorage","formatStatInfo","AsyncMap","withScriptjs","withGoogleMap","google","defaultZoom","defaultCenter","right","draggable","onDragEnd","classNames","Tooltip","placement","IconButton","fontSize","loadingImg","htmlFor","placeholder","required","autoFocus","langMessage","disabled","background","imgMark","defaultImg","continent","localtime","follow","descript","temp_c","feelslike_c","precip_mm","humidity","pressure_mb","wind_dir","wind_degree","wind_kph","uv","vis_km","caseCvid19","recoveredCvid19","deathsCvid19","recoveredPerOneMillionCvid19","created","toDateString","getHours","getMinutes","googleMapURL","loadingElement","containerElement","mapElement","data-column","gust_kph","last_updated","todayCases","todayRecovered","todayDeaths","marginTop","textAlign","l","cursor","href","apiURL","Service","endpoint","post","Realtime","ws","isConnected","connect","reconnect","msg","parse","currentUser","currentUserId","decoMessage","userId_remove","channel","updateMemberChannel","userId","field","updateInfoUser","obj","channelId","typing","typier","onUpdateTypestatus","onUpdateUserStatus","activeChannel","getActiveChannel","notify","onAddMessage","onAddChannel","removeMemberChannelFormRealtime","setCurrentUser","users","avatar","birthday","phone","isTyping","channels","isOnline","online","lastConnection","addUserToCache","messageObject","setMessage","lastMessage","members","OrderedMap","isNew","memberId","m","forEach","msgId","addChannel","msgString","tokenId","getUserTokenId","WebSocket","onopen","authentication","onmessage","readMessage","onclose","onerror","Store","appComponent","processData","item","iso2","recoveredPerOneMillion","processlistMarkMe","is_day","condition","forecast","forecastday","astro","moon_illumination","moon_phase","moonrise","moonset","sunrise","sunset","userToken","authorization","service","removeItem","translateBody","msgLang","configReTrille","config","micLang","translate","engine","app","messageDefaults","messageVoices","listTypeMessageDefaults","activeChannelId","getUserFromLocalStorage","token","getTokenFromLocalStorage","realtime","fetchUserChannels","search","allMarkOther","valueSeq","loggedUser","transcript","messageList","messageList2","messageList3","keyWord","replyObj","proccessTranscript","messageId","msgOriginId","showAuthor","nameOri","ID","messageIdReply","reply","messagevoices","messagevoice","emailObj","email","unset","oldPassword","newPassword","ipClient","contents","ip","password","infoObj","formData","editInfoUser","isDark","theme","addMessage","c","firstChannelId","fetchChannelMessages","loadUserAvatar","q","clear","trim","accessToken","remove","clearCacheData","setUserToken","signOut","bcrypt","hashSync","userEmail","toLower","setActiveChannelId","isFetchMessages","first","userCurrent","userIdCurrent","updated","forceUpdate","GreetingApp4","setUrl","setMe","setError","setEmail","passWord","setPassWord","setID","setIpClient","isContinue","setIsContinue","isHaveAccount","setIsHaveAccount","setUser","createQuicklyNewAcc","chars","randPassWord","len","Array","join","randEmail","slice","randName","hashPassword","loginWithRandAccountAndManage","register","login","loginWithRandAccountAndContinue","handleCreateR","arr","Uint8Array","getRandomValues","generateId","fetchJsonp","fetchIPclient","render","whiteSpace","Link","Page1","exact","Errors","AutoSearchResult","onSearchSelect","ListItemIcon","paddingLeft","Search","List","withRouter","history","URLSearchParams","setSearchState","setSearchResult","searchQuery","setSearchQuery","autoSearchData","setAutoSearch","ytSearchQuery","setYtSearchQuery","isPopperOpen","setPopper","getAutocomplete","youtubeSearch","maxResults","items","searchYt","query","popperResult","Grid","container","justify","CircularProgress","goBack","aria-label","ArrowBack","onSubmit","lastChild","blur","onSearchSubmit","InputBase","fullWidth","Popper","anchorEl","popperOptions","modifiers","preventOverflow","styles","root","flexGrow","input","HideOnScroll","trigger","useScrollTrigger","Slide","appear","direction","in","changeAppBar","AppBar","Toolbar","Menu","SwipeMenu","setMenuOpen","setThemeSelectValue","isNight","setIsNight","changeTheme","SwipeableDrawer","onOpen","margin","sun","moon","animate","scale","Settings","Feedback","HelpOutline","People","Info","SnackbarMessage","setOpen","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","ContentProps","SettingsPage","selectComp","Box","Select","displayEmpty","MenuItem","gutterBottom","FormControl","FormGroup","labelPlacement","PlayPauseButton","player","audioState","minimized","size","pause","play","stopPropagation","disableFocusRipple","disableRipple","Pause","opacity","PauseCircleFilled","PlayArrow","PlayCircleFilled","onPlayNext","SkipNext","playPrevious","SkipPrevious","latestTouchTap","timerTimeout","MusicArt","audioEl","swipeUpHandler","useSwipeable","onSwipedUp","dislikeSong","heartStyle","setHeartStyle","circleSvg","transition","artContainerStyle","likeSong","touchTap","getTime","currentTarget","isFastDblTouchTap","isDblTouchTap","div","drag","dragElastic","dragTransition","bounceStiffness","bounceDamping","dragConstraints","bottom","FavoriteTwoTone","boxShadow","createObjectURL","imgProps","onLoad","naturalWidth","checkImg","align","re","shortTitle","PrettoSlider","withStyles","thumb","marginLeft","borderRadius","border","track","rail","Slider","MiniSlider","formatTime","secs","minutes","seconds","ceil","TimelineController","currentTime","setCurrentTime","setTimeInterval","max","duration","newValue","VolumeController","setPlayerState","volume","setVolume","spacing","VolumeUp","xs","newVal","SleepTimer","renderResult2","relatedVideosVar","previousLocation","sliderValue","changeSliderValue","checkbox","setCheckbox","isTimerSet","setIsTimerSet","setTimer","clearTimeout","sleepTimerObj","sleepTimerSettings","getSleepTimeFromLocalStoarge","alwaysOn","Timer","TimerOff","gradientColorFrom","gradientColorTo","knobRadius","progressWidth","circleWidth","Switch","setSleepTimeToLocalStorage","DownloadLoader","LinearProgress","TopBar","isSongDownloaded","setSongDownloaded","isSongDownloading","setSongDownloading","Reply","share","DoneOutline","GetApp","ExpandMore","MiniMuiscArt","playPause","playNext","emptyPlayer","Close","shuffle","arry","reduce","acc","rnd","RelatedVideos","toggleMaxPlaylist","setPlaylist","playerState","setRelatedVideos","setIsRepeatOn","songsDownloadedState","isRepeatOn","isLoadList","setIsLoadList","setCurrentVideoSnippet","spring","damping","stiffness","li","positionTransition","video","MusicVideo","KeyboardArrowDown","KeyboardArrowUp","dense","MainPlayer","isItFromPlaylist","setIsItFromPlaylist","setSongsDownloaded","setAudioState","setMinimized","setRating","isNextFromMini","setIsNextFromMini","querySelector","audioPlayer","proccessStateLoopList","keyState","setupMediaSessions","mediaSession","metadata","MediaMetadata","artist","artwork","sizes","setActionHandler","playAudio","getAudio","searchRelated","relatedToVideoId","tail","val","undefined","setAudioSrcAndPlay","setVideoSnippet","hidden","setVideoSnippet2","currentIndex2","findIndex","video2","currentIndex","playerStyle","overflow","expandPlayer","modal","updateSongDB","initPosition","containerRef","swipeHandlerMaximized","onSwipedDown","onSwiping","changedTouches","screenY","positionDifference","round","containerRefStyle","onSwiped","onSwipedRight","playTimeout","onSwipedLeft","swipeHandlerMin","fetchAndSetCurrentVideoSnippet","listen","justifyContent","PreviousButton","NextButton","returnMaximizedPlayer","MiniMusicArt","returnMinimizedPlayer","onLoadStart","onLoadedData","onPlay","onPlaying","onPause","onEnded","LoginPage","lazy","SearchResult","HomePage","FeedbackForm","PrivacyPage","DonatePage","ContributorsPage","CustomTab","indicator","Tabs","CustomTabs","selected","Tab","deferredPrompt","songsHistoryState","setSongsHistory","songsLikedState","setSongsLiked","tabValue","setTabValue","updateCount","setUpdateCount","redirectState","setRedirectState","circularLoader","fetchSongs","on","continueToHome","prompt","userChoice","choiceResult","outcome","fallback","returnMainPlayer","indicatorColor","textColor","Favorite","History","defaultTheme","palette","blueGrey","third","blue","main","typography","useNextVariants","darkTheme","muiDarkTheme","createMuiTheme","muiDefaultTheme","App2","checkDarkMode","selectedTheme","hrs","useCheckDarkmode","classList","CurrentSection","App","captchaToken","section","AuthWrapper","isLoading","loadingGif","PrivateRoute","rest","ChangePassword","handleEditPassword","reNewPassword","emailDefault","tokenDefault","changed","backHome","hashNewPasswowrd","requestChangePassword","isShowForm","substring","hash","autoComplete","DragDrop","bgColor","setBgColor","changeBgColor","onDragEnter","dataTransfer","dropEffect","onDragLeave","onDragOver","onDrop","files","sendFiles","UpLoadFilePhoto","sendMessage","reader","FileReader","getRandomInt","alert","readAsDataURL","SendVerifyCommunication","handleSendRequire","step1","handleShowFormVerifyEmail","sendVerifyCommunication","onTxtfieldChange","onClickOutSide0","delImage","currentObject","setSuccessful","step2","typeIdentify","renderMessage","sendEmailVerify","images","age","fullName","fullAddress","numbermobile","currentLive","gender","nationality","deviceName","profession","company","showFormVerifyCommunicate","showFormVerifyEmail","for","prevState","UserBar","openUserForm","showUserFrom","handleSendGetPassword","requestGetPassword","isFormGetPassword","hashNewPassword","hashOldPassword","editPassword","changeFormEdit","showUserMenu","fieldFocus","dec2hex","dec","changeControl","isLogin","FormData","append","uploadUserAvatar","handleEditNow","edit","editUser","editAcc","onClickhiddenshowFormVerifyCommunicate","repassword","onTxtfieldEChange","profileImg","verified","textTransform","getRootProps","getInputProps","Loading","AudioVisualiser","canvas","createRef","draw","audioData","context","getContext","sliceWidth","lineWidth","strokeStyle","clearRect","beginPath","moveTo","lineTo","stroke","AudioAnalyser","tick","bind","audioContext","AudioContext","webkitAudioContext","analyser","createAnalyser","dataArray","frequencyBinCount","source","createMediaStreamSource","rafId","requestAnimationFrame","getByteTimeDomainData","cancelAnimationFrame","disconnect","urlServer","App3","redirectPageHelp","isRedirect","updateTheme","themeBool","handleChangeTheme","sendThemeToLocal","setThemeToLocalStorage","idRoomChat","handleCreateRoom","iShowConfig","onClickOutSide1","refSiderBar","isBarLeft","onClickOutSide2","refSiderBarRight","isBarRight","showEmoji","upLoadfile","sendTyping","lastUpdateTime","addTyping","startCheckingTyping","typingInterval","stopCheckingTyping","renderChannelTitle","getMembersFromChannel","names","handleOnClick","addUserToChannel","searchUser","_onCreateChannel","onCreateNewChannel","scrollMessagesToBottom","messagesRef","scrollTop","scrollHeight","handlePlayMusic","music","Audio","handleSubmit","newMessage","showSearchUser","isShowGetAud","record","openToolChat","English","mediaDevices","getUserMedia","chunks","recoder","MediaRecorder","start","ondataavailable","namefile","File","fileName","file","getTracks","stop","avatars","defaultUserImg","getThemeFromLocalStorage","getMessagesFromChannel","getChannels","usersList","getSearchUsers","searchTxt","startSearchUsers","renderChannelAvatar","mess","controls","onEmojiClick","emojiObject","emoji","skinTone","SKIN_TONE_MEDIUM_DARK","onKeyUp","keyCode","shiftKey","onKeyDown","startRecording","stopRecording","member","removeMemberFromChannel","Video","mutemic","stream","srcObject","kind","enabled","mic","mutecamera","camera","videoVisible","videoStream","nextProps","videoType","videoTrack","getVideoTracks","onmute","videoMuted","onunmute","audioTrack","getAudioTracks","muteControls","showMuteControls","frameStyle","visibility","videoStyles","Videos","rVideo","muteTrack","selectedVideo","switchVideo","_video","rVideos","remoteStreams","NoOfRemoteStreams","_rVideos","float","objectFit","minWidth","minHeight","overflowX","overflowY","Chat","uid","imageZoom","setImageZoom","selectedImage","setSelectedImage","scrollToBottom","chat","userType","msgDiv","sender","MainVideo","getLocalStream","mirror","localStream","whoisOnline","sendToPeer","local","socket","messageType","socketID","emit","createPeerConnection","pc","RTCPeerConnection","pc_config","peerConnections","onicecandidate","candidate","remote","oniceconnectionstatechange","ontrack","_remoteStream","remoteVideo","addTrack","_remoteVideo","MediaStream","remoteStream","close","componentDidMount","io","serviceIP","room","substr","peerCount","stopTracks","handleSendChannelStatusChange","sendChannels","readyState","sendChannel","createDataChannel","handleReceiveMessage","handleReceiveChannelStatusChange","receiveChannel","ondatachannel","createOffer","sdpConstraints","sdp","setLocalDescription","addStream","setRemoteDescription","RTCSessionDescription","createAnswer","addIceCandidate","RTCIceCandidate","disconnectSocket","socketToDisconnect","urls","disconnected","Page3","DescriApp","isEnglish","Container","FeedbackApp","isFormActive","setIsFormActive","isEmail","setIsEmail","isSending","setIsSending","formEl","formElEmail","handleButton","submitFormEmail","reset","submitForm","loadReCaptcha","sitekey","verifyCallback","TextField","multiline","rows","ContributorsApp","viewBox","d","PrivacyApp","showBtnBackToTop","linkActive","scrollIntoView","behavior","block","link","nameNotEng","list","scrollToTop","resolve1","resolve2","resolve3","resolve4","helpActiveQuestion","questKeyHome","questKeyRetrille","questKeyChat","questKeyMusic","questKeyWeather","questKeyArray","typeKey","listQuestionsHome","listQuestionsMusic","listQuestionsWeather","listQuestionsChat","listQuestionsReTrille","home","weather","retrille","quest","About","handleToggleEnglish","openNewTab","poster","xmlns","aria-hidden","focusable","Maintenance","attributeName","begin","dur","repeatCount","promise","Wheel","number","setNumber","setIDUser","verify","setVerify","msgSym","setmsgSym","birth2","urlAvt","setUrlAvt","births","birth1","birth3","birth4","birth5","birth6","birth7","birth8","Wishes","dataWishes","getVerifyFromSessionStore","handleSendMess","speech","SpeechSynthesisUtterance","voices","speechSynthesis","getVoices","rate","pitch","lang","voice","voiceURI","speak","readOutLoud","handleChangeAvt","Firework","isPlaySong","handleStopMusic","fancy","PI2","PI","min","Birthday","resize","fireworks","counter","spawnA","spawnB","spawnC","spawnD","evt","clientX","touches","pageX","clientY","pageY","count","delta","ctx","globalCompositeOperation","fillStyle","fillRect","firework","dead","targetX","targetY","shade","offsprings","xDiff","yDiff","abs","shift","madeChilds","babies","cos","sin","arc","onresize","onclick","ontouchstart","Page4","Page2","Boolean","hostname","ReactDOM","StrictMode","domain","clientId","redirectUri","serviceWorker","ready","registration","unregister","Datetime1","loopTime","toLocaleDateString","toLocaleTimeString"],"mappings":"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","file":"static/js/main.946d22bb.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/loadingImg.a0c13b50.gif\";","module.exports = __webpack_public_path__ + \"static/media/logoMainLar.d43ad18a.svg\";","import axios from \"axios\";\r\n\r\n// put your api keys in .env file you can get those here - https://developers.google.com/youtube/v3/getting-started\r\nexport const selectRandomKey = () => {\r\n  const keys = process.env.REACT_APP_YouTube_Keys.split(\" \"); //we are splitting the api keys to make an array\r\n  const random = Math.floor(Math.random() * Math.floor(keys.length)); //this will get a random number\r\n  return keys[random];\r\n};\r\n\r\nexport default axios.create({\r\n  baseURL: \"https://www.googleapis.com/youtube/v3\",\r\n  params: {\r\n    part: \"snippet\",\r\n    videoCategoryId: \"10\",\r\n    type: \"video\",\r\n    key: selectRandomKey()\r\n  }\r\n});\r\n","import axios from 'axios';\r\n\r\nexport default axios.create({\r\n   baseURL: 'https://ndsbirthdayserver.herokuapp.com',\r\n  // baseURL: 'https://server.ylight.xyz',\r\n});\r\n","module.exports = __webpack_public_path__ + \"static/media/user-svg-default.6b4e3df1.svg\";","module.exports = __webpack_public_path__ + \"static/media/logoMain.e9e7aaa9.svg\";","module.exports = __webpack_public_path__ + \"static/media/videobgr1.855c1879.mp4\";","module.exports = __webpack_public_path__ + \"static/media/imgWeather3.f2de9424.jpg\";","module.exports = __webpack_public_path__ + \"static/media/birth2.67121a11.jpg\";","import React, { useReducer } from \"react\";\r\n\r\nexport const GlobalContext = React.createContext();\r\n\r\nconst initialState = {\r\n  searchState: \"home\",\r\n  searchResult: [],\r\n  relatedVideos: [],\r\n  \r\n  menuOpen: false,\r\n  snackbarMsg: false,\r\n  currentVideoSnippet: {},\r\n  themeSelectValue: \"Default\"\r\n};\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"setCurrentVideoSnippet\":\r\n      return {\r\n        ...state,\r\n        currentVideoSnippet: action.snippet\r\n      };\r\n\r\n    case \"setRelatedVideos\": {\r\n      return {\r\n        ...state,\r\n        relatedVideos: action.snippet\r\n      };\r\n    }\r\n    case \"setSnackbarMsg\": {\r\n      return {\r\n        ...state,\r\n        snackbarMsg: action.snippet\r\n      };\r\n    }\r\n    case \"setThemeSelectValue\": {\r\n      return {\r\n        ...state,\r\n        themeSelectValue: action.snippet\r\n      };\r\n    }\r\n    case \"setSearchState\": {\r\n      return {\r\n        ...state,\r\n        searchState: action.snippet\r\n      };\r\n    }\r\n    case \"setSearchResult\": {\r\n      return {\r\n        ...state,\r\n        searchResult: action.snippet\r\n      };\r\n    }\r\n    case \"setMenuOpen\": {\r\n      return {\r\n        ...state,\r\n        menuOpen: action.snippet\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const GlobalState = props => {\r\n  const globalState = useReducer(reducer, initialState);\r\n  return (\r\n    <GlobalContext.Provider value={globalState}>\r\n      {props.children}\r\n    </GlobalContext.Provider>\r\n  );\r\n};\r\n","module.exports = __webpack_public_path__ + \"static/media/videobgr5.857b6cd6.mp4\";","module.exports = __webpack_public_path__ + \"static/media/videobgr3.28fb8ceb.mp4\";","module.exports = __webpack_public_path__ + \"static/media/videobgr6.fb38e7d1.mp4\";","module.exports = __webpack_public_path__ + \"static/media/plane-light.81fa0d76.svg\";","module.exports = __webpack_public_path__ + \"static/media/plane.1b543b95.svg\";","module.exports = __webpack_public_path__ + \"static/media/moon.bfe0ee19.svg\";","module.exports = __webpack_public_path__ + \"static/media/sun.f4e2a770.svg\";","module.exports = __webpack_public_path__ + \"static/media/dottedCircle.c96ca893.svg\";","module.exports = __webpack_public_path__ + \"static/media/CompletedTick.ffcb10fd.svg\";","module.exports = __webpack_public_path__ + \"static/media/DownloadIcon.e927ae19.svg\";","module.exports = __webpack_public_path__ + \"static/media/Logosvg2.7106cd73.svg\";","module.exports = __webpack_public_path__ + \"static/media/birth1.e9cb119f.jpg\";","module.exports = __webpack_public_path__ + \"static/media/birth3.33b487da.jpg\";","module.exports = __webpack_public_path__ + \"static/media/birth4.f28a5701.jpg\";","module.exports = __webpack_public_path__ + \"static/media/birth5.2860e479.jpg\";","module.exports = __webpack_public_path__ + \"static/media/birth6.7ee889ca.jpg\";","module.exports = __webpack_public_path__ + \"static/media/birth7.d01e8d1a.jpg\";","module.exports = __webpack_public_path__ + \"static/media/birth8.4c58c179.jpg\";","module.exports = __webpack_public_path__ + \"static/media/happyny.47338a09.mp3\";","import React, { useContext, useState, useEffect } from \"react\";\r\n// import {\r\n//   List,\r\n//   AutoSizer,\r\n//   CellMeasurer,\r\n//   CellMeasurerCache\r\n// } from \"react-virtualized\";\r\n\r\nimport { DynamicSizeList as List } from \"react-window-dynamic\";\r\n\r\n\r\nimport CompletedTick from \"../images/CompletedTick.svg\";\r\nimport DownloadIcon from \"../images/DownloadIcon.svg\";\r\n\r\nimport {\r\n  ListItem,\r\n  Typography,\r\n  ListItemAvatar,\r\n  Avatar,\r\n  Divider,\r\n  ListItemText\r\n} from \"@material-ui/core\";\r\n\r\nimport DownloadDeleteDialog from \"./DownloadDeleteDialog\";\r\n\r\nimport { GlobalContext } from \"./GlobalState\";\r\n\r\nimport getAudioLink from \"../apis/getAudioLink\";\r\nimport { downloadSong, deleteSongAudio } from \"../external/saveSong\";\r\n\r\n// const cache = new CellMeasurerCache({\r\n//   minHeight: 50,\r\n//   defaultHeight: 60,\r\n//   fixedWidth: true\r\n//   // keyMapper: () => 1\r\n// });\r\n\r\nlet currentId;\r\n\r\nexport const useSongMethods = songId => {\r\n  const [{}, dispatch] = useContext(GlobalContext);\r\n\r\n  const setSnackbarMsg = React.useCallback(\r\n    data => {\r\n      dispatch({ type: \"setSnackbarMsg\", snippet: data });\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  const [deleteDialogState, setDeleteDialogState] = useState(false);\r\n  const [dontAskPopup, setDontAskPopup] = useState(null);\r\n\r\n  useEffect(() => {\r\n    //convert string to bool\r\n    const popupLocalState = localStorage.getItem(\"dontAskPopup\") === \"true\";\r\n    setDontAskPopup(popupLocalState);\r\n    // for popup settings\r\n  }, []);\r\n\r\n  const handleDownload = async songId => {\r\n    // console.log(\"here is the id\", songId);\r\n    const res = await getAudioLink.get(\"/song\", {\r\n      params: { id: songId }\r\n    });\r\n    // first we will fetch the song link then we will download it\r\n    // the download song function takes id and the url\r\n    const status = await downloadSong(songId, res.data);\r\n    // after the downloading is done we will remove the downloading class\r\n    // set the snackbar message\r\n    setSnackbarMsg(\"Song Downloaded\");\r\n    console.log(\"song status\", status);\r\n  };\r\n\r\n  const disablePopup = () => {\r\n    localStorage.setItem(\"dontAskPopup\", true);\r\n    setDontAskPopup(true);\r\n  };\r\n\r\n  const deleteTheSong = async checkBox => {\r\n    await deleteSongAudio(currentId);\r\n    setDeleteDialogState(false);\r\n    setSnackbarMsg(\"Deleted Successfully\");\r\n\r\n    console.log(currentId, checkBox);\r\n    // we will set it to localstorage the popup option\r\n    if (checkBox) {\r\n      disablePopup();\r\n    }\r\n  };\r\n\r\n  // hadnling download dialog\r\n  const handleRemoveSong = songId => {\r\n    console.log(\"handle remove dude\");\r\n    currentId = songId;\r\n    // when user clicks on the download badge we will check the state\r\n    // then delete the song without showing the popup if dontAskPopup is true\r\n    // and delete the song by calling deleteTheSong\r\n    dontAskPopup ? deleteTheSong() : setDeleteDialogState(true);\r\n  };\r\n\r\n  const deleteDialogComponent = dontAskPopup ? null : (\r\n    <DownloadDeleteDialog\r\n      isOpen={deleteDialogState}\r\n      handleCancel={() => setDeleteDialogState(false)} // we will just hide the dialog on cancel\r\n      handleDelete={deleteTheSong} //if user wants to delete the song we will just do it\r\n    />\r\n  );\r\n\r\n  return {\r\n    handleDownload,\r\n    handleRemoveSong,\r\n    deleteTheSong,\r\n    dontAskPopup,\r\n    setDeleteDialogState,\r\n    deleteDialogState,\r\n    deleteDialogComponent\r\n  };\r\n};\r\n\r\nconst RenderDatabase = props => {\r\n  const songs = props.songs;\r\n  const [{}, dispatch] = useContext(GlobalContext);\r\n  const setCurrentVideoSnippet = data => {\r\n    dispatch({ type: \"setCurrentVideoSnippet\", snippet: data });\r\n  };\r\n  // const setSnackbarMsg = data => {\r\n  //   dispatch({ type: \"setSnakbarMsg\", snippet: data });\r\n  // };\r\n\r\n  const [windowHeight, setWindowHeight] = useState(window.innerHeight);\r\n\r\n  const handleClick = song => {\r\n    // set all the info of current clicked video in this object\r\n    setCurrentVideoSnippet({\r\n      id: song.videoId,\r\n      audio: song.audio,\r\n      thumbnail: song.thumbnail,\r\n      title: song.title,\r\n      channelTitle: song.channelTitle,\r\n      maxThumbnail: `https://img.youtube.com/vi/${song.videoId}/maxresdefault.jpg`,\r\n      sdThumbnail: `https://img.youtube.com/vi/${song.videoId}/sddefault.jpg`\r\n      // this is the url of the max resolution of thumbnail\r\n    });\r\n    // window.location.replace(`/ndsappbeta/music/play?id=${song.videoId}`);\r\n  };\r\n\r\n  const {\r\n    handleDownload,\r\n    handleRemoveSong,\r\n    deleteDialogComponent\r\n  } = useSongMethods();\r\n\r\n  const returnAnimatedClass = song => {\r\n    if (song.downloadState === \"downloading\") {\r\n      console.log(song.downloadState);\r\n      return \"downloading-animation\";\r\n    } else {\r\n      return \"\";\r\n    }\r\n  };\r\n\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    setWindowHeight(window.innerHeight);\r\n  },[]);\r\n\r\n  const renderResult = songs.map((song, index) => {\r\n    return (\r\n      <>\r\n        <ListItem\r\n          alignItems=\"flex-start\"\r\n          button\r\n          onClick={() => handleClick(song)}\r\n          // component={Link}\r\n          // to={{ pathname: \"/play\", search: `?id=${song.videoId}`, state: { modal: true } }}\r\n        >\r\n          <ListItemAvatar>\r\n            <Avatar\r\n              className=\"searchThumb\"\r\n              style={{ width: \"60px\", height: \"60px\", marginRight: \"15px\" }}\r\n              alt={song.title}\r\n              src={`https://img.youtube.com/vi/${song.videoId}/default.jpg`}\r\n            />\r\n          </ListItemAvatar>\r\n          {/* we will play the song when clicked on title */}\r\n          <ListItemText\r\n            primary={song.title}\r\n            secondary={\r\n              <React.Fragment>\r\n                <Typography\r\n                  component=\"span\"\r\n                  variant=\"body2\"\r\n                  color=\"textPrimary\"\r\n                >\r\n                  {song.channelTitle}\r\n                </Typography>\r\n              </React.Fragment>\r\n            }\r\n          />\r\n        </ListItem>\r\n        <div\r\n          className=\"download-container\"\r\n          onClick={() =>\r\n            song.audio\r\n              ? handleRemoveSong(song.videoId)\r\n              : handleDownload(song.videoId)\r\n          }\r\n        >\r\n          <div className=\"badge-container\">\r\n            {/* if there is audio file then we will show tick mark icon */}\r\n            <img\r\n              className={returnAnimatedClass(song)}\r\n              src={song.audio ? CompletedTick : DownloadIcon}\r\n              alt=\"downloading icon\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  });\r\n\r\n  const renderItem = React.forwardRef((row, ref) => (\r\n    <div\r\n      ref={ref}\r\n      style={{\r\n        ...row.style,\r\n        maxWidth: \"1000px\",\r\n        left: \"50%\",\r\n        transform: \"translateX(-50%)\"\r\n      }}\r\n    >\r\n      {renderResult[row.index]}\r\n      <Divider />\r\n    </div>\r\n  ));\r\n  return (\r\n    <>\r\n      {deleteDialogComponent}\r\n\r\n      <List\r\n        height={window.innerHeight - 100}\r\n        itemCount={songs.length}\r\n        width={window.innerWidth}\r\n      >\r\n        {renderItem}\r\n      </List>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default RenderDatabase;\r\n","import React, { useState } from \"react\";\r\nimport { FormControlLabel, Checkbox } from \"@material-ui/core\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\n\r\nconst DownloadDeleteDialog = ({ isOpen, handleCancel, handleDelete }) => {\r\n  const [checkBox, setCheckBox] = useState(false);\r\n\r\n  React.useEffect(() => {\r\n    console.log(checkBox);\r\n  }, [checkBox]);\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        style={{ zIndex: 1500 }}\r\n        open={isOpen}\r\n        onClose={handleCancel}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">\r\n          {\"Delete this song from your device ?\"}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <FormControlLabel\r\n            control={\r\n              <Checkbox\r\n                color=\"primary\"\r\n                checked={checkBox}\r\n                onChange={e => setCheckBox(e.target.checked)}\r\n                value=\"checkBox\"\r\n              />\r\n            }\r\n            label=\"Don't ask again\"\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleCancel} color=\"primary\">\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={() => handleDelete(checkBox)} color=\"primary\">\r\n            Delete\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DownloadDeleteDialog;\r\n","import Dexie from \"dexie\";\r\nimport \"dexie-observable\";\r\n// import { promised } from \"q\";\r\n// import { promises } from \"fs\";\r\n\r\n// Define your database\r\nexport const db = new Dexie(\"Song_Database\");\r\n\r\n// create new databse\r\n// our schema is of storing a song\r\ndb.version(1).stores({\r\n  songs:\r\n    \"&videoId, timestamp, playbackTimes, [rating+timestamp], [downloadState+timestamp]\"\r\n});\r\n\r\ndb.version(2).stores({});\r\n\r\n// add or update song on play\r\nexport const updatePlayingSong = async data => {\r\n  const videoObj = {\r\n    videoId: data.id,\r\n    timestamp: Date.now(),\r\n    title: data.title,\r\n    channelTitle: data.channelTitle,\r\n    playbackTimes: 1\r\n  };\r\n\r\n  const song = await db.songs.get({ videoId: data.id });\r\n  // if song exists we will just update the timestamp and the playback\r\n  if (song) {\r\n    db.songs.update(data.id, {\r\n      timestamp: Date.now(),\r\n      playbackTimes: song.playbackTimes + 1\r\n    });\r\n    console.log(\"song updated\");\r\n    return song.rating;\r\n    // return the rating\r\n  } else {\r\n    // we will add a new song\r\n    console.log(\"song added\");\r\n    db.songs.add(videoObj);\r\n  }\r\n};\r\n\r\n// like or dislike a song on database\r\nexport const rateSong = async (id, rating) => {\r\n  // if user likes the song then only download it\r\n\r\n  db.songs.update(id, {\r\n    rating: rating\r\n  });\r\n};\r\n\r\nexport const getHistory = async () => {\r\n  const songsByTimeStamp = await db.songs\r\n    .orderBy(\"timestamp\")\r\n    .limit(500)\r\n    .reverse()\r\n    .toArray();\r\n  return songsByTimeStamp;\r\n};\r\n\r\nexport const getLikedSongs = async () => {\r\n  const likedSongs = await db.songs\r\n    .where(\"[rating+timestamp]\") //this will filter song based on time and liked\r\n    .between([\"liked\", Dexie.minKey], [\"liked\", Dexie.maxKey])\r\n    .reverse()\r\n    .toArray();\r\n  return likedSongs;\r\n};\r\n\r\nexport const getDownloadedSongs = async () => {\r\n  const downloadedSongs = await db.songs\r\n    .where(\"[downloadState+timestamp]\") //this will filter song based on time and downloaded\r\n    .between([\"downloaded\", Dexie.minKey], [\"downloaded\", Dexie.maxKey])\r\n    .reverse()\r\n    .toArray();\r\n  return downloadedSongs;\r\n};\r\n\r\nexport const removeDownloadingState = async () => {\r\n  // find all the downloadState which is downloading and remove that\r\n  const songs = await db.songs\r\n    .where(\"[downloadState+timestamp]\")\r\n    .between([\"downloading\", Dexie.minKey], [\"downloading\", Dexie.maxKey])\r\n    .modify(x => {\r\n      delete x.downloadState;\r\n    });\r\n  console.log(songs);\r\n};\r\n\r\nexport const downloadSong = async (id, url) => {\r\n  try {\r\n    db.songs.update(id, {\r\n      downloadState: \"downloading\"\r\n    });\r\n    const thumbURL = `https://i.ytimg.com/vi/${id}/hqdefault.jpg`;\r\n    const [thumbnailBlob, songBlob] = await Promise.all([\r\n      fetchProxiedBlob(thumbURL),\r\n      fetchProxiedBlob(url)\r\n    ]);\r\n    db.songs.update(id, {\r\n      downloadState: \"downloaded\",\r\n      thumbnail: thumbnailBlob,\r\n      audio: songBlob\r\n    });\r\n    return \"downloaded\";\r\n  } catch (error) {\r\n    return error;\r\n  }\r\n};\r\n\r\nexport const deleteSongAudio = async id => {\r\n  await db.songs.where({ videoId: id }).modify(x => {\r\n    delete x.audio;\r\n    delete x.downloadState;\r\n  });\r\n  return \"song deleted\";\r\n};\r\n\r\nfunction fetchProxiedBlob(url) {\r\n  const URL = url;\r\n  return new Promise(function(resolve, reject) {\r\n    var xhr = new XMLHttpRequest();\r\n    xhr.open(\"GET\", \"https://ndsbirthdayserver.herokuapp.com/proxy/\" + URL);\r\n    xhr.responseType = \"blob\";\r\n    xhr.onload = function() {\r\n      var status = xhr.status;\r\n      if (status >= 200 && status < 300) {\r\n        resolve(xhr.response);\r\n      } else {\r\n        reject({\r\n          status: status,\r\n          statusText: xhr.statusText\r\n        });\r\n      }\r\n    };\r\n    xhr.send();\r\n    setTimeout(() => {\r\n      xhr.abort();\r\n      xhr.open(\"GET\", \"https://ndsbirthdayserver.herokuapp.com/proxy/\" + URL);\r\n\r\n      xhr.send();\r\n    }, 1000);\r\n  });\r\n}\r\n","\r\nimport crypto from 'crypto';\r\nimport CryptoJS from 'crypto-js';\r\n\r\nconst keySecret = process.env.REACT_APP_keySecret;\r\nconst algorithm = process.env.REACT_APP_algorithm;\r\nconst keySecret2 = process.env.REACT_APP_keySecret2;\r\nconst iv = crypto.randomBytes(16);\r\n\r\nexport const encrypt = (text) => {\r\n    try{\r\n\r\n        const salt = CryptoJS.lib.WordArray.random(128 / 8)\r\n        const iv = CryptoJS.lib.WordArray.random(128 / 8)\r\n        const encrypted = CryptoJS.AES.encrypt(text, CryptoJS.PBKDF2(keySecret, salt, { keySize: 256 / 32, iterations: 100 }) /* key */, { iv: iv, padding: CryptoJS.pad.Pkcs7, mode: CryptoJS.mode.CFB })\r\n        const transitmessage = salt.toString() + iv.toString() + encrypted.toString();\r\n        return transitmessage;\r\n\r\n    }\r\n    catch (err) \r\n    {\r\n        console.log(err)\r\n    }\r\n   \r\n}\r\n\r\nexport const decrypt = (text) => {\r\n    try{\r\n\r\n        const key = CryptoJS.PBKDF2(keySecret, CryptoJS.enc.Hex.parse(text.substr(0, 32)) /* Salt */, { keySize: 256 / 32, iterations: 100 })\r\n        const decrypted = CryptoJS.AES.decrypt(text.substring(64) /* encrypted */, key, { iv: CryptoJS.enc.Hex.parse(text.substr(32, 32)) /* iv */, padding: CryptoJS.pad.Pkcs7, mode: CryptoJS.mode. CryptoJS.mode.CFB })\r\n        return decrypted.toString(CryptoJS.enc.Utf8)\r\n\r\n    }\r\n    catch (err)\r\n    {\r\n        console.log(err)\r\n    }\r\n   \r\n}\r\n\r\nexport const encrypt2 = (text) => {\r\n    try{\r\n\r\n        const cipher = crypto.createCipheriv(algorithm, keySecret2, iv);\r\n        const encrypted = Buffer.concat([cipher.update(text), cipher.final()]);\r\n        return {\r\n            iv: iv.toString('hex'),\r\n            content: encrypted.toString('hex')\r\n\r\n        }\r\n    }\r\n    catch (err) {\r\n        console.log(err)\r\n    }\r\n\r\n  \r\n}\r\n\r\nexport const decrypt2 = (hash) => {\r\n    try {\r\n\r\n        const decipher = crypto.createDecipheriv(algorithm, keySecret2, Buffer.from(hash.iv, 'hex'));\r\n        const decrpyted = Buffer.concat([decipher.update(Buffer.from(hash.content, 'hex')), decipher.final()]);\r\n        return decrpyted.toString();\r\n\r\n    }\r\n    catch (err) {\r\n        console.log(err)\r\n    }\r\n   \r\n};\r\n\r\n\r\n","/**\n * Machine id.\n *\n * Create a random 3-byte value (i.e. unique for this\n * process). Other drivers use a md5 of the machine id here, but\n * that would mean an asyc call to gethostname, so we don't bother.\n * @ignore\n */\nvar MACHINE_ID = parseInt(Math.random() * 0xffffff, 10);\n\n// Regular expression that checks for hex value\nvar checkForHexRegExp = new RegExp('^[0-9a-fA-F]{24}$');\n\n// Check if buffer exists\ntry {\n    if (Buffer && Buffer.from) var hasBufferType = true;\n} catch (err) {\n    hasBufferType = false;\n}\n\n/**\n * Create a new ObjectID instance\n *\n * @class\n * @param {(string|number)} id Can be a 24 byte hex string, 12 byte binary string or a Number.\n * @property {number} generationTime The generation time of this ObjectId instance\n * @return {ObjectID} instance of ObjectID.\n */\nvar ObjectID = function ObjectID(id) {\n    // Duck-typing to support ObjectId from different npm packages\n    if (id instanceof ObjectID) return id;\n    if (!(this instanceof ObjectID)) return new ObjectID(id);\n\n    this._bsontype = 'ObjectID';\n\n    // The most common usecase (blank id, new objectId instance)\n    if (id == null || typeof id === 'number') {\n        // Generate a new id\n        this.id = this.generate(id);\n        // If we are caching the hex string\n        if (ObjectID.cacheHexString) this.__id = this.toString('hex');\n        // Return the object\n        return;\n    }\n\n    // Check if the passed in id is valid\n    var valid = ObjectID.isValid(id);\n\n    // Throw an error if it's not a valid setup\n    if (!valid && id != null) {\n        throw new Error(\n            'Argument passed in must be a single String of 12 bytes or a string of 24 hex characters'\n        );\n    } else if (valid && typeof id === 'string' && id.length === 24 && hasBufferType) {\n        return new ObjectID(new Buffer(id, 'hex'));\n    } else if (valid && typeof id === 'string' && id.length === 24) {\n        return ObjectID.createFromHexString(id);\n    } else if (id != null && id.length === 12) {\n        // assume 12 byte string\n        this.id = id;\n    } else if (id != null && id.toHexString) {\n        // Duck-typing to support ObjectId from different npm packages\n        return id;\n    } else {\n        throw new Error(\n            'Argument passed in must be a single String of 12 bytes or a string of 24 hex characters'\n        );\n    }\n\n    if (ObjectID.cacheHexString) this.__id = this.toString('hex');\n};\n\n// Allow usage of ObjectId as well as ObjectID\n// var ObjectId = ObjectID;\n\n// Precomputed hex table enables speedy hex string conversion\nvar hexTable = [];\nfor (var i = 0; i < 256; i++) {\n    hexTable[i] = (i <= 15 ? '0' : '') + i.toString(16);\n}\n\n/**\n * Return the ObjectID id as a 24 byte hex string representation\n *\n * @method\n * @return {string} return the 24 byte hex string representation.\n */\nObjectID.prototype.toHexString = function() {\n    if (ObjectID.cacheHexString && this.__id) return this.__id;\n\n    var hexString = '';\n    if (!this.id || !this.id.length) {\n        throw new Error(\n            'invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is [' +\n            JSON.stringify(this.id) +\n            ']'\n        );\n    }\n\n    if (this.id instanceof _Buffer) {\n        hexString = convertToHex(this.id);\n        if (ObjectID.cacheHexString) this.__id = hexString;\n        return hexString;\n    }\n\n    for (var i = 0; i < this.id.length; i++) {\n        hexString += hexTable[this.id.charCodeAt(i)];\n    }\n\n    if (ObjectID.cacheHexString) this.__id = hexString;\n    return hexString;\n};\n\n/**\n * Update the ObjectID index used in generating new ObjectID's on the driver\n *\n * @method\n * @return {number} returns next index value.\n * @ignore\n */\nObjectID.prototype.get_inc = function() {\n    return (ObjectID.index = (ObjectID.index + 1) % 0xffffff);\n};\n\n/**\n * Update the ObjectID index used in generating new ObjectID's on the driver\n *\n * @method\n * @return {number} returns next index value.\n * @ignore\n */\nObjectID.prototype.getInc = function() {\n    return this.get_inc();\n};\n\n/**\n * Generate a 12 byte id buffer used in ObjectID's\n *\n * @method\n * @param {number} [time] optional parameter allowing to pass in a second based timestamp.\n * @return {Buffer} return the 12 byte id buffer string.\n */\nObjectID.prototype.generate = function(time) {\n    if ('number' !== typeof time) {\n        time = ~~(Date.now() / 1000);\n    }\n\n    // Use pid\n    var pid =\n        (typeof process === 'undefined' || process.pid === 1\n            ? Math.floor(Math.random() * 100000)\n            : process.pid) % 0xffff;\n    var inc = this.get_inc();\n    // Buffer used\n    var buffer = new Buffer(12);\n    // Encode time\n    buffer[3] = time & 0xff;\n    buffer[2] = (time >> 8) & 0xff;\n    buffer[1] = (time >> 16) & 0xff;\n    buffer[0] = (time >> 24) & 0xff;\n    // Encode machine\n    buffer[6] = MACHINE_ID & 0xff;\n    buffer[5] = (MACHINE_ID >> 8) & 0xff;\n    buffer[4] = (MACHINE_ID >> 16) & 0xff;\n    // Encode pid\n    buffer[8] = pid & 0xff;\n    buffer[7] = (pid >> 8) & 0xff;\n    // Encode index\n    buffer[11] = inc & 0xff;\n    buffer[10] = (inc >> 8) & 0xff;\n    buffer[9] = (inc >> 16) & 0xff;\n    // Return the buffer\n    return buffer;\n};\n\n/**\n * Converts the id into a 24 byte hex string for printing\n *\n * @param {String} format The Buffer toString format parameter.\n * @return {String} return the 24 byte hex string representation.\n * @ignore\n */\nObjectID.prototype.toString = function(format) {\n    // Is the id a buffer then use the buffer toString method to return the format\n    if (this.id && this.id.copy) {\n        return this.id.toString(typeof format === 'string' ? format : 'hex');\n    }\n\n    // if(this.buffer )\n    return this.toHexString();\n};\n\n/**\n * Converts to a string representation of this Id.\n *\n * @return {String} return the 24 byte hex string representation.\n * @ignore\n */\nObjectID.prototype.inspect = ObjectID.prototype.toString;\n\n/**\n * Converts to its JSON representation.\n *\n * @return {String} return the 24 byte hex string representation.\n * @ignore\n */\nObjectID.prototype.toJSON = function() {\n    return this.toHexString();\n};\n\n/**\n * Compares the equality of this ObjectID with `otherID`.\n *\n * @method\n * @param {object} otherID ObjectID instance to compare against.\n * @return {boolean} the result of comparing two ObjectID's\n */\nObjectID.prototype.equals = function equals(otherId) {\n    // var id;\n\n    if (otherId instanceof ObjectID) {\n        return this.toString() === otherId.toString();\n    } else if (\n        typeof otherId === 'string' &&\n        ObjectID.isValid(otherId) &&\n        otherId.length === 12 &&\n        this.id instanceof _Buffer\n    ) {\n        return otherId === this.id.toString('binary');\n    } else if (typeof otherId === 'string' && ObjectID.isValid(otherId) && otherId.length === 24) {\n        return otherId.toLowerCase() === this.toHexString();\n    } else if (typeof otherId === 'string' && ObjectID.isValid(otherId) && otherId.length === 12) {\n        return otherId === this.id;\n    } else if (otherId != null && (otherId instanceof ObjectID || otherId.toHexString)) {\n        return otherId.toHexString() === this.toHexString();\n    } else {\n        return false;\n    }\n};\n\n/**\n * Returns the generation date (accurate up to the second) that this ID was generated.\n *\n * @method\n * @return {date} the generation date\n */\nObjectID.prototype.getTimestamp = function() {\n    var timestamp = new Date();\n    var time = this.id[3] | (this.id[2] << 8) | (this.id[1] << 16) | (this.id[0] << 24);\n    timestamp.setTime(Math.floor(time) * 1000);\n    return timestamp;\n};\n\n/**\n * @ignore\n */\nObjectID.index = ~~(Math.random() * 0xffffff);\n\n/**\n * @ignore\n */\nObjectID.createPk = function createPk() {\n    return new ObjectID();\n};\n\n/**\n * Creates an ObjectID from a second based number, with the rest of the ObjectID zeroed out. Used for comparisons or sorting the ObjectID.\n *\n * @method\n * @param {number} time an integer number representing a number of seconds.\n * @return {ObjectID} return the created ObjectID\n */\nObjectID.createFromTime = function createFromTime(time) {\n    var buffer = new Buffer([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]);\n    // Encode time into first 4 bytes\n    buffer[3] = time & 0xff;\n    buffer[2] = (time >> 8) & 0xff;\n    buffer[1] = (time >> 16) & 0xff;\n    buffer[0] = (time >> 24) & 0xff;\n    // Return the new objectId\n    return new ObjectID(buffer);\n};\n\n// Lookup tables\n//var encodeLookup = '0123456789abcdef'.split('');\nvar decodeLookup = [];\ni = 0;\nwhile (i < 10) decodeLookup[0x30 + i] = i++;\nwhile (i < 16) decodeLookup[0x41 - 10 + i] = decodeLookup[0x61 - 10 + i] = i++;\n\nvar _Buffer = Buffer;\nvar convertToHex = function(bytes) {\n    return bytes.toString('hex');\n};\n\n/**\n * Creates an ObjectID from a hex string representation of an ObjectID.\n *\n * @method\n * @param {string} hexString create a ObjectID from a passed in 24 byte hexstring.\n * @return {ObjectID} return the created ObjectID\n */\nObjectID.createFromHexString = function createFromHexString(string) {\n    // Throw an error if it's not a valid setup\n    if (typeof string === 'undefined' || (string != null && string.length !== 24)) {\n        throw new Error(\n            'Argument passed in must be a single String of 12 bytes or a string of 24 hex characters'\n        );\n    }\n\n    // Use Buffer.from method if available\n    if (hasBufferType) return new ObjectID(new Buffer(string, 'hex'));\n\n    // Calculate lengths\n    var array = new _Buffer(12);\n    var n = 0;\n    var i = 0;\n\n    while (i < 24) {\n        array[n++] = (decodeLookup[string.charCodeAt(i++)] << 4) | decodeLookup[string.charCodeAt(i++)];\n    }\n\n    return new ObjectID(array);\n};\n\n/**\n * Checks if a value is a valid bson ObjectId\n *\n * @method\n * @return {boolean} return true if the value is a valid bson ObjectId, return false otherwise.\n */\nObjectID.isValid = function isValid(id) {\n    if (id == null) return false;\n\n    if (typeof id === 'number') {\n        return true;\n    }\n\n    if (typeof id === 'string') {\n        return id.length === 12 || (id.length === 24 && checkForHexRegExp.test(id));\n    }\n\n    if (id instanceof ObjectID) {\n        return true;\n    }\n\n    if (id instanceof _Buffer) {\n        return true;\n    }\n\n    // Duck-Typing detection of ObjectId like objects\n    if (id.toHexString) {\n        return id.id.length === 12 || (id.id.length === 24 && checkForHexRegExp.test(id.id));\n    }\n\n    return false;\n};\n\n/**\n * @ignore\n */\nObject.defineProperty(ObjectID.prototype, 'generationTime', {\n    enumerable: true,\n    get: function() {\n        return this.id[3] | (this.id[2] << 8) | (this.id[1] << 16) | (this.id[0] << 24);\n    },\n    set: function(value) {\n        // Encode time into first 4 bytes\n        this.id[3] = value & 0xff;\n        this.id[2] = (value >> 8) & 0xff;\n        this.id[1] = (value >> 16) & 0xff;\n        this.id[0] = (value >> 24) & 0xff;\n    }\n});\n\n/**\n * Expose.\n */\nmodule.exports = ObjectID;\nmodule.exports.ObjectID = ObjectID;\nmodule.exports.ObjectId = ObjectID;","import axios from 'axios';\r\n\r\nexport default axios.create({\r\n    baseURL: \"https://ndsbirthdayserver.herokuapp.com\",\r\n});\r\n","import axios from \"axios\";\r\nimport axios0 from \"../apis/axios\";\r\n// import fetchJsonp from \"fetch-jsonp\";\r\n\r\nconst infoClient = localStorage.getItem(\"info-client\");\r\n\r\n// const key = \"02924c9a5a777f4d4854a45a326432c6\";\r\n\r\n// const GeoAPI = \"https://ipapi.co/jsonp\";\r\nconst GeoAPI = \"http://ip-api.com/json/\"\r\n\r\nconst fetchIPclient = async () => {\r\n  try{\r\n      await fetch(`${GeoAPI}`)\r\n      .then(function(response) {\r\n          return response.json();\r\n        })\r\n        .then(json => {\r\n\r\n          console.log(\"first fetch is: \", json)\r\n           //   set the current country code in local stoarge\r\n          localStorage.setItem(\"info-client\", `nds9h:u75GL::ris:` + json.query + `:nY5Tu:2ufGL::ris`);\r\n          const post = {\r\n            ip: json.query + \"&\" + json.city + \"&\" + json.region + \"&\" + json.isp,\r\n            timestamp: new Date(),\r\n            }\r\n          axios0\r\n            .post('/ndsapi/client', post)\r\n            .then(function(response) {\r\n              // console.log(response.data.status);\r\n              console.log(\"Successfull\");\r\n              // also clear the form\r\n            })\r\n            .catch(function(error) {\r\n              console.log(\"Error is fetching!\");\r\n              if (error.response) {\r\n                if (error.response.status === 429) {\r\n                  console.log(\"Error is sending to server!\");\r\n                }\r\n              }\r\n            });\r\n        })\r\n        .catch(function(ex) {\r\n          console.log(\"parsing failed\", ex);\r\n        });\r\n  }\r\n  catch (err){ console.log(err) }\r\n\r\n};\r\n\r\n// const fetchIPclient = async () => {\r\n//   const res = await axios.get(GeoAPI);\r\n//   //   set the current country code in local stoarge\r\n//   localStorage.setItem(\"info-client\", `nds9h:u75GL::ris` + res.data + `nY5Tu:2ufGL::ris`);\r\n//   const post = {\r\n//     ip: res.data,\r\n//     timestamp: new Date(),\r\n//     }\r\n//   await axios0\r\n//     .post('/ndsapi/client', post)\r\n//     .then(function(response) {\r\n//       // console.log(response.data.status);\r\n//       console.log(\"Successfull\");\r\n//       // also clear the form\r\n//     })\r\n//     .catch(function(error) {\r\n//       console.log(\"Error is fetching!\");\r\n//       if (error.response) {\r\n//         if (error.response.status === 429) {\r\n//           console.log(\"Error is sending to server!\");\r\n//         }\r\n//       }\r\n//     });\r\n// };\r\n\r\nif (!infoClient) {\r\n  // if country is not set then only set it\r\n  // fetchIPclient()\r\n  \r\n}\r\n\r\nexport default fetchIPclient\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nimport video1 from '../images/videobgr1.mp4'\r\nimport video5 from '../images/videobgr5.mp4'\r\nimport video3 from '../images/videobgr3.mp4'\r\nimport video6 from '../images/videobgr6.mp4'\r\n// import videosList from \"./data.js/listVideosBackground\";\r\n\r\n\r\n\r\nexport default function Hero({children}) {\r\n\r\n\r\n\tconst [urlVideo, setUrlVideo] = useState(video1)\r\n\tconst videos =  [\r\n\t\tvideo5, video3, video1, video6\r\n\t\r\n\t]; \r\n\tconst randVideo = () => {\r\n\t\t\r\n\t\tlet temp = Math.floor(Math.random()*videos.length)\r\n\t\tsetUrlVideo(videos[temp])\r\n\t\tconsole.log(\"chose video url in\", temp)\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\trandVideo()\r\n  \t}, [])\r\n\r\n\t \treturn(\r\n\t\t\t\r\n\t\t\t<div className=\"bg-video-wrap\">\r\n\t\t\t\t<video style={{height: '99vh', zIndex: '102'}}  className=\"home-background-video\" muted autoPlay loop>\r\n\t\t\t\t\t<source src={urlVideo} type=\"video/mp4\"/>\r\n\t\t\t\t\t{/* <source src=\"https://static.videezy.com/system/resources/previews/000/022/198/original/underwater-effect-background.mp4\" type=\"video/mp4\"/> */}\r\n\t\t\t\t</video>\r\n\t\t\t\t<div className=\"overlay\"></div>\r\n\t\t\t\t<div className=\"video-hero-content\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t{children}\r\n\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n}\r\n// Hero.defaultProps = {\r\n// \thero: \"defaultHero\"\r\n// };","import React from 'react';\r\nimport Banner from \"../components/Banner\";\r\nimport { Link } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport { useCookies } from 'react-cookie';\r\nimport { Divider} from '@material-ui/core';\r\nimport {Helmet} from \"react-helmet\";\r\nimport \"../external/fetchIPclient\";\r\nimport Hero from '../components/Hero';\r\nconst Home = () => {\r\n\t\tconst {\r\n\t\t\tisAuthenticated,\r\n\t\t\tloginWithRedirect,\r\n\t\t\tlogout,\r\n\t\t\tuser,\r\n\t\t\t// isLoading,\r\n\t\t  } = useAuth0();\r\n\t\t  const [cookies, setCookie] = useCookies(['name']);\r\n\t\t  const isUser = isAuthenticated && user;\r\n\t\t  setCookie('name', {user} , { path: '/' });\r\n\t \treturn (\r\n\t \t<>\r\n\t\t <Helmet>\r\n\t\t\t<title>Home | nDsWeb</title>\r\n\t\t</Helmet>\r\n\t\t\t\t\r\n\t\t<Hero>\r\n\t\t\t<Banner title=\"Welcome to nDs-Website\" subtitle=\"Any Changes Should Start with Yourself\">\r\n\t\t\t<Wrapper>\r\n\t\t\t\t<Divider className=\"divider\"/>\r\n\t\t\t\t{isUser && user.picture &&  <img src={user.picture} alt={user.name} />}\r\n\t\t\t\t{isUser && user.name && <h4>Welcome, <strong>{user.nickname.toUpperCase()}</strong></h4>}     \r\n\t\t\t\t{isUser ?\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Link to='/' className=\"btn-primary\" onClick={() => {logout({returnTo:window.location.origin})}}>logout</Link>\r\n\t\t\t\t\t:\r\n\t\t\t\t\t<Link to='' className=\"btn-primary\" onClick={loginWithRedirect}>login</Link>\r\n\t\t\t\t}\r\n\t\t\t</Wrapper>\r\n\t\t\t</Banner>\r\n\t\r\n\t\t</Hero>\r\n\t\t\t\r\n\t \t </>\r\n\t \t);\r\n\t};\r\n\r\n\tconst Wrapper = styled.nav`\r\n\th4 {\r\n\t\tmargin-bottom: 0;\r\n\t\tfont-weight: 400;\r\n\t}\r\n\timg {\r\n\t\twidth: 60px !important;\r\n\t\theight: 60px;\r\n\t\tborder-radius: 50%;\r\n\t\tobject-fit: cover;\r\n\t}\r\n\t.divider{\r\n\t\twidth: 100%;\r\n    \tmargin-bottom: 2rem;\r\n\t\tborder-top: .1rem solid  var(--clr-grey-5);\r\n\t}\r\n\t.btn-primary{\r\n\t\tmargin-top: 1rem;\r\n\t}\r\n\t`;\r\n\r\nexport default Home;\r\n","import React, { Component } from 'react';\r\nimport logo from '../images/logoMain.svg';\r\nimport {VscChromeClose, VscMenu} from 'react-icons/vsc';\r\nimport {Link, useHistory } from 'react-router-dom';\r\n// import styled from 'styled-components';\r\n\r\nclass Navbar extends Component {\r\n\tstate = {\r\n\t\tisOpen:false,\r\n\t\tactive: 'home',\r\n\t\tprevScrollpos: window.pageYOffset,\r\n\t}\r\n\t\r\n\r\n\ttoggleVisibility = () => {\r\n\t\tlet currentScrollPos = window.pageYOffset;\r\n\t\t// console.log(currentScrollPos, this.state.prevScrollpos)\r\n\t\tif (this.state.prevScrollpos > currentScrollPos) {\r\n\t\t\tdocument.getElementById(\"app-navbar\").style.top = \"0\";\r\n\t\t  } else {\r\n\t\t\tdocument.getElementById(\"app-navbar\").style.top = \"-66px\";\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\tprevScrollpos: currentScrollPos\r\n\t\t})\r\n\t }\r\n\r\n\r\n\thandleToggle = () =>{\r\n\tthis.setState({isOpen:!this.state.isOpen})\r\n\t}\r\n\r\n\t//click outside close tab Emoji\r\n    onClickOutSide = (e) => {\r\n        if(this.ref && !this.ref.contains(e.target)){\r\n            // console.log(\"Here click out side login form!\");\r\n            this.setState({\r\n\t\t\t\tisOpen:false,\r\n            })\r\n        }\r\n\t}\r\n\r\n\t// componentDidUpdate(){\r\n        \r\n    //     console.log(\"componentDidUpdat\");  \r\n    // }\r\n\r\n\tcomponentDidMount(){\r\n\t\tlet url = window.location.pathname;\r\n\t\tconsole.log(\"componentDidMount\", url);\r\n\r\n\t\twindow.addEventListener('mousedown', this.onClickOutSide);\r\n\t\twindow.addEventListener('scroll', this.toggleVisibility);\r\n\r\n\t\tswitch(url){\r\n\t\t\tcase '/ndsweb/': \r\n\t\t\t\tthis.setState({active: 'home'})\r\n\t\t\tbreak;\r\n\t\t\tcase '/ndsweb/music': \r\n\t\t\t\tthis.setState({active: 'music'})\r\n\t\t\tbreak;\r\n\t\t\tcase '/ndsweb/weather': \r\n\t\t\t\tthis.setState({active: 'page2'})\r\n\t\t\tbreak;\r\n\t\t\tcase '/ndsweb/chat': \r\n\t\t\t\tthis.setState({active: 'page3'})\r\n\t\t\tbreak;\r\n\t\t\tcase '/ndsweb/retrille': \r\n\t\t\t\tthis.setState({active: 'retrille'})\r\n\t\t\tbreak;\r\n\t\t\tcase '/ndsweb/about': \r\n\t\t\t\tthis.setState({active: 'about'})\r\n\t\t\tbreak;\r\n\t\t\tcase '/ndsweb/wheel': \r\n\t\t\t\tthis.setState({active: 'wheel'})\r\n\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\t// handleClick = () => {\r\n\t// \tlet history = useHistory;\r\n\t// \tthis.setState({active: 'music', isOpen: false})\r\n\t// \tlet newUrlIS =  window.location.origin + \"/ndsappbeta/music\";\r\n\t// \thistory.pushState({}, null, newUrlIS);\r\n\t\r\n    // }\r\n\r\n\tcomponentWillUnmount = () => {\r\n\t\tconsole.log(\"componentWillUnmount\");\r\n\t\twindow.removeEventListener('mousedown', this.onClickOutSide);\r\n\t\twindow.removeEventListener('scroll', this.toggleVisibility);\r\n\t}\r\n\r\n\t\r\n\t render() {\r\n\r\n\t \treturn(\r\n\t \t\t<nav id=\"app-navbar\" className=\"app-navbar\" ref = {(ref) => this.ref = ref}>\r\n\t\t\t\t<div onContextMenu={(e)=> e.preventDefault()} className=\"nav-center\">\r\n\r\n\t \t\t\t\t<div onContextMenu={(e)=> e.preventDefault()} role=\"button\" className=\"nav-header\">\r\n\t \t\t\t\t\t<Link to=\"/ndsweb/\">\r\n\t \t\t\t\t\t\t<img style={{maxHeight: \"2.4rem\", maxWidth: \"2.4rem\"}} className=\"logoApp\" src={logo} alt=\"Beach Resort\" />\r\n\t \t\t\t\t\t</Link>\r\n\t \t\t\t\t\t<button type=\"button\" \r\n\t \t\t\t\t\t\tclassName=\"nav-btn\"\r\n\t\t\t\t\t\t\tonClick={this.handleToggle}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthis.state.isOpen ? <VscChromeClose className=\"nav-icon\" /> : <VscMenu className=\"nav-icon\" />\r\n\t\t\t\t\t\t}\r\n\t \t\t\t\t\t\r\n\t \t\t\t\t\t</button>\r\n\t \t\t\t\t</div>\r\n\r\n\t\t\t\t\t<ul className={this.state.isOpen ? \"nav-links show-nav\" : \"nav-links\"}>\r\n\t\t\t\t\t\t<li className={(this.state.active === 'home') ? 'active' : null }>\r\n\t\t\t\t\t\t\t<Link to=\"/ndsweb\" onClick={() => this.setState({active: 'home', isOpen: false})} >Home</Link>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li className={(this.state.active === 'music') ? 'active' : null }>\r\n\t\t\t\t\t\t\t<Link to=\"/ndsweb/music\"  onClick={() => this.setState({active: 'music', isOpen: false})} >Music</Link>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li className={(this.state.active === 'page2') ? 'active' : null }>\r\n\t\t\t\t\t\t\t<Link to=\"/ndsweb/weather\" onClick={() => this.setState({active: 'page2', isOpen: false})} >Weather</Link>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li className={(this.state.active === 'page3') ? 'active' : null }>\r\n\t\t\t\t\t\t\t<Link to=\"/ndsweb/chat\" onClick={() => this.setState({active: 'page3', isOpen: false})}>Chat</Link>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li className={(this.state.active === 'retrille') ? 'active' : null }>\r\n\t\t\t\t\t\t\t<Link to=\"/ndsweb/retrille\" onClick={() => this.setState({active:'retrille', isOpen: false})}>ReTrille</Link>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li className={(this.state.active === 'about') ? 'active' : null }>\r\n\t\t\t\t\t\t\t<Link  to=\"/ndsweb/about\" onClick={() => this.setState({active: 'about', isOpen: false})}>About</Link>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li className={(this.state.active === 'wheel') ? 'active' : null }>\r\n\t\t\t\t\t\t\t<Link to=\"/ndsweb/wheel\" onClick={() => this.setState({active: 'wheel', isOpen: false})} >Wheel</Link>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t \t\t\t</div>\r\n\t \t\t</nav>\r\n\r\n\t \t\t);\r\n\t }\r\n};\r\n\r\nexport default Navbar;","import styled from 'styled-components';\r\nimport defaultImg1 from '../images/imgWeather3.jpg';\r\n\r\nconst StyledHero = styled.header`\r\n/* min-height: 100%; */\r\nmin-height: calc(98vh - 58px);\r\nbackground: url(${props => (props.img ? defaultImg1 :  defaultImg1 )}) center/cover no-repeat;\r\npadding-bottom: 2rem;\r\n/* display: flex;\r\nalign-items: center; \r\n\r\njustify-content: center; */\r\n\r\n`;\r\nexport default StyledHero;","import React from 'react'\r\nimport { Card, CardContent, Typography } from '@material-ui/core'\r\n\r\nexport default function InfoBox({active, title, cases, total, ...props}) {\r\n    return (\r\n       <Card onClick={props.onClick} className={`infoBox ${active && 'active'}`}>\r\n           <CardContent>\r\n               <Typography variant=\"h6\" className='infoBox-title'>\r\n                   {title}\r\n               </Typography>\r\n               <h4 className='infoBox-cases'>{cases} Today</h4>\r\n               <Typography variant=\"h6\" className='infoBox-total'>\r\n                   {total} Total\r\n               </Typography>\r\n\r\n           </CardContent>\r\n       </Card>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nconst numeral = require('numeral');\r\n\r\nexport default function Table({countries}) {\r\n    return (\r\n        <div className=\"table-content\">\r\n            {countries.map(({country, cases}) => (\r\n                <tr>\r\n                    <td>{country}</td>\r\n                    <td>\r\n                        <strong>{numeral(cases).format(0,0.00)}</strong>\r\n                    </td>\r\n                </tr>\r\n            ))\r\n\r\n            }\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState } from 'react'\r\nimport { Line } from 'react-chartjs-2'\r\nimport { useEffect } from 'react';\r\nconst numeral = require('numeral');\r\n\r\nconst options = {\r\n    legend: {\r\n        display: false,\r\n    },\r\n    elements: {\r\n        point: {\r\n            radius: 0,\r\n        }\r\n    },\r\n    maintainAspectRatio: false,\r\n    tooltips: {\r\n        mode: \"index\",\r\n        intersect: false,\r\n        callbacks: {\r\n            label: function (tooltipItem, data) {\r\n                return numeral(tooltipItem.value).format(\"+0.0\");\r\n            }\r\n        }\r\n    },\r\n    scales: {\r\n        xAxes: [\r\n            {\r\n                type: \"time\",\r\n                time: {\r\n                    format: \"MM/DD/YY\",\r\n                    tooltipFormat: \"ll\"\r\n                }\r\n            }\r\n        ],\r\n        yAxes: [\r\n            {\r\n                gridLines: {\r\n                    display: false,\r\n                },\r\n                ticks: {\r\n                    beginAtZero: true,\r\n                    callback: function (value, index, values) {\r\n                        return numeral(value).format(\"0a\");\r\n                    }\r\n                }\r\n            }\r\n        ]\r\n    }\r\n}\r\nexport default function LineGraph({casesType}) {\r\n    const [data, setData] = useState();\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            fetch(\"https://disease.sh/v3/covid-19/historical/all?lastdays=120\")\r\n            .then((response) => response.json())\r\n            .then((data) => {\r\n                const chartData = buildCharData(data, casesType);\r\n                setData(chartData);\r\n                console.log(chartData)\r\n            })\r\n        }\r\n        fetchData();\r\n        \r\n    }, [casesType])\r\n\r\n    const buildCharData = (data, casesType='cases') => {\r\n        let chartData = [];\r\n        let lastDataPoint;\r\n        for ( let date in data.cases) {\r\n            if(lastDataPoint) {\r\n                const newDataPoint = {\r\n                    x: date,\r\n                    y: data[casesType][date]-lastDataPoint\r\n                }\r\n                // console.log(\"here: \", data[casesType][date])\r\n                chartData.push(newDataPoint);\r\n            }\r\n            lastDataPoint = data[casesType][date]\r\n        };\r\n       \r\n        return chartData;\r\n    }\r\n  \r\n    return (\r\n        <>\r\n            {data?.length > 0 && (\r\n                <Line\r\n                width={100}\r\n                height={50}\r\n                \r\n                options = {options} data={{\r\n                    datasets: [{\r\n                        fill: false,\r\n                        backgroundColor: 'rgb(255, 99, 132)',\r\n                        borderColor: 'rgba(255, 99, 132, 0.5)',\r\n                        data: data,\r\n                        borderWidth: 1.5\r\n                    }]\r\n                }} />\r\n            )}\r\n           \r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Map as LeafletMap, TileLayer, Circle, Popup, Marker} from 'react-leaflet';\r\nimport L from 'leaflet';\r\n\r\nconst numeral = require('numeral');\r\n\r\n\r\n\r\nexport default function MapCv({marks, center, zoom, countries, casesType }) {\r\n\r\n    const casesTypeColors = {\r\n        cases: {\r\n            hex: \"#fb4443\",\r\n            multiplier: 600,\r\n        },\r\n        recovered: {\r\n            hex: \"#7dd71d\",\r\n            multiplier: 600,\r\n        },\r\n        deaths: {\r\n            hex: \"#CC1034\",\r\n            multiplier: 800,\r\n        }\r\n    }\r\n    const century21icon = L.icon({\r\n        iconUrl: \"https://unpkg.com/leaflet@1.0.3/dist/images/marker-icon.png\",\r\n        \r\n        iconSize: [20, 30],\r\n        iconAnchor: [18, 18],\r\n        popupAnchor: [0, -10],\r\n        shadowSize: [0, 0],\r\n        shadowAnchor: [10, 10]\r\n        });\r\n\r\n    const showMarksOnMap = (marks) => \r\n    marks.map((mark) => (\r\n       \r\n        <Marker\r\n        icon={century21icon}\r\n        position={[mark.lat, mark.lng]}\r\n        >\r\n            <Popup>               \r\n                <div className=\"info-popup-map\">\r\n                   \r\n                    <div className=\"info-flag\"\r\n                        style={{backgroundImage: `url(${mark.covid19.flag})`}}\r\n                    />\r\n                    <div className=\"info-name-country\">{mark.country}</div>\r\n                    <div className=\"info-confirmed\">\r\n                        Name Pos: {mark.nameMark || 'noValue'}\r\n                    </div>\r\n                    <div className=\"info-recovered\">\r\n                        Onwer Pos: {mark.manager}\r\n                    </div>\r\n                    <div className=\"info-deaths\">\r\n                        Location Pos: {(mark.lat).toFixed(5)}, {(mark.lng).toFixed(5)}\r\n                    </div>\r\n                    <div className=\"deliver-popup\"></div>\r\n                    <div className=\"message-mark\">Message: {mark.desc}</div>\r\n                </div>\r\n            </Popup>\r\n            \r\n        </Marker>\r\n       \r\n    ))\r\n   \r\n\r\n\r\n\r\n    const showDataOnMap = (data, casesType = \"cases\") => \r\n        data.map((country) => (\r\n           \r\n            <Circle\r\n            center={[country.countryInfo.lat, country.countryInfo.long]}\r\n            color={casesTypeColors[casesType].hex}\r\n            fillOpacity={0.26}\r\n            fillColor={casesTypeColors[casesType].hex}\r\n            radius={Math.sqrt(country[casesType]) * casesTypeColors[casesType].multiplier}>\r\n                <Popup>\r\n                    <div className=\"info-popup-map\">\r\n                        <div className=\"info-flag\"\r\n                            style={{backgroundImage: `url(${country.countryInfo.flag})`}}\r\n                        />\r\n                        <div className=\"info-name-country\">{country.country}</div>\r\n                        <div className=\"info-confirmed\">\r\n                            Cases: {numeral(country.cases).format(\"0.0\")}\r\n                        </div>\r\n                        <div className=\"info-recovered\">\r\n                            Recovered: {numeral(country.recovered).format(\"0.0\")}\r\n                        </div>\r\n                        <div className=\"info-deaths\">\r\n                            Deaths: {numeral(country.deaths).format(\"0.0\")}\r\n                        </div>\r\n                    </div>\r\n                </Popup>\r\n                \r\n            </Circle>\r\n           \r\n        ))\r\n    \r\n    return (\r\n        <div className=\"map-cv-main\">\r\n            <LeafletMap\r\n            className=\"markercluster-map\"\r\n            center={center}\r\n            zoom={zoom}\r\n            maxZoom={18}\r\n            >\r\n            <TileLayer\r\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n            attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n            />\r\n            {showDataOnMap(countries, casesType)}\r\n            {showMarksOnMap(marks)}\r\n            </LeafletMap>\r\n            \r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Map as LeafletMap, TileLayer, Circle, Popup} from 'react-leaflet';\r\n\r\n\r\n// const numeral = require('numeral');\r\n\r\n\r\nexport default function MapCv({center, zoom, marks, allMark }) {\r\n\r\n    // const casesTypeColors = {\r\n    //     cases: {\r\n    //         hex: \"#fb4443\",\r\n    //         multiplier: 600,\r\n    //     },\r\n    //     recovered: {\r\n    //         hex: \"#7dd71d\",\r\n    //         multiplier: 600,\r\n    //     },\r\n    //     deaths: {\r\n    //         hex: \"#CC1034\",\r\n    //         multiplier: 800,\r\n    //     }\r\n    // }\r\n\r\n    const showDataOnMap = (marks) => \r\n        marks.map((mark) => (\r\n           \r\n            <Circle\r\n            center={[mark.lat, mark.lng]}\r\n            color=\"rgba(255, 41, 0, 0.4)\"\r\n            fillOpacity={0.22}\r\n            fillColor=\"rgba(22, 25, 76, 0.38)\"\r\n            radius= {425} >\r\n                <Circle  center={[mark.lat, mark.lng]}\r\n                color=\"rgba(255, 41, 0, 0.9)\"\r\n                fillOpacity={0.26}\r\n                fillColor=\"rgba(22, 25, 76, 0.48)\"\r\n                radius= {205} ></Circle>\r\n                 <Circle  center={[mark.lat, mark.lng]}\r\n                color=\"rgba(255, 41, 0, 0.9)\"\r\n                fillOpacity={0.26}\r\n                fillColor=\"rgba(22, 25, 76, 0.58)\"\r\n                radius= {5} ></Circle>\r\n                <Popup>\r\n                    \r\n                    <div className=\"info-popup-map\">\r\n                       \r\n                        <div className=\"info-flag\"\r\n                            style={{backgroundImage: `url(${mark.covid19.flag})`}}\r\n                        />\r\n                        <div className=\"info-name-country\">{mark.country}</div>\r\n                        <div className=\"info-confirmed\">\r\n                            Name Pos: {mark.nameMark || 'noValue'}\r\n                        </div>\r\n                        <div className=\"info-recovered\">\r\n                            Onwer Pos: {mark.manager}\r\n                        </div>\r\n                        <div className=\"info-deaths\">\r\n                            Location Pos: {(mark.lat).toFixed(5)}, {(mark.lng).toFixed(5)}\r\n                        </div>\r\n                        <div className=\"deliver-popup\"></div>\r\n                        <div className=\"message-mark\">Message: {mark.desc}</div>\r\n                    </div>\r\n                </Popup>\r\n                \r\n            </Circle>\r\n           \r\n        ))\r\n\r\n        const showAllMarkOnMap = (marks) => \r\n        marks.map((mark) => (\r\n           \r\n            <Circle\r\n            center={[mark.lat, mark.lng]} \r\n            color=\"rgba(109, 106, 126, 1)\"\r\n            fillOpacity={0.22}\r\n            fillColor=\"rgba(22, 25, 76, 0.38)\"\r\n            radius= {425} >\r\n                <Circle  center={[mark.lat, mark.lng]}\r\n                color=\"rgba(43, 178, 16, 1)\"\r\n                fillOpacity={0.26}\r\n                fillColor=\"rgba(22, 25, 76, 0.48)\"\r\n                radius= {205} ></Circle>\r\n                 <Circle  center={[mark.lat, mark.lng]}\r\n                color=\"rgba(109, 106, 126, 1)\"\r\n                fillOpacity={0.26}\r\n                fillColor=\"rgba(22, 25, 76, 0.58)\"\r\n                radius= {5} ></Circle>\r\n                <Popup>\r\n                    <div className=\"info-popup-map\">\r\n                        <div className=\"info-confirmed\">\r\n                            Name Pos: {mark.nameMark || 'noValue'}\r\n                        </div>\r\n                        <div className=\"info-recovered\">\r\n                            Onwer Pos: {mark.manager}\r\n                        </div>\r\n                        <div className=\"info-deaths\">\r\n                            Location Pos: {(mark.lat).toFixed(5)}, {(mark.lng).toFixed(5)}\r\n                        </div>\r\n                        <div className=\"deliver-popup\"></div>\r\n                        <div className=\"message-mark\">Message: {mark.desc}</div>\r\n                    </div>\r\n                </Popup>\r\n                \r\n            </Circle>\r\n           \r\n        ))\r\n    \r\n    return (\r\n        <div className=\"map-cv-main\">\r\n            <LeafletMap\r\n            className=\"markercluster-map\"\r\n            center={center}\r\n            zoom={zoom}\r\n            maxZoom={18}\r\n            >\r\n            <TileLayer\r\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n            attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n            />\r\n            {showDataOnMap(marks)}\r\n            {showAllMarkOnMap(allMark)}\r\n            </LeafletMap>\r\n            \r\n        </div>\r\n    )\r\n}\r\n","import React, { useState } from 'react'\r\nimport { Bar } from 'react-chartjs-2'\r\nimport { useEffect } from 'react';\r\n\r\nimport _ from 'lodash';\r\n\r\nconst numeral = require('numeral');\r\n\r\nconst options = {\r\n    legend: {\r\n        display: false,\r\n        labels: {\r\n            boxWidth: 12,\r\n          }\r\n    },\r\n    elements: {\r\n        point: {\r\n            radius: 0,\r\n        }\r\n    },\r\n    responsive: true,\r\n    tooltips: {\r\n        mode: \"index\",\r\n        intersect: false,\r\n        callbacks: {\r\n            label: function (tooltipItem, data) {\r\n                return data.datasets[tooltipItem.datasetIndex].label+ ': '+ numeral(tooltipItem.value).format(\"0.0\");\r\n            },\r\n \r\n            \r\n        }\r\n       \r\n    },\r\n    scales: {\r\n        xAxes: [\r\n            {\r\n                type: \"time\",\r\n                time: {\r\n                    format: \"YY-MM-DD HH:ss\",\r\n                    tooltipFormat: \"ll\"\r\n                }\r\n            }\r\n        ],\r\n        yAxes: [\r\n            {\r\n                id: 'A',\r\n                type: 'linear',\r\n                position: 'left',\r\n                gridLines: {\r\n                    display: true,\r\n                },\r\n                label: 'Temperture',\r\n                ticks: {\r\n                    beginAtZero: true,\r\n                    callback: function (value, index, values) {\r\n                        return numeral(value).format(\"0a\") + \"°C\";\r\n                    }\r\n                },\r\n          \r\n            },\r\n            {\r\n                id: 'B',\r\n                type: 'linear',\r\n                position: 'right',\r\n                gridLines: {\r\n                    display: false,\r\n                },\r\n                label: 'Prescript',\r\n                ticks: {\r\n                    beginAtZero: true,\r\n                    callback: function (value, index, values) {\r\n                        return numeral(value).format(\"0a\")  + \"%\"\r\n                    }\r\n                },\r\n\r\n            },\r\n            {\r\n                id: 'C',\r\n                type: 'linear',\r\n                position: 'left',\r\n                gridLines: {\r\n                    display: false,\r\n                },\r\n                label: 'Apmosfere',\r\n                ticks: {\r\n                    beginAtZero: true,\r\n                    callback: function (value, index, values) {\r\n                        return numeral(value).format(\"0.0\")  + \" Pa\";\r\n                    }\r\n                },\r\n\r\n            },\r\n            {\r\n                id: 'H',\r\n                type: 'linear',\r\n                position: 'left',\r\n                display: false,\r\n                gridLines: {\r\n                    display: false,\r\n                },\r\n                label: 'Apmosfere',\r\n                ticks: {\r\n                    display: false,\r\n                    beginAtZero: true,\r\n                    callback: function (value, index, values) {\r\n                        return numeral(value).format(\"0.0\")  + \" mm\";\r\n                    }\r\n                },\r\n\r\n            },\r\n\r\n\r\n        ]\r\n    }\r\n}\r\n\r\n\r\nexport default function Charts({mark}) {\r\n    const [data, setData] = useState(\r\n        [{\r\n            x: \"10/1/2020\",\r\n            y: 9\r\n        }, {\r\n            x: \"11/1/2020\",\r\n            y: 5\r\n        },{\r\n            x: \"12/1/2020\",\r\n            y: 7\r\n        },{\r\n            x: \"13/1/2020\",\r\n            y: 9\r\n        },{\r\n            x: \"15/1/2020\",\r\n            y: 12\r\n        }]\r\n    );\r\n    const [data1, setData1] = useState(\r\n        [{\r\n            x: \"10/1/2020\",\r\n            y: 2\r\n        }, {\r\n            x: \"11/1/2020\",\r\n            y: 2\r\n        },{\r\n            x: \"12/1/2020\",\r\n            y: 19\r\n        },{\r\n            x: \"13/1/2020\",\r\n            y: 16\r\n        },{\r\n            x: \"15/1/2020\",\r\n            y: 12\r\n        }]\r\n    );\r\n    const [data2, setData2] = useState(\r\n        [{\r\n            x: \"10/1/2020\",\r\n            y: 5\r\n        }, {\r\n            x: \"11/1/2020\",\r\n            y: 2\r\n        },{\r\n            x: \"12/1/2020\",\r\n            y: 12\r\n        },{\r\n            x: \"13/1/2020\",\r\n            y: 34\r\n        },{\r\n            x: \"15/1/2020\",\r\n            y: 23\r\n        }]\r\n    );\r\n    const [data3, setData3] = useState(\r\n        [{\r\n            x: \"10/1/2020\",\r\n            y: 2\r\n        }, {\r\n            x: \"11/1/2020\",\r\n            y: 2\r\n        },{\r\n            x: \"12/1/2020\",\r\n            y: 19\r\n        },{\r\n            x: \"13/1/2020\",\r\n            y: 16\r\n        },{\r\n            x: \"15/1/2020\",\r\n            y: 12\r\n        },]\r\n    );\r\n    const [data4, setData4] = useState(\r\n        [{\r\n            x: \"10/1/2020\",\r\n            y: 2\r\n        }, {\r\n            x: \"11/1/2020\",\r\n            y: 2\r\n        },{\r\n            x: \"12/1/2020\",\r\n            y: 19\r\n        },{\r\n            x: \"13/1/2020\",\r\n            y: 16\r\n        },{\r\n            x: \"15/1/2020\",\r\n            y: 12\r\n        }]\r\n    );\r\n    const [data5, setData5] = useState(\r\n        [{\r\n            x: \"10/1/2020\",\r\n            y: 2\r\n        }, {\r\n            x: \"11/1/2020\",\r\n            y: 2\r\n        },{\r\n            x: \"12/1/2020\",\r\n            y: 19\r\n        },{\r\n            x: \"13/1/2020\",\r\n            y: 16\r\n        },{\r\n            x: \"15/1/2020\",\r\n            y: 12\r\n        }]\r\n    );\r\n\r\n\r\n    const  buildCharData = (data, casesType='temp_c') => {\r\n        let chartData = [];\r\n        _.each(data.hour, (data) => {\r\n            const newDataPoint = {\r\n                x: data.time,\r\n                y: data[casesType]\r\n            }\r\n            chartData.push(newDataPoint);\r\n        })\r\n        // console.log(\"Here data chars: \", casesType, chartData)\r\n        return chartData;\r\n\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n\r\n        let temp =  buildCharData(mark, 'temp_c')\r\n        setData(temp)\r\n        let humid =  buildCharData(mark, 'humidity')\r\n        setData1(humid)\r\n        let pressure =  buildCharData(mark, 'pressure_mb')\r\n        setData3(pressure)\r\n        let cloud =  buildCharData(mark, 'cloud')\r\n        setData2(cloud)\r\n        let dewpoint =  buildCharData(mark, 'dewpoint_c')\r\n        setData4(dewpoint)\r\n        let windspeed =  buildCharData(mark, 'wind_kph')\r\n        setData5(windspeed)\r\n        \r\n        \r\n    }, [mark])\r\n\r\n    // const buildCharData = (data, casesType='temp_c') => {\r\n       \r\n    //     let chartData = [];\r\n    //     let lastDataPoint;\r\n    //     for ( let date in data.cases) {\r\n    //         if(lastDataPoint) {\r\n    //             const newDataPoint = {\r\n    //                 x: date,\r\n    //                 y: data[casesType][date]-lastDataPoint\r\n    //             }\r\n    //             chartData.push(newDataPoint);\r\n    //         }\r\n    //         lastDataPoint = data[casesType][date]\r\n    //     };\r\n    //     // console.log(\"here: \", chartData)\r\n    //     return chartData;\r\n    // }\r\n  \r\n    return (\r\n        <div className=\"chart-mark\">\r\n            {/* {console.log(mark)} */}\r\n            {data && (\r\n                <Bar\r\n                width={100}\r\n                height={50}\r\n                options = {options} \r\n                \r\n                data={{\r\n                    datasets: [{\r\n                        type:'line',\r\n                        label: 'Temperture °C',\r\n                        yAxisID: 'A',\r\n                        fill: false,\r\n                        backgroundColor: 'rgb(255, 99, 132)',\r\n                        borderColor: 'rgba(255, 99, 132, 0.5)',\r\n                        pointStrokeColor: \"#fff\",\r\n                        pointHighlightFill: \"#fff\",\r\n                        pointHoverBorderColor: '#fff',\r\n                        pointHighlightStroke: \"rgba(220,220,220,1)\",\r\n                        data: data\r\n                    },\r\n                    {\r\n                        type: 'line',\r\n                        label: 'Humidity %',\r\n                        yAxisID: 'B',\r\n                        fill: false,\r\n                        backgroundColor: 'rgba(0, 140, 29, .5)',\r\n                        borderColor: 'rgba(0, 140, 29, .5)',\r\n                        pointStrokeColor: \"#fff\",\r\n                        pointHighlightFill: \"#fff\",\r\n                        pointHoverBorderColor: '#fff',\r\n                        pointHighlightStroke: \"rgba(220,220,220,1)\",\r\n                        data: data1\r\n                    },\r\n                    {\r\n                        type: 'line',\r\n                        label: 'Pressure Pa',\r\n                        yAxisID: 'C',\r\n                        fill: false,\r\n                        backgroundColor: 'rgba(0, 140, 255, .5)',\r\n                        borderColor: ' rgba(0, 140, 255, .5)',\r\n                        pointStrokeColor: \"#fff\",\r\n                        pointHighlightFill: \"#fff\",\r\n                        pointHoverBorderColor: '#fff',\r\n                        pointHighlightStroke: \"rgba(220,220,220,1)\",\r\n                        data: data3\r\n                    },\r\n                    {\r\n                        type: 'bar',\r\n                        label:'Cloud',\r\n                        yAxisID: 'H',\r\n                        fillColor: \"rgba(220,20,220,0.2)\",\r\n                        strokeColor: \"rgba(220,20,220,1)\",\r\n                        pointColor: \"rgba(220,20,220,1)\",\r\n                        pointStrokeColor: \"#fff\",\r\n                        pointHoverBorderColor: '#fff',\r\n                        pointHighlightStroke: \"rgba(220,220,220,1)\",\r\n                        data: data2\r\n                    },\r\n                    {\r\n                        type: 'line',\r\n                        label: 'Dewpoint',\r\n                        yAxisID: 'H',\r\n                        fill: false,\r\n                        backgroundColor: 'rgba(0, 140, 255, .0)',\r\n                        borderColor: ' rgba(0, 140, 255, 0)',\r\n                        pointStrokeColor: \"#fff\",\r\n                        pointHighlightFill: \"#fff\",\r\n                        pointHoverBorderColor: '#fff',\r\n                        pointHighlightStroke: \"rgba(220,220,220,1)\",\r\n                        data: data4\r\n                    },\r\n                    {\r\n                        type: 'line',\r\n                        label: 'WindSpeed',\r\n                        yAxisID: 'H',\r\n                        fill: false,\r\n                        backgroundColor: 'rgba(0, 140, 255, .0)',\r\n                        borderColor: ' rgba(0, 140, 255, 0)',\r\n                        pointStrokeColor: \"#fff\",\r\n                        pointHighlightFill: \"#fff\",\r\n                        pointHoverBorderColor: '#fff',\r\n                        pointHighlightStroke: \"rgba(220,220,220,1)\",\r\n                        data: data5\r\n                    },\r\n                    ]\r\n                }} \r\n                />\r\n            )}\r\n\r\n            <h4>{mark.nameMark || 'noValue'} | {mark.name}-{mark.country}</h4>\r\n           \r\n        </div>\r\n    )\r\n}\r\n","import React, { useState } from 'react'\r\nimport { Line } from 'react-chartjs-2'\r\nimport { useEffect } from 'react';\r\n\r\nimport _ from 'lodash';\r\nconst numeral = require('numeral');\r\n\r\n\r\nconst options = {\r\n    legend: {\r\n        display: false,\r\n        labels: {\r\n            boxWidth: 12,\r\n          }\r\n    },\r\n    elements: {\r\n        point: {\r\n            radius: 0,\r\n        }\r\n    },\r\n    responsive: true,\r\n    tooltips: {\r\n        mode: \"index\",\r\n        intersect: false,\r\n        callbacks: {\r\n            label: function (tooltipItem, data) {\r\n                return data.datasets[tooltipItem.datasetIndex].label+ ': '+ numeral(tooltipItem.value).format(\"0.0\");\r\n            },\r\n \r\n            \r\n        }\r\n       \r\n    },\r\n    scales: {\r\n        xAxes: [\r\n            {\r\n                type: \"time\",\r\n                time: {\r\n                    format: \"YY-MM-DD HH:ss\",\r\n                    tooltipFormat: \"ll\",\r\n                    stepSize: 1\r\n                },\r\n                \r\n            }\r\n        ],\r\n        yAxes: [\r\n            {\r\n                id: 'A',\r\n                type: 'linear',\r\n                position: 'left',\r\n                gridLines: {\r\n                    display: true,\r\n                },\r\n                label: 'Temperture',\r\n                ticks: {\r\n                    beginAtZero: true,\r\n                    callback: function (value, index, values) {\r\n                        return numeral(value).format(\"0a\") + \"°C\";\r\n                    }\r\n                },\r\n          \r\n            },\r\n            {\r\n                id: 'B',\r\n                type: 'linear',\r\n                position: 'right',\r\n                gridLines: {\r\n                    display: false,\r\n                },\r\n                label: 'Prescript',\r\n                ticks: {\r\n                    beginAtZero: true,\r\n                    callback: function (value, index, values) {\r\n                        return numeral(value).format(\"0a\")  + \"%\"\r\n                    }\r\n                },\r\n\r\n            },\r\n            {\r\n                id: 'C',\r\n                type: 'linear',\r\n                position: 'left',\r\n                gridLines: {\r\n                    display: false,\r\n                },\r\n                label: 'Apmosfere',\r\n                ticks: {\r\n                    beginAtZero: true,\r\n                    callback: function (value, index, values) {\r\n                        return numeral(value).format(\"0.0\")  + \" Pa\";\r\n                    }\r\n                },\r\n\r\n            },\r\n            {\r\n                id: 'H',\r\n                type: 'linear',\r\n                position: 'left',\r\n                display: false,\r\n                gridLines: {\r\n                    display: false,\r\n                },\r\n                label: 'Apmosfere',\r\n                ticks: {\r\n                    display: false,\r\n                    beginAtZero: true,\r\n                    callback: function (value, index, values) {\r\n                        return numeral(value).format(\"0.0\")  + \" mm\";\r\n                    }\r\n                },\r\n\r\n            },\r\n\r\n\r\n        ]\r\n    }\r\n}\r\n\r\n\r\nexport default function ChartForecast({nameMark, mark}) {\r\n    const [data, setData] = useState(\r\n        [{\r\n            x: \"10/1/2020\",\r\n            y: 9\r\n        }, {\r\n            x: \"11/1/2020\",\r\n            y: 5\r\n        },{\r\n            x: \"12/1/2020\",\r\n            y: 7\r\n        },{\r\n            x: \"13/1/2020\",\r\n            y: 9\r\n        },{\r\n            x: \"15/1/2020\",\r\n            y: 12\r\n        }]\r\n    );\r\n    const [data1, setData1] = useState(\r\n        [{\r\n            x: \"10/1/2020\",\r\n            y: 2\r\n        }, {\r\n            x: \"11/1/2020\",\r\n            y: 2\r\n        },{\r\n            x: \"12/1/2020\",\r\n            y: 19\r\n        },{\r\n            x: \"13/1/2020\",\r\n            y: 16\r\n        },{\r\n            x: \"15/1/2020\",\r\n            y: 12\r\n        }]\r\n    );\r\n    const [data2, setData2] = useState(\r\n        [{\r\n            x: \"10/1/2020\",\r\n            y: 5\r\n        }, {\r\n            x: \"11/1/2020\",\r\n            y: 2\r\n        },{\r\n            x: \"12/1/2020\",\r\n            y: 12\r\n        },{\r\n            x: \"13/1/2020\",\r\n            y: 34\r\n        },{\r\n            x: \"15/1/2020\",\r\n            y: 23\r\n        }]\r\n    );\r\n    const [data3, setData3] = useState(\r\n        [{\r\n            x: \"10/1/2020\",\r\n            y: 2\r\n        }, {\r\n            x: \"11/1/2020\",\r\n            y: 2\r\n        },{\r\n            x: \"12/1/2020\",\r\n            y: 19\r\n        },{\r\n            x: \"13/1/2020\",\r\n            y: 16\r\n        },{\r\n            x: \"15/1/2020\",\r\n            y: 12\r\n        },]\r\n    );\r\n    // const [data4, setData4] = useState(\r\n    //     [{\r\n    //         x: \"10/1/2020\",\r\n    //         y: 2\r\n    //     }, {\r\n    //         x: \"11/1/2020\",\r\n    //         y: 2\r\n    //     },{\r\n    //         x: \"12/1/2020\",\r\n    //         y: 19\r\n    //     },{\r\n    //         x: \"13/1/2020\",\r\n    //         y: 16\r\n    //     },{\r\n    //         x: \"15/1/2020\",\r\n    //         y: 12\r\n    //     },]\r\n    // );\r\n\r\n    const  buildCharData = (data, casesType='temp_c') => {\r\n        let chartData = [];\r\n        // {console.log(mark)}\r\n        _.each(data, (data) => {\r\n            const newDataPoint = {\r\n                x: data.time,\r\n                y: data.data.instant.details[casesType]\r\n            }\r\n            chartData.push(newDataPoint);\r\n        })\r\n        // console.log(\"Here data chars: \", casesType, chartData)\r\n        return chartData;\r\n\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n\r\n        let temp =  buildCharData(mark, 'air_temperature')\r\n        // {console.log(\"1\", mark)}\r\n        setData(temp)\r\n        let humid =  buildCharData(mark, 'relative_humidity')\r\n        setData1(humid)\r\n        let pressure =  buildCharData(mark, 'air_pressure_at_sea_level')\r\n        setData3(pressure)\r\n        let cloud =  buildCharData(mark, 'cloud_area_fraction')\r\n        setData2(cloud)\r\n\r\n        // let dewpoint =  buildCharData(mark, 'dewpoint_c')\r\n        // setData4(dewpoint)\r\n\r\n        // let windspeed =  buildCharData(mark, 'wind_speed')\r\n        // setData4(windspeed)\r\n        \r\n        \r\n    }, [mark])\r\n\r\n  \r\n  \r\n    return (\r\n        <div className=\"chart-markforecast\">\r\n          \r\n            {data && (\r\n                <Line\r\n                width={100}\r\n                height={50}\r\n                options = {options} \r\n                \r\n                data={{\r\n                    datasets: [{\r\n                        type:'line',\r\n                        label: 'Temperture °C',\r\n                        yAxisID: 'A',\r\n                        fill: false,\r\n                        backgroundColor: 'rgb(255, 99, 132)',\r\n                        borderColor: 'rgba(255, 99, 132, 0.5)',\r\n                        pointStrokeColor: \"#fff\",\r\n                        pointHighlightFill: \"#fff\",\r\n                        pointHoverBorderColor: '#fff',\r\n                        pointHighlightStroke: \"rgba(220,220,220,1)\",\r\n                        data: data\r\n                    },\r\n                    {\r\n                        type: 'line',\r\n                        label: 'Humidity %',\r\n                        yAxisID: 'B',\r\n                        fill: false,\r\n                        backgroundColor: 'rgba(0, 140, 29, .5)',\r\n                        borderColor: 'rgba(0, 140, 29, .5)',\r\n                        pointStrokeColor: \"#fff\",\r\n                        pointHighlightFill: \"#fff\",\r\n                        pointHoverBorderColor: '#fff',\r\n                        pointHoverBorderColor: '#fff',\r\n                        pointHighlightStroke: \"rgba(220,220,220,1)\",\r\n                        data: data1\r\n                    },\r\n                    {\r\n                        type: 'line',\r\n                        label: 'Pressure Pa',\r\n                        yAxisID: 'C',\r\n                        fill: false,\r\n                        backgroundColor: 'rgba(0, 140, 255, .5)',\r\n                        borderColor: ' rgba(0, 140, 255, .5)',\r\n                        pointStrokeColor: \"#fff\",\r\n                        pointHighlightFill: \"#fff\",\r\n                        pointHoverBorderColor: '#fff',\r\n                        pointHoverBorderColor: '#fff',\r\n                        pointHighlightStroke: \"rgba(220,220,220,1)\",\r\n                        data: data3\r\n                    },\r\n                    {\r\n                        type: 'bar',\r\n                        label:'Cloud',\r\n                        yAxisID: 'H',\r\n                        fillColor: \"rgba(220,20,220,0.2)\",\r\n                        strokeColor: \"rgba(220,20,220,1)\",\r\n                        pointColor: \"rgba(220,20,220,1)\",\r\n                        pointStrokeColor: \"#fff\",\r\n                        pointHighlightFill: \"#fff\",\r\n                        pointHoverBorderColor: '#fff',\r\n                        pointHighlightStroke: \"rgba(220,220,220,1)\",\r\n                        data: data2\r\n                    }]\r\n                }} \r\n                />\r\n            )}\r\n\r\n            <h4>{nameMark}</h4>\r\n           \r\n        </div>\r\n    )\r\n}\r\n","import React, { useState } from 'react';\r\n\r\n\r\nconst Notification = (props) => {\r\n    const [exit, setExit] = useState()\r\n    const [width, setWidth] = useState(0)\r\n    const [intervalID, setIntervalID] = useState(null);\r\n\r\n    const handleStartTimer = () => {\r\n        const id = setInterval(() => {\r\n            setWidth((prev) => {\r\n                if (prev < 100){\r\n                    return prev + 0.5\r\n                }\r\n                clearInterval(id)\r\n                return prev\r\n            })\r\n        }, 20)\r\n        setIntervalID(id)\r\n    }\r\n\r\n    const handlePauseTimer = () => {\r\n        clearInterval(intervalID)\r\n    }\r\n\r\n    const handleCloseNotification = () => {\r\n        handlePauseTimer();\r\n        setExit(true);\r\n        setTimeout(() => {\r\n            // props.clearNotification(`${props.id}`)\r\n            // console.log(`${props.id}`)\r\n            console.log(\"remove: \" , props.id)\r\n            props.dispatch({\r\n                type: \"REMOVE_NOTIFICATION\",\r\n                id: props.id\r\n            })\r\n        }, 4000)\r\n\r\n    };\r\n\r\n    React.useEffect(() => {\r\n        if(width === 100) {\r\n            handleCloseNotification();\r\n        }\r\n    }, [width])\r\n    React.useEffect(() => {\r\n        handleStartTimer()\r\n    }, [])\r\n\r\n\r\n    return (\r\n        <div onMouseEnter={handlePauseTimer} onMouseLeave={handleStartTimer}\r\n         className={`notification-item ${props.type} ${exit ? \"exit\" : \"\"}`}>\r\n            <p>{props.message}</p>\r\n            <div className={\"bar\"} style = {{width: `${width}%`}}></div>\r\n        </div>\r\n    )\r\n};\r\nexport default Notification;","import React, { useReducer } from 'react'\r\nimport {ObjectID} from '../helpers/objectid';\r\nimport Notification from './Notification';\r\n\r\n\r\n// export const NotificationContext = createContext();\r\n\r\nconst NotificationProvider = (props) => {\r\n    const [state, dispatch] = useReducer((state, action) => {\r\n        switch (action.type) {\r\n            case \"ADD_NOTIFICATION\":\r\n                return [...state,{...action.payload}];\r\n            case \"REMOVE_NOTIFICATION\":\r\n                return state.filter(el => el.id !== action.id);\r\n            default:\r\n                return state;\r\n        }\r\n      \r\n    }, [\r\n        // {\r\n        //     id: new ObjectID().toString(),\r\n        //     type: \"success\",\r\n        //     message: \"Hello nDsapp\"\r\n        // },\r\n        // {\r\n        //     id: new ObjectID().toString(),\r\n        //     type: \"err\",\r\n        //     message: \"Hello nDsapp 1\"\r\n        // },\r\n        // {\r\n        //     id: new ObjectID().toString(),\r\n        //     type: \"warning\",\r\n        //     message: \"Hello nDsapp 2\"\r\n        // },\r\n        // {\r\n        //     id: new ObjectID().toString(),\r\n        //     type: \"none\",\r\n        //     message: \"Hello nDsapp 3\"\r\n        // },\r\n    ]);\r\n\r\n    const handleAddNotification = () => {\r\n            // console.log(props.type , props.message)\r\n            // console.log(props.state)\r\n            if( props.type && props.message) {\r\n                dispatch({\r\n                    type: \"ADD_NOTIFICATION\",\r\n                    payload: {\r\n                        id: new ObjectID().toString(),\r\n                        type: props.type,\r\n                        message: props.message\r\n                    }\r\n                }, [])\r\n            }\r\n            \r\n    }\r\n    React.useEffect(() => {\r\n        // console.log(props.state)\r\n        if(props.state){\r\n            handleAddNotification()\r\n        }\r\n    }, [props.state])\r\n\r\n  \r\n   \r\n    return (\r\n        <>\r\n        {/* <NotificationContext.Provider> */}\r\n            <div className={\"notification-wrapper\"}>\r\n                {state.map(note =>{\r\n                    return <Notification dispatch={dispatch} key={note.id} {...note} />\r\n                })}\r\n            </div>\r\n            {props.children}\r\n        {/* </NotificationContext.Provider> */}\r\n        </>\r\n    )\r\n};\r\nexport default NotificationProvider","import React from 'react'\r\n\r\nconst LoadingMini = () => {\r\n\r\n\r\n    return(\r\n        <div id=\"loader-mini\">\r\n            <div id=\"shadow-loading-mini\"></div>\r\n            <div id=\"box-loading-mini\"></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoadingMini","import React, { useEffect, useState } from 'react'\r\nimport { Map as LeafletMap, TileLayer, Circle, Popup, Marker} from 'react-leaflet';\r\nimport L from 'leaflet';\r\nimport _ from 'lodash';\r\nimport planeLight from '../../images/plane-light.svg';\r\nimport plane from '../../images/plane.svg';\r\nimport Moment from 'react-moment';\r\nimport LoadingMini from '../Loading-mini';\r\n\r\n// const numeral = require('numeral');\r\n\r\n\r\n\r\nexport default function MapPlane({marks, center, zoom, infoPlanesOfMark, infoPlanes, isRealtimePlane = 0, isAllPlanes = 0, typeOfMap = 0, mapMarkfindPlane = {lat: 0, lng: 0}, mapMarkfindPlaneRealtime = {lat: 0, lng: 0} }) {\r\n    const [mapZoom, setMapZoom] = useState(zoom);\r\n    const [mapCenter, setMapCenter] = useState(center)\r\n    const [dataPlane, setDataPlane] = useState([]);\r\n    const [intervalPlane, setIntervalPlane] = useState(null);\r\n    const [loading, setLoading] = useState(true)\r\n    const [listMarkPlane , setListMarkPlane] = useState([]);\r\n    const [dataPlaneOfMarks, setDataPlaneOfMarks] = useState([]);\r\n    const [showDataPlaneToMap, setShowDataPlaneToMap] = useState([]);\r\n   \r\n    // const casesTypeColors = {\r\n    //     cases: {\r\n    //         hex: \"#fb4443\",\r\n    //         multiplier: 600,\r\n    //     },\r\n    //     recovered: {\r\n    //         hex: \"#7dd71d\",\r\n    //         multiplier: 600,\r\n    //     },\r\n    //     deaths: {\r\n    //         hex: \"#CC1034\",\r\n    //         multiplier: 800,\r\n    //     }\r\n    // }\r\n\r\n    const regex = /\\s+(\\w)?/gi;\r\n\r\n    const proccessCountry = (country) => country.toLowerCase().replace(regex, function(match, letter) {\r\n        \r\n        return letter;\r\n    });\r\n\r\n    // function unique(arr, comparator) {\r\n    //     var uniqueArr = [];\r\n    //     for (var i in arr) {\r\n    //       var found = false;\r\n    //       for (var j in uniqueArr) {\r\n    //         if (comparator instanceof Function) {\r\n    //           if (comparator.call(null, arr[i], uniqueArr[j])) {\r\n    //             found = true;\r\n    //             break;\r\n    //           }\r\n    //         } else {\r\n    //           if (arr[i] == uniqueArr[j]) {\r\n    //             found = true;\r\n    //             break;\r\n    //           }\r\n    //         }\r\n    //       }\r\n    //       if (!found) {\r\n    //         uniqueArr.push(arr[i]);\r\n    //       }\r\n    //     }\r\n    //     return uniqueArr;\r\n    //   };\r\n\r\n    const processPlaneIcon = (rotate) => L.divIcon({\r\n        iconSize: [20, 20],\r\n        iconAnchor: [10, 10],\r\n        className: 'yourClassName',\r\n        strokeColor: 'black',\r\n        strokeOpacity: 1,\r\n        fillColor: 'yellow',\r\n        fillOpacity: 0.9,\r\n        html: `<img\r\n        style=\"transform: rotate(${rotate}deg);\"\r\n        height=\"25\" \r\n        width=\"25\"\r\n        background-color=\"rgba(28, 158, 10, 0.9)\"\r\n        src=${(typeOfMap === 3) ? planeLight : plane}\r\n        \r\n        >`\r\n\r\n    })\r\n    // src='https://raw.githubusercontent.com/bbecquet/Leaflet.PolylineDecorator/master/example/icon_plane.png'\r\n\r\n    const century21icon = L.icon({\r\n        iconUrl: \"https://unpkg.com/leaflet@1.0.3/dist/images/marker-icon.png\",\r\n        \r\n        iconSize: [20, 30],\r\n        iconAnchor: [18, 18],\r\n        popupAnchor: [0, -10],\r\n        shadowSize: [0, 0],\r\n        shadowAnchor: [10, 10]\r\n    });\r\n\r\n    const showMarksOnMap = (marks) => \r\n    marks.map((mark) => (\r\n      \r\n        <Marker\r\n        icon={century21icon}\r\n        position={[mark.lat, mark.lng]}\r\n        >\r\n             \r\n            <Popup>               \r\n                <div className=\"info-popup-map\">\r\n                   \r\n                    <div className=\"info-flag\"\r\n                        style={{backgroundImage: `url(${mark.covid19.flag})`}}\r\n                    />\r\n                    <div className=\"info-name-country\">{mark.country}</div>\r\n                    <div className=\"info-confirmed\">\r\n                        Name Pos: {mark.nameMark || 'noValue'}\r\n                    </div>\r\n                    <div className=\"info-recovered\">\r\n                        Onwer Pos: {mark.manager}\r\n                    </div>\r\n                    <div className=\"info-deaths\">\r\n                        Location Pos: {(mark.lat).toFixed(5)}, {(mark.lng).toFixed(5)}\r\n                    </div>\r\n                    <div className=\"deliver-popup\"></div>\r\n                    <div className=\"message-mark\">Message: {mark.desc}</div>\r\n                </div>\r\n            </Popup>\r\n            </Marker>\r\n       \r\n    ))\r\n\r\n    const circleMarks = (marks) => \r\n    marks.map((mark) => (\r\n       \r\n        <Circle\r\n        center={[mark.lat, mark.lng]}\r\n        color=\"rgba(255, 41, 0, 0.4)\"\r\n        fillOpacity={0.22}\r\n        fillColor=\"rgba(22, 25, 76, 0.28)\"\r\n        radius= {Math.sqrt(330000) * 600} >\r\n        </Circle>\r\n\r\n    ))\r\n\r\n\r\n\r\n\r\n\r\n    // const showDataOnMap = (data) => \r\n    //     data.map((plane) => (\r\n    //         console.log(plane.latitude, plane.latitude , typeof(plane.latitude))\r\n            \r\n    //         <Marker\r\n           \r\n    //         position={[0, 0]}\r\n    //         > <Popup>               \r\n    //         <div className=\"info-popup-map\"> \r\n    //         <p>\r\n    //            {plane.location.lat}\r\n    //            {plane.location.lng}\r\n    //            {plane.icao24}\r\n    //            {plane.callSign}\r\n    //            {plane.origin_country}\r\n    //            {plane.baro_altitude}\r\n    //            {plane.position_source}\r\n              \r\n    //        </p>\r\n    //        </div></Popup></Marker>\r\n          \r\n           \r\n    // ))\r\n    const typeMapChoose = (key) => {\r\n\r\n        switch(key){\r\n            case 0:\r\n                return (\r\n                    <>\r\n                        {/* opentopomap  openstreetmap server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile tile.thunderforest.com/transport-dark tiles.stadiamaps.com/tiles/alidade_smooth tiles.stadiamaps.com/tiles/alidade_smooth_dark */}\r\n                        <TileLayer\r\n                        url='https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png'\r\n                        attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n                        />\r\n                    </>\r\n                )\r\n            case 1:\r\n                return (\r\n                    <>\r\n                        {/* opentopomap  openstreetmap server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile tile.thunderforest.com/transport-dark tiles.stadiamaps.com/tiles/alidade_smooth tiles.stadiamaps.com/tiles/alidade_smooth_dark */}\r\n                        <TileLayer\r\n                        url='https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png'\r\n                        attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n                        />\r\n                    </>\r\n                )\r\n\r\n            case 2:\r\n                return (\r\n\r\n                    <>\r\n                        {/* opentopomap  openstreetmap server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile tile.thunderforest.com/transport-dark tiles.stadiamaps.com/tiles/alidade_smooth tiles.stadiamaps.com/tiles/alidade_smooth_dark */}\r\n                        <TileLayer\r\n                        url='https://tiles.stadiamaps.com/tiles/alidade_smooth/{z}/{x}/{y}.png'\r\n                        attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n                        />\r\n                    </>\r\n                )\r\n            \r\n            case 3:\r\n                return (\r\n                <>\r\n                        {/* opentopomap  openstreetmap server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile tile.thunderforest.com/transport-dark tiles.stadiamaps.com/tiles/alidade_smooth tiles.stadiamaps.com/tiles/alidade_smooth_dark */}\r\n                        <TileLayer\r\n                        url='https://tiles.stadiamaps.com/tiles/alidade_smooth_dark/{z}/{x}/{y}.png'\r\n                        attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n                        />\r\n                </>\r\n                )\r\n            \r\n        }\r\n    }\r\n        \r\n    \r\n\r\n    const proccessPlaneData = datas => {\r\n\r\n        let temp = []\r\n        let temp0 = []\r\n        let temp1 = []\r\n        _.each(marks, (mark, key) => {\r\n        //    console.log(mark)\r\n            \r\n            _.each(datas, (data, key) => {\r\n                _.each(data, function(value, key){ \r\n                    // console.log(proccessCountry(mark.country), proccessCountry(value[2]))\r\n                    if(proccessCountry(mark.country) === proccessCountry(value[2])){\r\n                        \r\n                        const plane = {\r\n                            \r\n                            icao24: value[0],\r\n                            callSign: value[1],\r\n                            origin_country: value[2],\r\n                            time_position: value[3],\r\n                            last_contact: new Date(),\r\n                            location : {\r\n                                lng: value[5],\r\n                                lat: value[6],\r\n                            },\r\n                            baro_altitude: value[7],\r\n                            on_ground: value[8],\r\n                            velocity: value[9],\r\n                            true_track: value[10],\r\n                            vertical_rate:value[11],\r\n                            sensors: value[12],\r\n                            geo_altitude: value[13],\r\n                            squawk: value[14],\r\n                            spi: value[15],\r\n                            position_source: value[16],\r\n                    }\r\n                    temp1.push(plane)\r\n                    temp0.push(plane)\r\n                    }   \r\n                    \r\n                    // console.log(mark.country, value[2])\r\n                        \r\n            })})\r\n            let planeOfMark = {\r\n                nameMark: mark.nameMark,\r\n                data: temp1\r\n            }\r\n            // console.log(planeOfMark)\r\n           \r\n            temp.push(planeOfMark)\r\n           \r\n            planeOfMark = null\r\n            temp1 = []\r\n\r\n        })\r\n        setShowDataPlaneToMap(temp0)\r\n        setDataPlaneOfMarks(temp0)\r\n        return temp\r\n    }\r\n\r\n    const buildPlaneData = (datas) => {\r\n        let temp = []\r\n        _.each(datas, (data, key) => {\r\n            _.each(data, function(value, key){\r\n        \r\n            const plane = {\r\n                    icao24: value[0],\r\n                    callSign: value[1],\r\n                    origin_country: value[2],\r\n                    time_position: value[3],\r\n                    last_contact: new Date(),\r\n                    location : {\r\n                        lng: value[5],\r\n                        lat: value[6],\r\n                    },\r\n                    baro_altitude: value[7],\r\n                    on_ground: value[8],\r\n                    velocity: value[9],\r\n                    true_track: value[10],\r\n                    vertical_rate:value[11],\r\n                    sensors: value[12],\r\n                    geo_altitude: value[13],\r\n                    squawk: value[14],\r\n                    spi: value[15],\r\n                    position_source: value[16],\r\n            }\r\n\r\n       \r\n            temp.push(plane)\r\n\r\n\r\n                });\r\n\r\n            })\r\n            return temp;\r\n        }\r\n\r\n        const handleStartRealtime = () => {\r\n                // if(mapMarkfindPlane.lat){\r\n                //     clearInterval(myInterval)\r\n                // }\r\n                // let temp = mapMarkfindPlane.lat\r\n\r\n                // \r\n                setListMarkPlane([])\r\n\r\n                const myInterval = setInterval(() =>\r\n                // console.log('you is realtime loop', mapMarkfindPlaneRealtime)\r\n               \r\n                fetch(`https://opensky-network.org/api/states/all?lamin=${mapMarkfindPlaneRealtime.lat-2}&lomin=${mapMarkfindPlaneRealtime.lng-2}&lamax=${mapMarkfindPlaneRealtime.lat+2}&lomax=${mapMarkfindPlaneRealtime.lng+2}`,{\r\n                    method: 'GET',\r\n                    credentials: 'same-origin',\r\n                    redirect: 'follow',\r\n                    agent: null,\r\n                    headers: {\r\n                        \"Content-Type\": \"text/plain\",\r\n                        'Authorization': 'Basic ' + btoa('nds.tphcm:Hippo956592'),\r\n                    },\r\n                    })\r\n                .then((response) => response.json())\r\n                .then((datas) => {\r\n                    let listData = []\r\n                    setShowDataPlaneToMap([])\r\n                    _.each(datas, (data, key) => {\r\n                        _.each(data, function(value, key){\r\n                            const plane = {\r\n                                icao24: value[0],\r\n                                callSign: value[1],\r\n                                origin_country: value[2],\r\n                                time_position: value[3],\r\n                                last_contact: new Date(),\r\n                                location : {\r\n                                    lng: value[5],\r\n                                    lat: value[6],\r\n                                },\r\n                                baro_altitude: value[7],\r\n                                on_ground: value[8],\r\n                                velocity: value[9],\r\n                                true_track: value[10],\r\n                                vertical_rate:value[11],\r\n                                sensors: value[12],\r\n                                geo_altitude: value[13],\r\n                                squawk: value[14],\r\n                                spi: value[15],\r\n                                position_source: value[16],\r\n                            }\r\n            \r\n                   \r\n                            listData.push(plane)\r\n\r\n                        })})\r\n\r\n                    infoPlanesOfMark(listData.length, new Date())\r\n                    setMapCenter({ lat: mapMarkfindPlaneRealtime.lat, lng: mapMarkfindPlaneRealtime.lng })\r\n                    setMapZoom(6)\r\n                    setShowDataPlaneToMap(listData)\r\n                    //after  need setState for page cant load new data\r\n                   \r\n                })\r\n\r\n            , 1000)\r\n            setIntervalPlane(myInterval)\r\n\r\n        }\r\n\r\n        useEffect(() => {\r\n\r\n            const fetchData = async () => {\r\n            // console.log(mapMarkfindPlane)\r\n                if(mapMarkfindPlane){\r\n                \r\n                setListMarkPlane([])\r\n                let listData = []\r\n                \r\n                fetch(`https://opensky-network.org/api/states/all?lamin=${mapMarkfindPlane.lat-2}&lomin=${mapMarkfindPlane.lng-2}&lamax=${mapMarkfindPlane.lat+2}&lomax=${mapMarkfindPlane.lng+2}`,{\r\n                    method: 'GET',\r\n                    credentials: 'same-origin',\r\n                    redirect: 'follow',\r\n                    agent: null,\r\n                    headers: {\r\n                        \"Content-Type\": \"text/plain\",\r\n                        'Authorization': 'Basic ' + btoa('nds.tphcm:Hippo956592'),\r\n                    },\r\n                    })\r\n                .then((response) => response.json())\r\n                .then((datas) => {\r\n                \r\n                    _.each(datas, (data, key) => {\r\n                        _.each(data, function(value, key){\r\n                            const plane = {\r\n                                icao24: value[0],\r\n                                callSign: value[1],\r\n                                origin_country: value[2],\r\n                                time_position: value[3],\r\n                                last_contact: new Date(),\r\n                                location : {\r\n                                    lng: value[5],\r\n                                    lat: value[6],\r\n                                },\r\n                                baro_altitude: value[7],\r\n                                on_ground: value[8],\r\n                                velocity: value[9],\r\n                                true_track: value[10],\r\n                                vertical_rate:value[11],\r\n                                sensors: value[12],\r\n                                geo_altitude: value[13],\r\n                                squawk: value[14],\r\n                                spi: value[15],\r\n                                position_source: value[16],\r\n                            }\r\n            \r\n                   \r\n                            listData.push(plane)\r\n\r\n                        })})\r\n                   \r\n                    infoPlanesOfMark(listData.length, new Date())\r\n                    setListMarkPlane(listData)\r\n                    setMapCenter({ lat: mapMarkfindPlane.lat, lng: mapMarkfindPlane.lng })\r\n                    setMapZoom(6)\r\n                    setShowDataPlaneToMap(listData)\r\n                    //after  need setState for page cant load new data\r\n                })\r\n               \r\n            }\r\n        }\r\n        if(isAllPlanes !== 1){\r\n            fetchData()\r\n        }\r\n            \r\n        }, [mapMarkfindPlane])\r\n\r\n        useEffect(() => {\r\n            \r\n            if(mapMarkfindPlaneRealtime){\r\n\r\n                handleStartRealtime()\r\n                clearInterval(intervalPlane)\r\n                console.log('you is: ',mapMarkfindPlaneRealtime, isRealtimePlane)\r\n            }\r\n            \r\n\r\n        }, [mapMarkfindPlaneRealtime])\r\n\r\n        useEffect(() => {\r\n           \r\n            const fetchData = async () => {\r\n                fetch(`https://opensky-network.org/api/states/all`,{\r\n                    method: 'GET',\r\n                    credentials: 'same-origin',\r\n                    redirect: 'follow',\r\n                    agent: null,\r\n                    headers: {\r\n                        \"Content-Type\": \"text/plain\",\r\n                        'Authorization': 'Basic ' + btoa('nds.tphcm:Hippo956592'),\r\n                    },\r\n                    })\r\n                .then((response) => response.json())\r\n                .then((datas) => {\r\n                    const temp = buildPlaneData(datas)\r\n                    const info = proccessPlaneData(datas)\r\n                    // console.log(1)\r\n                    infoPlanes(temp.length, new Date(), info)\r\n\r\n                    setDataPlane(temp)\r\n                    setLoading(false)\r\n                    \r\n                })\r\n               \r\n            }\r\n               \r\n            fetchData()\r\n            \r\n        }, [])\r\n\r\n        useEffect(() => {\r\n\r\n            clearInterval(intervalPlane)\r\n           \r\n            if(isAllPlanes === 0) { \r\n                setShowDataPlaneToMap(dataPlane)\r\n            } else if(isAllPlanes === 1) {\r\n                setShowDataPlaneToMap(dataPlaneOfMarks)\r\n            } else if(isAllPlanes === 2) {\r\n                setShowDataPlaneToMap(listMarkPlane)\r\n            } else {\r\n                clearInterval(intervalPlane)\r\n                setShowDataPlaneToMap([])\r\n                \r\n            }\r\n\r\n            setLoading(true)\r\n\r\n            setTimeout(() => {\r\n                setLoading(false)\r\n            }, 800);\r\n\r\n\r\n        }, [isAllPlanes])\r\n\r\n        return (\r\n\r\n            <div className=\"map-cv-main\">\r\n                {loading ? <div className=\"loading-map-plane\">\r\n                    <LoadingMini />\r\n                </div> : null}\r\n                <LeafletMap\r\n                className=\"markercluster-map\"\r\n                center={mapCenter}\r\n                zoom={mapZoom}\r\n                maxZoom={18}\r\n                >\r\n            \r\n                \r\n                {typeMapChoose(typeOfMap)}\r\n                    \r\n                {/* {showDataOnMap(dataPlane)} */}\r\n\r\n                {/* show three types display planes here */}\r\n                {/* {console.log(dataPlaneOfMarks)} */}\r\n            \r\n                {showDataPlaneToMap.map((plane, index) =>\r\n                    <Marker\r\n                    icon = {processPlaneIcon(plane.true_track)}\r\n                    key={index}\r\n                    position={{ lat: plane.location.lat, lng: plane.location.lng}}\r\n                    >\r\n                    <Popup>\r\n                    <div className=\"info-popup-plane\">\r\n                        <h4 >Flight Infomation</h4>\r\n                        <div className=\"deliver-popup\"></div>\r\n                        <div className=\"icao\">iCAO24:  {plane.icao24}</div>\r\n                        <div className=\"signCall\">CallSign:   {plane.callSign}</div>\r\n                        <div className=\"originCountry\">Country-Original:   {plane.origin_country}</div>\r\n                        <div className=\"source\">Source-Signal:   {plane.position_source===0 ? 'ADS-B' : ( plane.position_source===1 ? 'ASTERIX' : 'MLAT' )}</div>\r\n                        <div className=\"deliver-popup\"></div>\r\n                        <div className=\"locationPlane\">\r\n                        Location Current:   {plane.location.lat},  {plane.location.lng}\r\n                    </div>\r\n                        <div className=\"connectionLast\">Last Contact:   <Moment fromNow>{plane.last_contact}</Moment></div>\r\n                        <div className=\"baroPlane\">\r\n                        Baro Current:   {plane.baro_altitude}m - {(plane.baro_altitude * 3.28).toFixed(2)}ft\r\n                    </div>\r\n                    <div className=\"\">\r\n                        Current Speed:   {plane.velocity}m/s - {(plane.velocity * 3.6).toFixed(2)}km/h\r\n                    </div>\r\n                    <div className=\"currentPlane\">Current Dir:   {plane.true_track} (degree)</div>\r\n                    <div className=\"deliver-popup\"></div>    \r\n                </div>\r\n                    </Popup>\r\n                    </Marker>\r\n                )}\r\n                {circleMarks(marks)}\r\n                {showMarksOnMap(marks)} \r\n                </LeafletMap>\r\n                   \r\n            </div>\r\n        )\r\n\r\n    \r\n\r\n   \r\n}\r\n","import React, { useState, useEffect, useRef } from 'react'\r\n\r\nvar Draggable = props => {\r\n  const [pressed, setPressed] = useState(false)\r\n  const [position, setPosition] = useState({x: 0, y: 0})\r\n  const ref = useRef()\r\n\r\n  // Monitor changes to position state and update DOM\r\n  useEffect(() => {\r\n    if (ref.current) {\r\n      ref.current.style.transform = `translate(${position.x}px, ${position.y}px)`\r\n    }\r\n  }, [position])\r\n\r\n  // Update the current position if mouse is down\r\n  const onMouseMove = (event) => {\r\n    if (pressed) {\r\n      setPosition({\r\n        x: position.x + event.movementX,\r\n        y: position.y + event.movementY\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div\r\n      style={props.style}\r\n      ref={ ref }\r\n      onMouseMove={ onMouseMove }\r\n      onMouseDown={ () => setPressed(true) }\r\n      onMouseUp={ () => setPressed(false) }>\r\n      {props.children}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Draggable","import React, { Component} from 'react'\r\n\r\nimport classNames from 'classnames';\r\nimport loadingImg from '../images/loadingImg.gif'\r\n// import styled from 'styled-components';\r\n// import Banner from './Banner';\r\n\r\nimport StyledHero from './StyleHero';\r\nimport { FaMap, FaRegMap } from 'react-icons/fa';\r\nimport { Tooltip, IconButton, Card, CardContent } from '@material-ui/core';\r\nimport { RiSubtractLine, RiMap2Fill, RiPlaneLine } from 'react-icons/ri';\r\nimport { BsPlus } from 'react-icons/bs';\r\nimport { SiOpenstreetmap } from 'react-icons/si'\r\nimport { IoIosPlanet } from 'react-icons/io';\r\nimport { VscGrabber, VscChromeClose } from 'react-icons/vsc';\r\nimport { BiSort, BiCurrentLocation, BiDotsHorizontalRounded, BiRadioCircleMarked } from 'react-icons/bi';\r\nimport { AiOutlineQuestionCircle } from 'react-icons/ai';\r\nimport InfoBox from './app1Content/InfoBox';\r\nimport Table from './app1Content/Table';\r\nimport LineGraph from './app1Content/LineGraph';\r\nimport MapCv from './app1Content/Map';\r\nimport MainMap from './app1Content/MainMap';\r\nimport 'leaflet/dist/leaflet.css';\r\nimport { MdAirplanemodeInactive, MdLocalHospital } from 'react-icons/md';\r\nimport { Redirect, Link } from 'react-router-dom';\r\nimport _ from 'lodash';\r\nimport Charts from './app1Content/charts';\r\n// import GetPositionMap from '../external/GetPosition';\r\nimport defaultImg from '../images/svgnds.png';\r\n\r\nimport { withGoogleMap, GoogleMap, withScriptjs, Marker } from \"react-google-maps\";\r\nimport Autocomplete from 'react-google-autocomplete';\r\nimport Geocode from \"react-geocode\";\r\nimport ChartForecast from './app1Content/chartForecast';\r\nimport NotificationProvider from '../notifications/NotificationProvider';\r\nimport MapPlane from './app1Content/mapPlane';\r\nimport Draggable from './Draggable';\r\nimport Moment from 'react-moment';\r\nimport LoadingMini from './Loading-mini';\r\nimport { TiWeatherPartlySunny } from 'react-icons/ti';\r\nGeocode.setApiKey(\"AIzaSyD57PRHJQSQ5XQOuNtAWpRBOP-UCX5pSzA\");\r\nGeocode.enableDebug();\r\n\r\n\r\nconst numeral = require('numeral');\r\n\r\nconst CountriesAPI = \"https://disease.sh/v3/covid-19/countries\";\r\n\r\n// const apiKeyGetGeo = 'AIzaSyD57PRHJQSQ5XQOuNtAWpRBOP-UCX5pSzA'\r\n\r\n//Weatherapi\r\n// const url1 = 'https://api.weatherapi.com/v1/forecast.json?key=510cbd14438a4e33bcc15040202911&q=10.068,102.316&days=2'\r\n\r\n//get astronomy today\r\n// const url3 = 'http://api.weatherapi.com/v1/astronomy.json?key=510cbd14438a4e33bcc15040202911&q=48.8567,2.3508'\r\n\r\n//MetaWeather\r\n//get neer name city with latlong enter\r\n// const url6 = 'https://www.metaweather.com/api/location/search/?lattlong=10.068,102.316'\r\n//Meteorologisk Institutt\r\n \r\n\r\n//const url7 = 'https://api.met.no/weatherapi/locationforecast/2.0/compact?lat=10.068&lon=102.316'\r\n\r\n//get global map img\r\n\r\n//https://globe.adsbexchange.com/\r\n\r\n//https://nds.tphcm:Hippo956592@opensky-network.org/api/states/all?lamin=45.8389&lomin=5.9962&lamax=47.8229&lomax=10.5226\r\n//https://nds.tphcm:Hippo956592@opensky-network.https://api.met.no/weatherapi/geosatellite/1.4?area=global&size=normal&time=2020-11-29T03:30:00Z&type=infraredorg/api/states/all?icao24=88816c&icao24=3e1bf9\r\n//https://nds.tphcm:Hippo956592@opensky-network.org/api/states/all\r\n//https://nds.tphcm:Hippo956592@opensky-network.org/api/tracks/all?icao24=3c4b26&time=0\r\n//https://api.openaq.org/v1/locations?country[]=NL\r\n\r\nexport default class App1 extends Component {\r\n    \r\n  constructor(props){\r\n  super(props);\r\n  this.state = {\r\n    height: window.innerHeight,\r\n    readMore: false,\r\n    img: null,\r\n    loadingRequire: false,\r\n    isOpen:false,\r\n    listening: false,\r\n    isChat: true,\r\n    isWrite: false,\r\n    isShowFormAddMessage: false,\r\n    isShowInstruction: false,\r\n    countries : [0],\r\n    country: 'worldwide',\r\n    infoCountry: {},\r\n    tableData: [],\r\n    isSortAsending: null,\r\n    mapCountries: [],\r\n    colorBtnSort: 'rgba(0, 0, 0, 0.8)',\r\n    mapZoom: 3,\r\n    mapCenter:{ lat: 10.80046091336176, lng: 106.66498382539065 },\r\n    casesType: 'cases',\r\n\r\n    markPos: 'mymark',\r\n    mapZoomMain: 3,\r\n    mapCenterMain:{ lat: 10.80046091336176, lng: 106.66498382539065 },\r\n    activeMark: 'default',\r\n\r\n    questKey: [],\r\n    isFormAddNewMark: false,\r\n    txtMessage: null,\r\n    isShowMark: true,\r\n    txtNameMark: null,\r\n    city: '',\r\n    area: '',\r\n    state: '',\r\n    public: true,\r\n    mapPosition: {\r\n        lat: 10.80046091336176,\r\n        lng: 106.66498382539065,\r\n    },\r\n    markerPosition: {\r\n        lat: 10.80046091336176,\r\n        lng: 106.66498382539065,\r\n    },\r\n    \r\n    zoom: 6,\r\n    message: null,\r\n    newNotification: null,\r\n    typeNoti: null,\r\n    addNotiSignal: null,\r\n\r\n    isLoadingMarks: true,\r\n    listMarkMe: [],\r\n    markForecast: [],\r\n    showSettingVoices: false,\r\n\r\n    amountPlanes: null,\r\n    lastContact: new Date(),\r\n    listPlanes: [],\r\n    amountPlanesOfMark: null,\r\n    lastContactOfMark: new Date(),\r\n    showDetailPlanesKey: null,\r\n    showDetailPlanes: false,\r\n    isAllPlanes: 1,\r\n    isRealtimePlane: 0,\r\n    typeOfMap: 0,\r\n    mapMarkfindPlane: null,\r\n    mapMarkfindPlaneRealtime: null,\r\n    markPosRealtime: 'Chose Mark',\r\n    isLoginPage: false,\r\n    urlReDirect: ''\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\nonChangeMarkSelectRealtime = (event) => {\r\n    // console.log(event.target.value)\r\n\r\n    const {store} = this.props\r\n    const markList = store.getMarksOfMe()\r\n\r\n\r\n        _.each(markList.toArray(), (mark) => {\r\n           \r\n        if(mark.nameMark === event.target.value){\r\n            // console.log(mark)\r\n            this.setState({\r\n                markPosRealtime: mark.nameMark,\r\n                mapMarkfindPlaneRealtime: { lat: mark.lat, lng: mark.lng },\r\n                mapZoomMain: 10\r\n            })\r\n\r\n        }\r\n    })\r\n   \r\n}\r\n\r\n\r\ntoggleChangeIsPlanes = (e) => {\r\n    e.preventDefault()\r\n    const {isAllPlanes} = this.state\r\n    if(isAllPlanes === 2) {\r\n        this.setState({\r\n            isAllPlanes: false,\r\n            isRealtimePlane: 1,\r\n        })\r\n    }else{\r\n        this.setState({\r\n            isAllPlanes: 2,\r\n            isRealtimePlane: 0\r\n        })\r\n    }\r\n    \r\n}\r\n\r\n\r\n\r\n\r\ninfoPlanesOfMark = (amountPlanes, lastContact) => {\r\n\r\n    this.setState({\r\n        amountPlanesOfMark: amountPlanes,\r\n        lastContactOfMark: new Date(lastContact),\r\n        // listPlanesOfMark: listPlanes,\r\n    })\r\n}\r\n\r\n\r\ninfoPlanes = (amountPlanes, lastContact, listPlanes) => {\r\n\r\n\r\n    // console.log(amountPlanes, new Date(lastContact), listPlanes)\r\n    this.setState({\r\n        amountPlanes: amountPlanes,\r\n        lastContact: new Date(lastContact),\r\n        listPlanes: listPlanes,\r\n    })\r\n}\r\n\r\ngetCity = ( addressArray ) => {\r\n    let city = '';\r\n    for( let i = 0; i < addressArray.length; i++ ) {\r\n     if ( addressArray[ i ].types[0] && 'administrative_area_level_2' === addressArray[ i ].types[0] ) {\r\n      city = addressArray[ i ].long_name;\r\n      return city;\r\n     }\r\n    }\r\n};\r\n\r\ngetArea = ( addressArray ) => {\r\n    let area = '';\r\n    for( let i = 0; i < addressArray.length; i++ ) {\r\n     if ( addressArray[ i ].types[0]  ) {\r\n      for ( let j = 0; j < addressArray[ i ].types.length; j++ ) {\r\n       if ( 'sublocality_level_1' === addressArray[ i ].types[j] || 'locality' === addressArray[ i ].types[j] ) {\r\n        area = addressArray[ i ].long_name;\r\n        return area;\r\n       }\r\n      }\r\n     }\r\n    }\r\n};\r\ngetState = ( addressArray ) => {\r\n    let state = '';\r\n    for( let i = 0; i < addressArray.length; i++ ) {\r\n     for( let i = 0; i < addressArray.length; i++ ) {\r\n      if ( addressArray[ i ].types[0] && 'administrative_area_level_1' === addressArray[ i ].types[0] ) {\r\n       state = addressArray[ i ].long_name;\r\n       return state;\r\n      }\r\n     }\r\n    }\r\n};\r\nonChange = ( event ) => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n};\r\nonInfoWindowClose = ( event ) => {\r\n};\r\n\r\nonPlaceSelected = ( place ) => {\r\n    // console.log(place.geometry.location.lat(), place.geometry.location.lng())\r\n   \r\n    const address = place.formatted_address,\r\n        addressArray =  place.address_components,\r\n        \r\n        city = this.getArea( addressArray ),\r\n        area = this.getCity( addressArray ),\r\n        state = this.getState( addressArray ),\r\n        latValue = place.geometry.location.lat(),\r\n        lngValue = place.geometry.location.lng();\r\n\r\n        this.setState({\r\n        address: ( address ) ? address : '',\r\n        area: ( area ) ? area : '',\r\n        city: ( city ) ? city : '',\r\n        state: ( state ) ? state : '',\r\n        markerPosition: {\r\n            lat: latValue,\r\n            lng: lngValue\r\n        },\r\n        mapPosition: {\r\n            lat: latValue,\r\n            lng: lngValue\r\n        },\r\n        zoom: 13\r\n    })\r\n};\r\n\r\nonMarkerDragEnd = ( event ) => {\r\n    // console.log( 'event', event );\r\n    let newLat = event.latLng.lat(), newLng = event.latLng.lng();\r\n    // console.log(newLat, newLng)\r\n    Geocode.fromLatLng( newLat , newLng ).then(\r\n        response => {\r\n        const address = response.results[0].formatted_address,\r\n        addressArray =  response.results[0].address_components,\r\n        city = this.getArea( addressArray ),\r\n        area = this.getCity( addressArray ),\r\n        state = this.getState( addressArray );\r\n        this.setState({\r\n            address: ( address ) ? address : '',\r\n            area: ( area ) ? area : '',\r\n            city: ( city ) ? city : '',\r\n            state: ( state ) ? state : '',\r\n            markerPosition: {\r\n                    lat: newLat,\r\n                    lng: newLng\r\n                },\r\n                mapPosition: {\r\n                    lat: newLat,\r\n                    lng: newLng\r\n                },\r\n            zoom: 13,\r\n            })\r\n        },\r\n        error => {\r\n        console.error(error);\r\n        }\r\n    );\r\n};\r\n\r\ntoggleAddMark = (e) => {\r\n    e.preventDefault();\r\n    // console.log('click')\r\n    const {isFormAddNewMark} = this.state\r\n    this.setState({\r\n        isFormAddNewMark: !isFormAddNewMark,\r\n        message: null\r\n    })\r\n}\r\ntoggleSubmit = (e) => {\r\n    e.preventDefault()\r\n\r\n    const {store} = this.props\r\n    const me = store.getCurrentUser();\r\n    const {city, area, state, mapPosition, txtMessage, txtNameMark, isShowMark} = this.state\r\n    console.log(city, area, state, mapPosition)\r\n    const data = {\r\n        nameMark: txtNameMark,\r\n        city: city,\r\n        district: area,\r\n        state: state,\r\n        lat: mapPosition.lat,\r\n        lng: mapPosition.lng,\r\n        public: isShowMark,\r\n        message: txtMessage\r\n    }\r\n    this.setState({loadingRequire: true})\r\n\r\n    if(me){\r\n        if(mapPosition.lat && mapPosition.lng && txtNameMark){\r\n            store.addNewMark(data).then((response) => {\r\n                console.log(\"data response \", response)\r\n    \r\n                this.setState({\r\n                    message: {\r\n                        body: response,\r\n                        type: 'success'\r\n                    },\r\n                    txtMessage: null,\r\n                    loadingRequire: false\r\n    \r\n                })\r\n            }).catch((err) => {\r\n                console.log(err);\r\n                this.setState({\r\n                    message: {\r\n                        body: err,\r\n                        type: 'error'\r\n                    },\r\n                    loadingRequire: false\r\n                })\r\n                });\r\n        }else{\r\n            this.setState({\r\n                message: {\r\n                    body: 'Latitude Longitude, Name mark is require',\r\n                    type: 'error'\r\n                },\r\n                loadingRequire: false\r\n            })\r\n        }\r\n    } else {\r\n        this.setState({\r\n            message: {\r\n                body: 'Need login an Account to add New Mark',\r\n                type: 'error'\r\n            },\r\n            loadingRequire: false\r\n        })\r\n    }\r\n    \r\n}\r\n\r\ntoggleActiveWindow = (key) => {\r\n  // recognition.stop()\r\n  // recognition.onend = () => {\r\n  //   console.log(\"Stopped listening per click\")\r\n  // }\r\n  this.setState({\r\n      isChat: false,\r\n      isWrite: false,\r\n      isShowFormAddMessage: false,\r\n      isShowInstruction: false,\r\n      messages: null\r\n  })\r\n\r\n  switch(key){\r\n      case 1 :\r\n          this.setState({\r\n              isChat: true,\r\n          })\r\n      break;\r\n      case 2 :\r\n          this.setState({\r\n              isWrite: true,\r\n          })\r\n      break;\r\n      case 3 :\r\n          this.setState({\r\n              isShowFormAddMessage: true,\r\n          })\r\n      break;\r\n      case 4 :\r\n          this.setState({\r\n              isShowInstruction: true,\r\n          })\r\n      break;\r\n      default:\r\n          break;\r\n  }\r\n\r\n}\r\ntoggleActiveQuestion = (key) => {\r\n    // console.log(key)\r\n\r\n    const {questKey} = this.state;\r\n    if(questKey.includes(key.toString())){\r\n\r\n        let temps = _.difference(questKey, [key.toString()])\r\n        // console.log(temps)\r\n        this.setState({\r\n            questKey: temps\r\n        }) \r\n\r\n    }else{\r\n\r\n        let temps = _.uniq([...questKey, key.toString()]);\r\n        // console.log(temps)\r\n        this.setState({\r\n            questKey: temps\r\n        })  \r\n\r\n    }\r\n    \r\n}\r\n\r\ngetAircraft = () => {\r\n    fetch(``)\r\n    .then(response => {\r\n        console.log(response);\r\n    })\r\n    .catch(err => {\r\n        console.error(err);\r\n    });\r\n}\r\n\r\ncreateTimeUnix = () => {\r\n    console.log(\"Iso time: \",new Date(1606650458 * 1000).toISOString());\r\n}\r\n\r\n\r\n\r\ngeoFindMe() {\r\n\r\n    // function success(position) {\r\n    //     const latitude  = position.coords.latitude;\r\n    //     const longitude = position.coords.longitude;\r\n    //     console.log(latitude, longitude)\r\n    // }\r\n    // function error() {\r\n    //   console.log('Unable to retrieve your location');\r\n    // }\r\n  \r\n    if (!navigator.geolocation) {\r\n        console.log('Unable to retrieve your location')\r\n    } else {\r\n     \r\n      navigator.geolocation.getCurrentPosition((success, error)=>{\r\n            if(success){\r\n\r\n                this.setState({ mapCenterMain: [success.coords.latitude, success.coords.longitude]})\r\n               \r\n            }else{\r\n                console.log('Unable to retrieve your location', error);\r\n            }\r\n      });\r\n    }\r\n  \r\n  }\r\n\r\n\r\ntoggleChangeTypeSort = (e) => {\r\n    e.preventDefault();\r\n    const sortData = this.sortAscending(this.state.tableData)\r\n    const sortData1 = this.sortDescending(this.state.tableData)\r\n    const {isSortAsending} = this.state\r\n    if(isSortAsending === null){\r\n        this.setState({\r\n            isSortAsending: true,\r\n            tableData: sortData,\r\n            colorBtnSort: 'rgba(214, 40, 16, 0.966)'\r\n        })\r\n    }else if(isSortAsending){\r\n        this.setState({\r\n            isSortAsending: false,\r\n            tableData: sortData1,\r\n            colorBtnSort: 'rgba(32, 124, 8, 0.966)'\r\n        })\r\n    }else{\r\n        this.setState({\r\n            isSortAsending: null,\r\n            colorBtnSort: 'rgba(0, 0, 0, 0.8)'\r\n        })\r\n    }\r\n}\r\n\r\nsortAscending = (data) => {\r\n    const sortData = [...data]\r\n    if(sortData.length) {\r\n        return sortData.sort((a, b) => a.cases - b.cases)\r\n    }else{\r\n        return sortData\r\n    }\r\n}\r\n\r\nsortDescending = (data) => {\r\n    const sortData = [...data]\r\n    if(sortData.length) {\r\n        return sortData.sort((a, b) => b.cases - a.cases)\r\n    }else{\r\n        return sortData\r\n    }\r\n}\r\n\r\nfetchWorldwide = () => {\r\n    \r\n    try{\r\n        fetch(`https://disease.sh/v3/covid-19/all`)\r\n        .then(function(response) {\r\n            return response.json();\r\n          })\r\n          .then(data => {\r\n            this.setState({infoCountry: data})\r\n            // console.log(data)\r\n          })\r\n          .catch(function(ex) {\r\n            console.log(\"parsing failed\", ex);\r\n          });\r\n    }\r\n    catch (err){ console.log(err) }\r\n}\r\n\r\n\r\nfetchCountries = async () => {\r\n    try{\r\n        await fetch(`${CountriesAPI}`)\r\n        .then(function(response) {\r\n            return response.json();\r\n          })\r\n          .then(json => {\r\n              const countries = json.map((country) =>(\r\n                {\r\n                    name: country.country,\r\n                    value: country.countryInfo.ios2\r\n                }\r\n              ))\r\n\r\n            this.setState({ \r\n                countries: countries,\r\n                tableData: json,\r\n                mapCountries: json,\r\n            })\r\n           \r\n            \r\n          })\r\n          .catch(function(ex) {\r\n            console.log(\"parsing failed\", ex);\r\n          });\r\n    }\r\n    catch (err){ console.log(err) }\r\n\r\n}\r\n\r\nonChangeMarkSelect = (event) => {\r\n    // console.log(event.target.value)\r\n\r\n    const {store} = this.props\r\n    const markList = store.getMarksOfMe()\r\n    let temp = 0\r\n    const {mapCenterMain} = this.state\r\n    // console.log(this.state.mapMarkfindPlane)\r\n    this.setState({\r\n        markPos: 'mymark1',\r\n        mapMarkfindPlane: null\r\n    })\r\n    // console.log(markList.toArray())\r\n    if(event.target.value === 'mymark'){\r\n        console.log(\"mymark\")\r\n        fetch(`https://api.met.no/weatherapi/locationforecast/2.0/compact?lat=${mapCenterMain.lat}&lon=${mapCenterMain.lng}`)\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            \r\n            this.setState({\r\n                markForecast: data.properties.timeseries\r\n            })\r\n        \r\n        })\r\n\r\n        this.setState({\r\n                markPos: 'mymark',\r\n                activeMark: 'mymark',\r\n                mapCenterMain:mapCenterMain,\r\n                mapMarkfindPlane: null,\r\n                // mapZoom: 4,\r\n                mapZoomMain: 8\r\n            })\r\n    }else{\r\n        _.each(markList.toArray(), (mark) => {\r\n            temp += 1  \r\n        if(mark.nameMark === event.target.value){\r\n            fetch(`https://api.met.no/weatherapi/locationforecast/2.0/compact?lat=${mark.lat}&lon=${mark.lng}`)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                this.setState({\r\n                    markForecast: data.properties.timeseries\r\n                })\r\n            //   console.log(data.properties.timeseries)\r\n            \r\n            })\r\n            // console.log(mark, temp)\r\n            this.toggleActiveQuestion(temp-1)\r\n            this.setState({\r\n                markPos: mark.nameMark,\r\n                activeMark: mark._id,\r\n                mapCenterMain:{ lat: mark.lat, lng: mark.lng },\r\n                mapMarkfindPlane: { lat: mark.lat, lng: mark.lng },\r\n                // mapCenter: { lat: mark.lat, lng: mark.lng },\r\n                mapZoomMain: 12\r\n            })\r\n        }\r\n        })\r\n    }\r\n   \r\n}\r\n\r\nonChangeCountrySelect = async (event) => {\r\n    // console.log(event.target.value)\r\n    const {mapCenter} = this.state\r\n    this.setState({country: event.target.value})\r\n    const url = event.target.value === 'worldwide' ? \"https://disease.sh/v3/covid-19/all\"\r\n    : `https://disease.sh/v3/covid-19/countries/${event.target.value}`\r\n\r\n    await fetch(url)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n        if((event.target.value !== 'worldwide') && data.countryInfo.lat){\r\n            this.setState({\r\n                infoCountry: data,\r\n                mapCenter:  [data.countryInfo.lat, data.countryInfo.long],\r\n                mapZoom: 4,\r\n            })\r\n        }else{\r\n            this.setState({\r\n                infoCountry: data,\r\n                mapCenter:  mapCenter,\r\n                mapZoom: 4,\r\n            })\r\n        }\r\n\r\n    })\r\n\r\n}\r\n\r\n_onResi = () => {\r\n    this.setState({height: window.innerHeight});\r\n}\r\n\r\ncomponentWillUnmount(){\r\n   \r\n    window.removeEventListener('resize', this._onResi);\r\n    // console.log(\"CWillUnMount\");\r\n}\r\n\r\n\r\n\r\ncomponentDidMount(){\r\n    \r\n    const {store} = this.props\r\n    store.fetchAllMarkOther();\r\n    store.fetchMarksListOfMe((err, result) => {\r\n\r\n        if(result){\r\n            // console.log('here')\r\n            this.setState({\r\n                isLoadingMarks: false\r\n            })\r\n        }\r\n    });\r\n    \r\n    // this.processlistMarkMe();\r\n    this.fetchCountries();\r\n    this.fetchWorldwide();\r\n    this.createTimeUnix()\r\n    // console.log('Didmount and fetch Client');\r\n    window.addEventListener('resize', this._onResi);\r\n   \r\n}\r\n\r\nhandleToggle = () =>{\r\n  this.setState({isOpen:!this.state.isOpen})\r\n}\r\n\r\n\r\n\r\nrender(){\r\n    const {store} = this.props;\r\n    const {countries, infoCountry, showSettingVoice, showDetailPlanesKey, showDetailPlanes, readMore} = this.state;\r\n\r\n    const me = store.getCurrentUser();\r\n    const nameUser = _.get(me, 'name') || 'weatherApp';\r\n    const allMarkList = store.getAllMarkOther();\r\n    if(allMarkList.toArray().length){\r\n        // console.log(markList.toArray())\r\n        window.sessionStorage.setItem(\"allMarkOther\",  JSON.stringify(allMarkList))\r\n    }\r\n    const markList = store.getMarksOfMe();\r\n    if(markList.toArray().length){\r\n        // console.log(markList.toArray())\r\n        window.sessionStorage.setItem(\"marksListOfMe\",  JSON.stringify(markList))\r\n    }\r\n    // console.log(markList.toArray())\r\n    \r\n    const formatStatInfo = (data) => data ? `+${numeral(data).format(\"0.0a\")}` : \"+0\"\r\n\r\n    const AsyncMap = withScriptjs(\r\n        withGoogleMap(\r\n        props => (\r\n\r\n            <GoogleMap google={this.props.google}\r\n            defaultZoom={this.state.zoom}\r\n            defaultCenter={{ lat: this.state.mapPosition.lat, lng: this.state.mapPosition.lng }}\r\n            >\r\n            \r\n            <Autocomplete\r\n                style={{\r\n                width: '32%',\r\n                maxWidth: '100%',\r\n                position: 'absolute',\r\n                height: '34.5px',\r\n                top: '8.4rem',\r\n                right: '4.6rem'\r\n                }}\r\n                onPlaceSelected={ this.onPlaceSelected }\r\n                types={['(regions)']}\r\n                // componentRestrictions={{country: \"us\"}}\r\n            />          \r\n            {/*Marker*/}\r\n            <Marker google={this.props.google}\r\n                    draggable={true}\r\n                    onDragEnd={ this.onMarkerDragEnd }\r\n                    position={{ lat: this.state.markerPosition.lat, lng: this.state.markerPosition.lng }}\r\n            />\r\n            <Marker />\r\n    \r\n            {/* <InfoWindow\r\n                onClose={this.onInfoWindowClose}\r\n                position={{ lat: ( this.state.markerPosition.lat + 0.0018 ), lng: this.state.markerPosition.lng }}\r\n            >\r\n                <div>\r\n                <span style={{ padding: 0, margin: 0 }}>{ this.state.address }</span>\r\n                </div>\r\n            </InfoWindow> */}\r\n            </GoogleMap>\r\n     )\r\n    )\r\n    );\r\n\r\n    //need fix use Redirect\r\n\r\n    const toggleAccountUser = () => {\r\n        if(!me){\r\n                // window.location.href = \"/ndsappbeta/weather/greeting/newuser&account\";\r\n            this.setState({\r\n                isLoginPage: true,\r\n                urlReDirect: '/ndsappbeta/weather/greeting/newuser&account'\r\n            })\r\n            // return (\r\n            //     <Redirect to={\"/ndsappbeta/weather/greeting/newuser&account\"}/>\r\n            // )\r\n        }else{\r\n            // return (\r\n            //     <Redirect to={\"/ndsappbeta/chat\"} />\r\n            // )\r\n            this.setState({\r\n                isLoginPage: true,\r\n                urlReDirect: '/ndsappbeta/chat'\r\n            })\r\n            // window.location.href = \"ndsappbeta/chat\";\r\n        }\r\n    }\r\n\r\n    if(this.state.isLoginPage)\r\n    return (<Redirect to={`${this.state.urlReDirect}`}/>)\r\n\r\n    return (\r\n      <div className=\"app1\">\r\n      <NotificationProvider state = {this.state.addNotiSignal} type = {this.state.typeNoti} message = {this.state.newNotification} />\r\n      <StyledHero img={this.state.img}>\r\n      <div className=\"about-navbar\">\r\n        <div className=\"nav-header\">\r\n            <button type=\"button\" \r\n                className=\"nav-btn\"\r\n                onClick={this.handleToggle}\r\n            >\r\n                {\r\n                    this.state.isOpen ? <VscChromeClose className=\"nav-icon\" /> : <VscGrabber className=\"nav-icon\" />\r\n                }\r\n            </button>\r\n            <div onClick={() => toggleAccountUser()} className=\"toggle-lang\">\r\n               {nameUser}\r\n                {/* <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" width=\"25\" height=\"25\" aria-hidden=\"true\" focusable=\"false\" fill=\"currentColor\">\r\n                <path d=\"M217.982 201.586h-64.499c-5.537 0-10.026 4.489-10.026 10.026s4.489 10.026 10.026 10.026h53.547c-4.72 25.263-26.935 44.446-53.547 44.446-30.037 0-54.473-24.436-54.473-54.473s24.436-54.473 54.473-54.473c14.55 0 28.229 5.667 38.518 15.955 3.916 3.916 10.264 3.916 14.178 0 3.916-3.916 3.916-10.264 0-14.178-14.077-14.077-32.791-21.829-52.697-21.829-41.094 0-74.525 33.431-74.525 74.525 0 41.094 33.431 74.525 74.525 74.525s74.525-33.431 74.525-74.525c.001-5.536-4.488-10.025-10.025-10.025z\"></path>\r\n                <path d=\"M470.331 92.24H269.728l-26.935-81.355a10.025 10.025 0 00-9.518-6.875H41.669C18.693 4.01 0 22.703 0 45.679v332.412c0 22.976 18.693 41.669 41.669 41.669h203.145l27.073 81.369a10.026 10.026 0 009.513 6.861h188.932c22.976 0 41.669-18.693 41.669-41.669V133.909c-.001-22.976-18.694-41.669-41.67-41.669zM41.669 399.708c-11.919 0-21.616-9.697-21.616-21.616V45.679c0-11.919 9.697-21.616 21.616-21.616h184.364l70.691 213.516a.366.366 0 00.015.043l53.664 162.086H41.669zm295.78-116.433c.805 1.11 10.824 14.877 26.355 34.066-4.377 5.756-9.015 11.474-13.91 17.036l-29.712-89.74h87.441c-6.196 13.031-16.938 33.813-31.692 55.736-13.553-16.921-22.069-28.622-22.249-28.87-3.251-4.482-9.519-5.481-14.002-2.23-4.482 3.25-5.48 9.518-2.231 14.002zM265.946 419.76h75.162l-55.503 59.084-19.659-59.084zm226.002 46.561c0 11.919-9.697 21.616-21.616 21.616H304.575l67.015-71.339-.004-.003c.293-.312.571-.64.823-.991a10.025 10.025 0 001.39-9.022l-16.688-50.402c7.073-7.406 13.68-15.143 19.805-22.965 13.299 15.772 29.037 33.446 45.778 50.187 1.957 1.957 4.524 2.937 7.089 2.937s5.132-.979 7.089-2.937c3.916-3.916 3.916-10.264 0-14.178-17.461-17.461-34.013-36.244-47.687-52.632 21.251-30.503 35.033-59.504 40.535-71.954h21.454c5.537 0 10.026-4.489 10.026-10.026s-4.489-10.026-10.026-10.026h-66.173v-18.047c0-5.537-4.489-10.026-10.026-10.026s-10.026 4.489-10.026 10.026v18.046h-51.406l-37.178-112.292H470.33c11.919 0 21.616 9.697 21.616 21.616v332.412z\"></path>\r\n                </svg> */}\r\n            </div>\r\n        </div>\r\n        \r\n        <div className={this.state.isOpen ? \"nav-items show-nav-items\" : \"nav-items\"} >\r\n            \r\n            <a onClick={() => this.toggleActiveWindow(1)} >\r\n                <div  className={classNames('nav-item', {'active': this.state.isChat })}>\r\n                    Weather Mark\r\n                </div>\r\n            </a>\r\n            \r\n            <a onClick={() => this.toggleActiveWindow(2)}>\r\n                <div  className={classNames('nav-item', {'active': this.state.isWrite})}>\r\n                    Corona Mark\r\n                </div>\r\n            </a>\r\n         \r\n            <a onClick={() => this.toggleActiveWindow(3)}>\r\n                <div   className={classNames('nav-item', {'active': this.state.isShowFormAddMessage })}>\r\n                    Plane Mark\r\n                </div>\r\n            </a>\r\n           \r\n            <a  onClick={() => this.toggleActiveWindow(4)}>\r\n                <div   className={classNames('nav-item', {'active': this.state.isShowInstruction })}>\r\n                    Instruction\r\n                </div>\r\n            </a>\r\n        </div>\r\n        </div>\r\n        <div className=\"main-retrille\">\r\n            <div className=\"left-armap\">\r\n                {/* <div className=\"img-user-retrille\" >\r\n                    \r\n                    <div onClick={() =>this.toggleAccountUser(me)} className=\"user-img-channel\">\r\n                        <img className=\"img-profile\" src={profileImg ? `http://localhost:8080/${profileImg}` : defaultImg}  alt=\"user-img\"></img>\r\n                    </div>\r\n                  \r\n                    <span>{name}</span>\r\n                </div>   */}\r\n                <ul className=\"left-navbar-retrille\">\r\n                    <li className={this.state.isChat ? \"active\" : null } onClick={() => this.toggleActiveWindow(1)}>\r\n                        <span><Tooltip title=\"Weather Mark\" placement=\"left-start\">\r\n                            <IconButton style={{fontSize: '1rem', color: 'hsl(186, 100%, 94%)'}}>\r\n                                <TiWeatherPartlySunny />\r\n                            </IconButton></Tooltip>\r\n                        </span>\r\n                        <p></p>\r\n                    </li>\r\n                    <li className={this.state.isWrite ? \"active\" : null } onClick={() => this.toggleActiveWindow(2)}>\r\n                        <span><Tooltip title=\"Corona Mark\" placement=\"left-start\">\r\n                            <IconButton style={{fontSize: '1rem', color: 'hsl(186, 100%, 94%)'}}>\r\n                                <MdLocalHospital />\r\n                            </IconButton></Tooltip>\r\n                        </span>\r\n                        <p></p>\r\n                    </li>\r\n                    <li className={this.state.isShowFormAddMessage ? \"active\" : null } onClick={() => this.toggleActiveWindow(3)}>\r\n                        <span><Tooltip title=\"Plane Mark\" placement=\"left-start\">\r\n                            <IconButton style={{fontSize: '1rem', color: 'hsl(186, 100%, 94%)'}}>\r\n                                <RiPlaneLine />\r\n                            </IconButton></Tooltip>\r\n                        </span>\r\n                        <p></p>\r\n                    </li>\r\n                    <li className={this.state.isShowInstruction ? \"active\" : null } onClick={() => this.toggleActiveWindow(4)}>\r\n                        <span><Tooltip title=\"Instruction\" placement=\"left-start\">\r\n                            <IconButton style={{fontSize: '1rem', color: 'hsl(186, 100%, 94%)'}}>\r\n                                <AiOutlineQuestionCircle />\r\n                            </IconButton>\r\n                            </Tooltip>\r\n                        </span>\r\n                        <p></p>\r\n                    </li>\r\n                    \r\n                </ul>\r\n            </div>\r\n\r\n            {\r\n              this.state.isChat ? \r\n              \r\n              <div className=\"right-weather\">\r\n\r\n                <div className=\"right-retrille-main\">\r\n                   \r\n                    <div className='map-content'>     \r\n                        <div className=\"map-content-left-main\">\r\n                            <div className=\"listMarks\">\r\n                                {(this.state.isLoadingMarks && !this.state.isFormAddNewMark) ? <div className='loading-marks'>\r\n                                    <LoadingMini></LoadingMini>\r\n                                </div>\r\n                                : null\r\n                                }\r\n                               \r\n                                {\r\n                                    this.state.isFormAddNewMark ? <form className=\"form-addmark\">\r\n                                        {   this.state.loadingRequire ? <div className=\"loadingGif-User\">\r\n                                                <img className=\"img-loading-require\" src = {loadingImg} alt=\"\" />\r\n                                            </div>\r\n                                            :\r\n                                            null\r\n                                        }\r\n                                        <ul>\r\n                                            <li>\r\n                                            { this.state.message ? <p className={classNames('app-msg', _.get(this.state.message, 'type'))}>\r\n                                                {_.get(this.state.message, 'body')}\r\n                                                </p> : null } \r\n                                            </li>\r\n                                            <li>\r\n                                                <label htmlFor=\"message\">Name</label>\r\n                                                <input \r\n                                                placeholder=\"ex: My Mark\" \r\n                                                required type=\"text\" name=\"txtNameMark\"\r\n                                                value = {this.state.txtNameMark} \r\n                                                onChange = {({target})=>\r\n                                                    this.setState({txtNameMark: target.value})\r\n                                                } \r\n                                                autoFocus\r\n                                                id=\"txtMessage\" ></input>\r\n                                            </li>\r\n                                            <li>\r\n                                                <label htmlFor=\"message\">City Name</label>\r\n                                                <input \r\n                                                placeholder=\"ex: Sa Dec City\" \r\n                                                type=\"text\" name=\"txtMessage\"\r\n                                                value = {this.state.city} \r\n                                                onChange = {({target})=>\r\n                                                    this.setState({txtMessage: target.value})\r\n                                                } \r\n                                                id=\"txtMessage\" ></input>\r\n                                            </li>\r\n                                            <li>\r\n                                                <label htmlFor=\"message\">District</label>\r\n                                                <input \r\n                                                placeholder=\"ex: Lai Vung\" \r\n                                                type=\"text\" name=\"txtMessage\"\r\n                                                value = {this.state.area} \r\n                                                onChange = {({target})=>\r\n                                                    this.setState({txtMessage: target.value})\r\n                                                } \r\n                                                id=\"txtMessage\" ></input>\r\n                                            </li>\r\n                                            <li>\r\n                                                <label htmlFor=\"message\">State</label>\r\n                                                <input \r\n                                                placeholder=\"ex: Dong Thap\" \r\n                                                type=\"text\" name=\"txtMessage\"\r\n                                                value = {this.state.state} \r\n                                                onChange = {({target})=>\r\n                                                    this.setState({txtMessage: target.value})\r\n                                                } \r\n                                                id=\"txtMessage\" ></input>\r\n                                            </li>\r\n                                            <li>\r\n\r\n                                                <span>\r\n                                                    <label htmlFor=\"text\">Latitude</label>\r\n                                                    <input required value={this.state.mapPosition.lat} onChange={(event) => {\r\n                                                        this.setState({type: event.target.value})\r\n                                                    }}></input>\r\n                                                </span>\r\n                                                <span>\r\n                                                    <label htmlFor=\"text\">Longitude</label>\r\n                                                    <input required value={this.state.mapPosition.lng}\r\n                                                    onChange={(event) => this.setState({ langMessage: event.target.value })}></input>\r\n                                                </span>\r\n                                               \r\n                                            </li>\r\n                                            <li>\r\n                                            <label htmlFor=\"message\">Message</label>\r\n                                           \r\n                                                <input \r\n                                                placeholder=\"Your Message\" \r\n                                                type=\"text\" name=\"txtMessage\"\r\n                                                value = {this.state.txtMessage} \r\n                                                onChange = {({target})=>\r\n                                                    this.setState({txtMessage: target.value})\r\n                                                } \r\n                                                id=\"txtMessage\" ></input>\r\n                                                <lable className=\"check-show-author\">\r\n                                                    <input type=\"checkbox\" name=\"showAuthor\" id=\"showAuthor\"\r\n                                                    checked={this.state.isShowMark} onChange={(e) => this.setState({isShowMark: e.target.checked})}\r\n                                                    />\r\n                                                    <span  htmlFor=\"showAuthor\" className=\"checkmark\" >Show mark in public</span>\r\n                                                </lable>\r\n                                            </li>\r\n                                            <li> \r\n                                                <button disabled={!this.state.isFormAddNewMark ? true : false} onClick={this.toggleSubmit}\r\n                                                type=\"button\" className=\"btn-primary\">Add Mark</button>\r\n                                            </li>\r\n                                        </ul>\r\n                                       \r\n                                        </form>\r\n                                        :\r\n                                        null\r\n                                    \r\n                                }\r\n                                {markList.map((mark, key) =>{\r\n                                    \r\n                                    return <div key={key} className={`instruction ${(this.state.questKey.includes(key.toString()) ? 'active' : null)}`}>\r\n                                        <div onClick={() => this.toggleActiveQuestion(key)}  style={{background: `url(${mark.covid19.flag}) center/cover no-repeat`}} className=\"header-quest\">\r\n                                            <span>{mark.nameMark || 'noValue'} </span>\r\n                                            <span>\r\n                                                <IconButton>\r\n                                                    { (this.state.questKey.includes(key.toString())) ? <RiSubtractLine /> : <BsPlus /> }\r\n                                                </IconButton>\r\n                                            </span>\r\n                                        </div>\r\n                                        {/* <div className={`body-quest ${this.state.activeQuestTxt ? \"active\" : \"\"}`}> */}\r\n                                        \r\n                                        <div className={`body-quest ${(this.state.questKey.includes(key.toString()) ? 'active' : null)}`}>\r\n                                        <div className=\"img-user-retrille\" >\r\n                           \r\n                                            <div className=\"user-img-channel\">\r\n                                                <img  className=\"img-profile\" src={mark.imgMark ? `https://ndschatserver.herokuapp.com/${mark.imgMark}` : defaultImg}  alt=\"user-img\"></img>\r\n                                            </div>\r\n                                            \r\n                                            <span>| {(mark.lat.toFixed(5))}-{(mark.lng.toFixed(5))} </span>\r\n\r\n                                        </div>  \r\n\r\n                                            <div className=\"infobase-mark\">\r\n                                    \r\n                                                <span>Basic Info Mark</span>\r\n                                                <div>Manager: {mark.manager}</div>\r\n                                                <div>City name: {mark.city || 'noValue'}</div>\r\n                                                <div>District: {mark.district|| 'noValue'}</div>\r\n                                                <div>State: {mark.state|| 'noValue'}</div>\r\n                                                <div>Continent: {mark.covid19.continent || 'noValue'}</div>\r\n                                                <div>Localtime: {mark.localtime}</div>\r\n                                                <div>Country: {mark.country || 'noValue'}</div>\r\n                                                <div>Public: {mark.public ? 'EveryOne' : 'OnlyMe'}</div>\r\n                                                <div>Follow: {mark.follow ? 'On' : 'Stop'}</div>\r\n                                                <div>Active: {mark.active ? 'online' : null}</div>\r\n                                                <div>Message: {mark.desc}</div>\r\n                                                <div className=\"deliver-popup\"></div>\r\n                                                <span>Monitoring Info Mark</span>\r\n                                                <div>Description: {mark.current.descript}</div>\r\n                                                <div>Calc Temperature: {mark.current.temp_c} degree</div>\r\n                                                <div>Real Temperature: {mark.current.feelslike_c} degress</div>\r\n                                                <div>Precip_Rain: {mark.current.precip_mm} mm</div>\r\n                                                <div>Humidity: {mark.current.humidity}%</div>\r\n                                                <div>Pressure: {mark.current.pressure_mb}Pa</div>\r\n                                                <div>Wind-Dir: {mark.current.wind_dir}</div>\r\n                                                <div>Wind-Degree: {mark.current.wind_degree} Degree</div>\r\n                                                <div>Speed Wind: {mark.current.wind_kph}kph</div>\r\n                                                <div>Uv: {mark.current.uv}</div>\r\n                                                <div>Visible: {mark.current.vis_km} km</div>\r\n                                                <div className=\"deliver-popup\"></div>\r\n                                                <span>Covid19-State</span>  \r\n                                                <div>Casses: {mark.covid19.caseCvid19}</div>\r\n                                                <div>Recovered: {mark.covid19.recoveredCvid19}</div>\r\n                                                <div>Deaths: {mark.covid19.deathsCvid19}</div>\r\n                                                <div>ReCovPerOneMillion: {mark.covid19.recoveredPerOneMillionCvid19}%</div>\r\n                                               \r\n\r\n                                                <div>Created: {(new Date(mark.created)).toDateString() + \" \" + (new Date(mark.created)).getHours() + \":\"+ (new Date(mark.created)).getMinutes()}</div>\r\n                                            </div>\r\n                                            \r\n                                        </div>\r\n                                    </div>\r\n\r\n                                })}\r\n                               \r\n                            </div>\r\n                        </div>\r\n                        <div className=\"map-content-right-main\">\r\n                            <div className=\"right-main\">\r\n                            <div className=\"map-cv-header\">\r\n                                <div className=\"invi-marks\">\r\n                                    <button \r\n                                    // disabled={this.state.isFormAddNewMark ? true : false} \r\n                                    onClick = {this.toggleAddMark}\r\n                                        type=\"button\" className=\"login-btn\">{this.state.isFormAddNewMark ? 'Cancel': 'Add newMark'}\r\n                                    </button>\r\n                                    {/* <div className=\"action-mini\">\r\n                                    <Tooltip title=\"Add New Mark\" placement=\"left-start\">\r\n                                        <IconButton  onClick = {this.toggleAddMark} style={{color: \"rgba(199, 159, 199, 0.9)\"}} >\r\n                                            {this.state.isFormAddNewMark ? <BsPlus style={{fontSize:'2.2rem'}} /> : <RiSubtractLine style={{fontSize:'2.2rem'}} />}\r\n                                        </IconButton>\r\n                                    </Tooltip>\r\n                                    </div> */}\r\n                                </div>\r\n                                <div className=\"invi-marks-warning\">\r\n                                    Add mark is not supported on this device\r\n                                </div>\r\n                                {/* <li>\r\n                                    <select name=\"\" onChange={(e) => this.onChangeCountrySelect(e)} value={this.state.country}>\r\n                                    <option value='worldwide'>Worldwide</option>\r\n                                   {console.log(countries)}\r\n                                        {countries.map(country => (\r\n                                         \r\n                                            <option value={country.value}>{country.name}</option>\r\n                                        ))}\r\n                                    )\r\n                                    </select>\r\n                                </li> */}\r\n                                { !this.state.isFormAddNewMark ?   <li>\r\n                                    <select name=\"\"  onChange={(e) => this.onChangeMarkSelect(e)} value={this.state.markPos} >\r\n                                        <option value='mymark'>MyMark</option>\r\n                                        {markList.map(mark => (\r\n                                            <option value={mark.nameMark}>{mark.nameMark || 'noValue'}</option>\r\n                                        ))}\r\n                                    )\r\n                                    </select>\r\n                                </li>\r\n                                : null}\r\n                              \r\n                            \r\n                            </div>\r\n                            <div className=\"map-area\">\r\n                                {this.state.isFormAddNewMark ?  <AsyncMap\r\n                                    googleMapURL=\"https://maps.googleapis.com/maps/api/js?hl=en-GB&key=AIzaSyD57PRHJQSQ5XQOuNtAWpRBOP-UCX5pSzA&libraries=places\"\r\n                                    loadingElement={\r\n                                    <div style={{ height: `100%` }} />\r\n                                    }\r\n                                    containerElement={\r\n                                    <div style={{ height: `555px` }} />\r\n                                    }\r\n                                    mapElement={\r\n                                    <div style={{ height: `100%` }} />\r\n                                    }\r\n                                />\r\n                                :\r\n                                <MainMap allMark = {allMarkList} marks= {markList} zoom={this.state.mapZoomMain} center={this.state.mapCenterMain} />}\r\n                                \r\n                            </div>\r\n                            </div>\r\n                           \r\n                       \r\n                       </div>\r\n                    </div>\r\n\r\n\r\n                </div>\r\n                <div className=\"read-more-weather\">\r\n\r\n                    <span onClick= {() => this.setState({readMore: !readMore})}>{!readMore ? 'See More' : 'Hidden'}</span>\r\n            \r\n                </div>\r\n                {  \r\n                    readMore ? <div className=\"main-info-marks\">\r\n                    <div className=\"title-proccess-marks\">Visualise Data Marks</div>\r\n\r\n\r\n                    <div className=\"proccess-marks-value\">\r\n                    <table>\r\n                    <caption>Title of table marks</caption>\r\n                        <thead>\r\n                            <tr>\r\n                            <th>MarkPos</th>\r\n                            <th>Latitude</th>\r\n                            <th>Longitude</th>\r\n                            <th>Localtime</th>\r\n                            <th>Country</th>\r\n                            <th>Follow</th>\r\n                            <th>Temperature</th>\r\n                            <th>Real-Temp</th>\r\n                            <th>Humidity</th>\r\n                            <th>Precip-Rain</th>\r\n                            <th>Pressure</th>\r\n                            <th>Uv</th>\r\n                            <th>Visible</th>\r\n                            <th>Wind-speed</th>\r\n                            <th>Wind-dir</th>\r\n                            <th>Gust-wind</th>\r\n                            <th>Last-Update</th>\r\n                           \r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                        {markList.map((mark) => (\r\n                               \r\n                               <tr>\r\n                                   <th  data-column=\"MarkPos\">{mark.nameMark || 'noValue'}</th>\r\n                                   <td  data-column=\"Latitude\">{mark.lat.toFixed(5)}</td>\r\n                                   <td  data-column=\"Longitude\">{mark.lng.toFixed(5)}</td>\r\n                                   <td  data-column=\"Localtime\">{(new Date(mark.localtime)).getHours() + \":\"+ (new Date(mark.localtime)).getMinutes()}</td>\r\n                                   <td  data-column=\"Country\">{mark.country}</td>\r\n                                   <td  data-column=\"Follow\">{mark.follow ? 'Yes': 'No'}</td>\r\n                                   <td  data-column=\"Temperature\">{mark.current.temp_c}</td>\r\n                                   <td  data-column=\"Real-Temp\">{mark.current.feelslike_c}</td>\r\n                                   <td  data-column=\"Humidity\">{mark.current.humidity}</td>\r\n                                   <td  data-column=\"Precip-Rain\">{mark.current.precip_mm}</td>\r\n                                   <td  data-column=\"Pressure\">{mark.current.pressure_mb}</td>\r\n                                   <td  data-column=\"Uv\">{mark.current.uv}</td>\r\n                                   <td  data-column=\"Visible\">{mark.current.vis_km}</td>\r\n                                   <td  data-column=\"Wind-speed\">{mark.current.wind_kph}</td>\r\n                                   <td  data-column=\"Wind-dir\">{mark.current.wind_dir}</td>\r\n                                   <td  data-column=\"Gust-wind\">{mark.current.gust_kph}</td>\r\n                                   <td  data-column=\"Last-Update\">{(new Date(mark.current.last_updated)).getHours() + \":\"+ (new Date(mark.current.last_updated)).getMinutes()}</td>\r\n                                  \r\n                               </tr>\r\n                               \r\n                               ))}\r\n                        </tbody>\r\n                        </table>\r\n                        </div>\r\n                       \r\n\r\n                        <div className=\"chart-marks\">\r\n                        {markList.map(mark => (\r\n                            <Charts mark = {mark} />\r\n                        ))}\r\n                        </div>\r\n\r\n\r\n                        <div className=\"title-forecast-nexttime\">Forecast the nextTime</div>\r\n                        <div className=\"forecastmark\">\r\n    \r\n                            <ChartForecast nameMark = {this.state.markPos} mark = {this.state.markForecast} />\r\n                            \r\n                        </div>\r\n                        </div> : null\r\n    \r\n                }\r\n               \r\n                    {/* <GetPositionMap\r\n\r\n                    google={this.props.google}\r\n                    center={{lat: 18.5204, lng: 73.8567}}\r\n                    height='300px'\r\n                    zoom={15}\r\n                    \r\n                    /> */}\r\n\r\n            </div>\r\n            : \r\n            null\r\n            }\r\n           \r\n            \r\n            {\r\n              this.state.isWrite ? \r\n              <div className=\"right-weather\">\r\n                <div className=\"right-retrille-main\">\r\n                    <div className='map-content'>\r\n                        <div className=\"map-content-left\">\r\n                            <div className=\"map-cv-header\">\r\n                                <div className=\"invi-marks\"></div>\r\n                                <li>\r\n                                    <select name=\"\" onChange={(e) => this.onChangeCountrySelect(e)} value={this.state.country}>\r\n                                    <option value='worldwide'>Worldwide</option>\r\n                                        {countries.map(country => (\r\n                                            <option value={country.value}>{country.name}</option>\r\n                                        ))}\r\n                                    )\r\n                                    </select>\r\n                                </li>\r\n                            \r\n                            </div>\r\n                            <div className=\"map-cv-stats\">\r\n                                <InfoBox active={this.state.casesType === \"cases\"}\r\n                                onClick={() => this.setState({casesType: 'cases'})} \r\n                                title =\"Coronavirus Cases\" cases= {formatStatInfo(infoCountry.todayCases)} \r\n                                total={numeral(infoCountry.cases).format(\"0.0a\")}/>\r\n                                <InfoBox active={this.state.casesType === \"recovered\"}\r\n                                onClick={() => this.setState({casesType: 'recovered'})} \r\n                                title =\"Recovered\" cases= {formatStatInfo(infoCountry.todayRecovered)} \r\n                                total= {numeral(infoCountry.recovered).format(\"0.0a\")} />\r\n                                <InfoBox active={this.state.casesType === \"deaths\"}\r\n                                onClick={() => this.setState({casesType: 'deaths'})} \r\n                                title =\"Deaths\" cases= {formatStatInfo(infoCountry.todayDeaths)} \r\n                                total= {numeral(infoCountry.deaths).format(\"0.0a\")}/>\r\n                            </div>\r\n                            <div className=\"map-area\">\r\n                                <MapCv marks= {markList} casesType= {this.state.casesType} countries= {this.state.mapCountries} zoom={this.state.mapZoom} center={this.state.mapCenter} />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"map-content-right\">\r\n                        <Card>\r\n                            <CardContent>\r\n                                <div className='map-header-right'>\r\n                                    <span>Live Cases by Country</span>\r\n                                    <IconButton onClick={this.toggleChangeTypeSort}>\r\n                                        <BiSort style={{color: `${this.state.colorBtnSort}`, fontSize: '1.5rem'}} />\r\n                                    </IconButton>\r\n                                </div>\r\n                               \r\n                                \r\n                                <Table countries={this.state.tableData} />\r\n                                <h5 style={{marginTop: '1rem', textAlign: 'center'}}>Live rate value</h5>\r\n                                <LineGraph casesType= {this.state.casesType} />\r\n\r\n                            </CardContent>\r\n                            {/* <CardContent>Some thing here</CardContent> */}\r\n                        </Card>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n            : \r\n            null\r\n            }\r\n            {\r\n            this.state.isShowFormAddMessage ? \r\n            <div className=\"right-weather\">\r\n                <div className=\"main-plane-map\">\r\n                    <div className='map-plane'>\r\n                        {(this.state.isAllPlanes === 2 || this.state.isRealtimePlane === 1)?  <div className=\"map-cv-header\">\r\n                            <div className=\"invi-marks\">\r\n                                <div className=\"name-planes-ofmark\">\r\n                                    Name Mark:    {this.state.markPos}\r\n                                </div>\r\n                                <div className=\"total-planes-ofmark\">\r\n                                    Active (R=100km):   {this.state.amountPlanesOfMark || 0} aircraft\r\n                                </div>\r\n                                <div className=\"timelast-planes-ofmark\">\r\n                                    Last Contact:   <Moment fromNow>{this.state.lastContactOfMark}</Moment>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {\r\n                                this.state.isRealtimePlane === 0 ?  <>\r\n                                <span style={{color: 'rgba(0, 0, 0, 0.6)'}}>Static Time</span>\r\n                                <li>\r\n                                    <select name=\"\"  onChange={(e) => this.onChangeMarkSelect(e)} value={this.state.markPos} >\r\n                                        <option value='mymark'>MyMark</option>\r\n                                        {markList.map(mark => (\r\n                                            <option value={mark.nameMark}>{mark.nameMark || 'noValue'}</option>\r\n                                        ))}\r\n                                    )\r\n                                    </select>\r\n                                </li>\r\n                                </> : <>\r\n                                <span style={{color: 'rgb(36, 139, 10)'}}>Real Time</span>\r\n                                <li>\r\n                                    <select name=\"\"  onChange={(e) => this.onChangeMarkSelectRealtime(e)} value={this.state.markPosRealtime} >\r\n                                        {markList.map(mark => (\r\n                                            <option value={mark.nameMark}>{mark.nameMark || 'noValue'}</option>\r\n                                        ))}\r\n                                    )\r\n                                    </select>\r\n                                </li>\r\n                                </>\r\n                            }\r\n                            \r\n                        \r\n                        </div> : null}\r\n                        \r\n                        <div className=\"map-area\">\r\n                            \r\n                            <MapPlane infoPlanes = {(e, i, l) => this.infoPlanes(e, i, l)} \r\n                                marks= {markList.toArray()} isRealtimePlane = {this.state.isRealtimePlane} \r\n                                isAllPlanes= {this.state.isAllPlanes} \r\n                                mapMarkfindPlaneRealtime = {this.state.mapMarkfindPlaneRealtime}\r\n                                zoom={this.state.mapZoom} center={this.state.mapCenter} \r\n                                typeOfMap={this.state.typeOfMap} mapMarkfindPlane={this.state.mapMarkfindPlane}\r\n                                infoPlanesOfMark = {(e, l) => this.infoPlanesOfMark(e, l)}\r\n                                    />\r\n                            \r\n                        </div>\r\n                    </div>\r\n                    <div className=\"right-navbar\">\r\n                        <ul className=\"right-navbar-write\">\r\n                            <li>\r\n                                <span><Tooltip  title=\"Show Tab Left\" placement=\"left-start\">\r\n                                    <IconButton onClick={() => this.setState({showSettingVoice: !showSettingVoice, isRealtimePlane: false})} style={{fontSize: '1rem', color: 'hsl(186, 100%, 94%)'}}>\r\n                                        <BiDotsHorizontalRounded />\r\n                                    </IconButton></Tooltip>\r\n                                </span>\r\n                                <p></p>\r\n                            </li>\r\n                            <li>\r\n                                <span><Tooltip title=\"AirCraft in Range\" placement=\"left-start\">\r\n\r\n                                    {this.state.isRealtimePlane === 1 ? <IconButton onClick={this.toggleChangeIsPlanes} style={{fontSize: '1rem', color: 'rgb(36, 139, 10)'}}>\r\n                                        <BiRadioCircleMarked />\r\n                                    </IconButton> : <IconButton onClick={this.toggleChangeIsPlanes} style={{fontSize: '1rem', color: 'hsl(186, 100%, 94%)'}}>\r\n                                        <BiRadioCircleMarked />\r\n                                    </IconButton>  }\r\n\r\n                                    </Tooltip>\r\n\r\n                                </span>\r\n                                <p></p>\r\n                            </li>\r\n                            <li>\r\n                                <span><Tooltip title=\"All AirCraft\" placement=\"left-start\">\r\n                                    <IconButton onClick={() => this.setState({ isRealtimePlane: 0, isAllPlanes: 0})} style={{fontSize: '1rem', color: 'hsl(186, 100%, 94%)'}}>\r\n                                        <IoIosPlanet />\r\n                                    </IconButton></Tooltip>\r\n                                </span>\r\n                                <p></p>\r\n                            </li>\r\n                            <li>\r\n                                <span><Tooltip title=\"Aircraft in Marks\" placement=\"left-start\">\r\n                                    <IconButton onClick={() => this.setState({isRealtimePlane: 0, isAllPlanes: 1})} style={{fontSize: '1rem', color: 'hsl(186, 100%, 94%)'}}>\r\n                                        <BiCurrentLocation />\r\n                                    </IconButton></Tooltip>\r\n                                </span>\r\n                                <p></p>\r\n                            </li>\r\n                            <li>\r\n                                <span><Tooltip title=\"Hide AirCraft\" placement=\"left-start\">\r\n                                    <IconButton onClick={() => this.setState({isRealtimePlane: 0, isAllPlanes: false})} style={{fontSize: '1rem', color: 'hsl(186, 100%, 94%)'}}>\r\n                                        <MdAirplanemodeInactive />\r\n                                    </IconButton></Tooltip>\r\n                                </span>\r\n                                <p></p>\r\n                            </li>\r\n                            <li>\r\n                                <span><Tooltip title=\"StreetMap\" placement=\"left-start\">\r\n                                    <IconButton onClick={() => this.setState({typeOfMap: 0})} style={{fontSize: '1rem', color: 'hsl(186, 100%, 94%)'}}>\r\n                                        <SiOpenstreetmap />\r\n                                    </IconButton></Tooltip>\r\n                                </span>\r\n                                <p></p>\r\n                            </li>\r\n                            <li>\r\n                                <span><Tooltip title=\"GeographyMap\" placement=\"left-start\">\r\n                                    <IconButton onClick={() => this.setState({typeOfMap: 1})} style={{fontSize: '1rem', color: 'hsl(186, 100%, 94%)'}}>\r\n                                        <RiMap2Fill />\r\n                                    </IconButton></Tooltip>\r\n                                </span>\r\n                                <p></p>\r\n                            </li>\r\n                            <li>\r\n                                <span><Tooltip title=\"LightMap\" placement=\"left-start\">\r\n                                    <IconButton onClick={() => this.setState({typeOfMap: 2})} style={{fontSize: '1rem', color: 'hsl(186, 100%, 94%)'}}>\r\n                                        <FaRegMap />\r\n                                    </IconButton></Tooltip>\r\n                                </span>\r\n                                <p></p>\r\n                            </li>\r\n                            <li>\r\n                                <span><Tooltip title=\"DarkMap\" placement=\"left-start\">\r\n                                    <IconButton onClick={() => this.setState({typeOfMap: 3})} style={{fontSize: '1rem', color: 'hsl(186, 100%, 94%)'}}>\r\n                                        <FaMap />\r\n                                    </IconButton></Tooltip>\r\n                                </span>\r\n                                <p></p>\r\n                            </li>\r\n                            \r\n                                                                        \r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            : null\r\n        }\r\n        {showSettingVoice ? <Draggable style={{\r\n                            zIndex: 1111,\r\n                            position: 'absolute',\r\n                            cursor: 'move',\r\n                            maxHeight: '40rem',\r\n                            left: '3.5rem',\r\n                            marginRight: '1rem', \r\n                            transform: 'translate(-50%, 0)',\r\n                        }}>\r\n                    <div className=\"tab-plane-left\">\r\n                        <div className='main-tab-plane-left'>\r\n                            <h4>Data Marks-Flight</h4>\r\n                            <div className=\"header-tab-plane-left\">\r\n                                <div className=\"total\">Total: {this.state.amountPlanes} </div>\r\n                                <div className=\"lats-connect\"> Last Contact: <Moment fromNow>{this.state.lastContact}</Moment></div>\r\n                            </div>  \r\n                            {/* <div className=\"deliver-popup\"></div> */}\r\n\r\n                            {this.state.listPlanes.map((listPlanes, key) => {\r\n                                return (\r\n                                    \r\n                                    <div className=\"list-planes-ofmarks\">\r\n                                    \r\n                                        <div className='list-planes-title'>\r\n                                        {listPlanes.nameMark || 'noValue'}\r\n                                        <span>{(listPlanes.data).length} planes</span>\r\n                                        <span>\r\n                                            <IconButton onClick={() => this.setState({showDetailPlanes: !showDetailPlanes, showDetailPlanesKey: key })} style={{fontSize: '1rem', color: 'hsl(186, 100%, 94%)'}}>\r\n                                                <AiOutlineQuestionCircle />\r\n                                            </IconButton>\r\n                                        </span>\r\n                                        </div>\r\n                                        {showDetailPlanes && (showDetailPlanesKey === key) ? <div className=\"list-item-plane-mark\">\r\n                                            {listPlanes.data.map((plane, key) => (\r\n                                                <div className=\"item-plane-mark\">\r\n                                                {/* <div className=\"deliver-popup\"></div> */}\r\n                                                    <div className=\"icao\">iCAO24:  {plane.icao24}</div>\r\n                                                    <div className=\"signCall\">CallSign:   {plane.callSign}</div>\r\n                                                    <div className=\"originCountry\">Country-Original:   {plane.origin_country}</div>\r\n                                                    <div className=\"source\">Source-Signal:   {plane.position_source===0 ? 'ADS-B' : ( plane.position_source===1 ? 'ASTERIX' : 'MLAT' )}</div>\r\n                                                <div className=\"deliver-popup\"></div>\r\n                                                    <div className=\"locationPlane\">\r\n                                                        Location Current:   {plane.location.lat},  {plane.location.lng}\r\n                                                    </div>\r\n                                                    <div className=\"connectionLast\">Last Contact: <Moment fromNow>{plane.last_contact}</Moment></div>\r\n                                                    <div className=\"baroPlane\">\r\n                                                        Baro Current:   {plane.baro_altitude}m - {(plane.baro_altitude * 3.28).toFixed(2)}ft\r\n                                                    </div>\r\n                                                    <div className=\"\">\r\n                                                        Current Speed:   {plane.velocity}m/s - {(plane.velocity * 3.6).toFixed(2)}km/h\r\n                                                    </div>\r\n                                                    <div className=\"currentPlane\">Current Dir:   {plane.true_track} (degree)</div>\r\n                                                {/* <div className=\"deliver-popup\"></div> */}\r\n\r\n                                                </div>\r\n                                            ))}\r\n                                        \r\n                                            </div> : null }\r\n                                    \r\n                                    </div>\r\n                                \r\n                                )\r\n                            // console.log(listPlanes)\r\n                                }\r\n\r\n                            )\r\n                                                                            \r\n                        }\r\n                        </div>\r\n                    </div>\r\n                </Draggable>\r\n                :\r\n                null\r\n                }\r\n                {\r\n            this.state.isShowInstruction ? \r\n            <div className=\"main-instruction-weather\">\r\n                <div className=\"instruction-weather\">\r\n                    <div className=\"header-instruction\">The current page has been changed to the HelpsApp page</div>\r\n                    <button type=\"button\" className=\"btn-primary\"><a href=\"/about/help\">See More</a></button>\r\n                </div>\r\n            </div>\r\n            : null\r\n        }\r\n\r\n        </div>\r\n\r\n      </StyledHero>\r\n      </div>\r\n       \r\n    );\r\n  }\r\n}","import axios from 'axios';\r\nconst apiURL = \"https://ndschatserver.herokuapp.com\";\r\n// const apiURL = \"http://localhost:8080\"\r\nexport default class Service{\r\n    get(endpoint, options = null){\r\n        const url = `${apiURL}/${endpoint}`;\r\n        return axios.get(url, options);\r\n\r\n    }\r\n    post(endpoint = \"\", data = {}, options = {headers: {\r\n        'Content-Type': 'application/json',\r\n        'enctype': \"multipart/form-data\",\r\n}}){\r\n        const url = `${apiURL}/${endpoint}`;\r\n        return axios.post(url, data, options);\r\n    }\r\n}","import { OrderedMap } from \"immutable\";\r\nimport _ from 'lodash';\r\n\r\nexport default class Realtime{\r\n\r\n    constructor(store){\r\n        this.store = store;\r\n        this.ws = null;\r\n        this.isConnected = false;\r\n        this.connect();\r\n        this.reconnect();\r\n\r\n    }\r\n    // reconnect with server\r\n    reconnect(){\r\n        const store = this.store;\r\n        window.setInterval(() => {\r\n            const user = store.getCurrentUser();\r\n            if(user && !this.isConnected) {\r\n                this.connect();\r\n            }\r\n        }, 3000)\r\n    }\r\n\r\n    //decode message recieve from server\r\n    decoMessage(msg){\r\n        let message = {};\r\n        try{\r\n            message = JSON.parse(msg);\r\n        }\r\n        catch(err){\r\n            console.log(err)\r\n        }\r\n        return message;\r\n    }\r\n\r\n    // process message after decode\r\n    readMessage(msg){\r\n        const store = this.store;\r\n        const currentUser = store.getCurrentUser();\r\n        const currentUserId = _.toString(_.get(currentUser, '_id'));\r\n        const message = this.decoMessage(msg);\r\n        const action = _.get(message, 'action');\r\n        const payload = _.get(message, 'payload');\r\n\r\n        switch(action){\r\n            case 'channel_member_update':\r\n                //to do check payload and insert new channel\r\n                const userId_remove = _.get(payload, 'userId');\r\n                const channel = _.get(payload, 'channel')\r\n                console.log(\"edit member channel \",payload)\r\n              \r\n                this.updateMemberChannel(channel, userId_remove);\r\n              \r\n                break;\r\n            case 'edit_user' :\r\n                const userId = _.get(payload, 'userId');\r\n                const value = _.get(payload, 'obj.payload', '');\r\n                const field = _.get(payload, 'obj.field', '')\r\n                this.updateInfoUser(userId, field, value);\r\n                break;\r\n            case 'typing_status':\r\n                // console.log(payload);\r\n                const obj = _.get(payload, 'obj');\r\n                const channelId =  _.get(obj, 'channelId');\r\n                let typing = _.get(obj, 'payload');\r\n                let typier = _.get(obj, 'typier');\r\n                this.onUpdateTypestatus(channelId, typing, typier);\r\n                break;\r\n            case 'user_offline':\r\n                \r\n                this.onUpdateUserStatus(payload, false);\r\n                break;\r\n            case 'user_online':\r\n                const isOnline = true;\r\n                this.onUpdateUserStatus(payload, isOnline);\r\n                break;\r\n            case 'message_added':\r\n                \r\n                const activeChannel = store.getActiveChannel();\r\n                let notify = _.get(activeChannel, '_id') !== _.get(payload, 'channelId') && currentUserId !== _.get(payload, 'userId');\r\n                this.onAddMessage(payload, notify);\r\n\r\n            break;\r\n            default:\r\n                break;\r\n            case 'channel_added':\r\n                //to do check payload and insert new channel\r\n                this.onAddChannel(payload);\r\n                break;\r\n        }\r\n    }\r\n\r\n    //update member in channel\r\n    updateMemberChannel(channel, userId_remove){\r\n        const store = this.store;\r\n        // console.log(\"here in realtime\", channel)\r\n        store.removeMemberChannelFormRealtime(channel, userId_remove);\r\n        store.update();\r\n    }\r\n    \r\n\r\n    //update info user\r\n    updateInfoUser(userId, field, value){\r\n        const store = this.store;\r\n        // const currentUser = store.getCurrentUser();\r\n        // const currentUserId = _.get(currentUser, '_id');\r\n        // Get the existing data\r\n        let me = localStorage.getItem('me');\r\n        // If no existing data, create an array\r\n        // Otherwise, convert the localStorage string to an array\r\n        me = me ? JSON.parse(me) : {};\r\n        // Add new data to localStorage Array\r\n        me[field] = value;\r\n        // Save back to localStorage\r\n        localStorage.setItem('me', JSON.stringify(me));\r\n        store.setCurrentUser(me);\r\n        store.users = store.users.update(userId, (user) => {\r\n            if(user){\r\n                switch(field){\r\n                    case 'avatar':\r\n                        user.avatar = value;\r\n                    break;\r\n                    case 'name':\r\n                        user.name = value;\r\n                    break;\r\n                    case 'birthday':\r\n                        user.birthday = value;\r\n                    break;\r\n                    case 'phone':\r\n                        user.phone = value;\r\n                    break;\r\n                    case 'country':\r\n                        user.country = value;\r\n                    break;\r\n                    default:\r\n                    break;\r\n                }\r\n            }\r\n            return user;\r\n        });\r\n       \r\n       store.update()\r\n\r\n    }\r\n\r\n    //send status typing of user\r\n    onUpdateTypestatus(channelId, isTyping = false, typier){\r\n        const store = this.store;\r\n        store.channels = store.channels.update(channelId, (channel) => {\r\n            if(channel){\r\n                channel.typing = isTyping;\r\n                channel.typier = typier;\r\n            }\r\n            return channel;\r\n        });\r\n        store.update();\r\n    }\r\n\r\n    //update status user online or offline\r\n    onUpdateUserStatus(userId, isOnline = false){\r\n        const store = this.store;\r\n    \r\n        store.users = store.users.update(userId, (user) => {\r\n            if(user){\r\n                user.online = isOnline;\r\n                user.lastConnection = new Date()\r\n            }\r\n            \r\n            return user;\r\n        });\r\n        store.update();\r\n        \r\n    }\r\n\r\n    //add message to cache store\r\n    onAddMessage(payload, notify = false){\r\n        let user = _.get(payload, 'user');\r\n        const store = this.store;\r\n        const currentUser = store.getCurrentUser();\r\n        const currentUserId = _.toString(_.get(currentUser, '_id'));\r\n        \r\n        //add user to cache\r\n        user = store.addUserToCache(user);\r\n\r\n        const messageObject = {\r\n            _id: payload._id,\r\n            body: _.get(payload, 'body', ''),\r\n            userId: _.get(payload, 'userId'),\r\n            channelId: _.get(payload, 'channelId'),\r\n            created: _.get(payload, 'created', new Date()),\r\n            type: _.get(payload, 'type', ''),\r\n            me: currentUserId === _.toString(_.get(payload, 'userId')),\r\n            user: user,\r\n        };\r\n        // console.log(\"Mess listen from fetch: \", messageObject);\r\n        store.setMessage(messageObject, notify);\r\n\r\n    }\r\n\r\n    //add channnel to cache\r\n    onAddChannel(payload){\r\n        const store = this.store;\r\n        const channelId = `${payload._id}`;\r\n        const userId = `${payload.userId}`;\r\n        const users = _.get(payload, 'users', []);\r\n        let channel = { \r\n            \r\n            _id:channelId,  \r\n            title: _.get(payload, 'title', '' ),\r\n            lastMessage: _.get(payload, 'lastMessage', ''),\r\n            members: new OrderedMap(),\r\n            messages: new OrderedMap(),\r\n            isNew: false,\r\n            userId: userId,\r\n            created: new Date(),\r\n            typing: false,\r\n        };\r\n        _.each(users, (user) => {\r\n            //add this user to store.users collection\r\n            const memberId = `${user._id}`;\r\n            this.store.addUserToCache(user);\r\n            channel.members = channel.members.set(memberId, true);\r\n        });\r\n        const channelMessages = store.messages.filter((m) => _.toString(m.channelId) === channelId);\r\n        channelMessages.forEach((msg) => {\r\n            const msgId = _.toString(_.get(msg, '_id'));\r\n            channel.messages = channel.messages.set(msgId, true);\r\n        })\r\n        store.addChannel(channelId, channel);\r\n    }\r\n\r\n    //send message to server\r\n    send( msg = {}){\r\n        try{\r\n            const isConnected = this.isConnected;\r\n            if(this.ws && isConnected){\r\n                const msgString = JSON.stringify(msg);\r\n                this.ws.send(msgString);\r\n            }\r\n        }\r\n        catch{\r\n            console.log(\"An Error when Send info to server is connecting!\")\r\n        }\r\n       \r\n    }\r\n    //send request authentication user with token\r\n    authentication(){\r\n        const store = this.store;\r\n        const tokenId = store.getUserTokenId();\r\n        const message = {\r\n            action: 'auth',\r\n            payload: `${tokenId}`\r\n        }\r\n            this.send(message);\r\n    }\r\n    //main connect\r\n    connect(){\r\n        try{\r\n            // const ws = new WebSocket('ws://localhost:8080');\r\n            const ws = new WebSocket('wss://ndschatserver.herokuapp.com');\r\n            this.ws = ws;\r\n            ws.onopen = () => {\r\n                //tell to server who are you ?\r\n                this.isConnected = true;\r\n                this.authentication();\r\n                \r\n                ws.onmessage = (e) => {\r\n                    this.readMessage(_.get(e, 'data',''));\r\n                    console.log(\"Message from server\");\r\n                }\r\n            }\r\n    \r\n            ws.onclose = () => {\r\n                this.isConnected = false;\r\n                this.store.update();\r\n            }\r\n    \r\n            ws.onerror = () => {\r\n                this.isConnected = false;\r\n                this.store.update();\r\n            }\r\n        }\r\n        catch{\r\n            console.log(\"An error when Connecting to Server!\")\r\n        }\r\n\r\n    }\r\n}","import { OrderedMap } from 'immutable';\r\nimport _ from 'lodash';\r\nimport Service from './service';\r\nimport Realtime from './realtime';\r\n// import moment from \"moment\";\r\nimport translate from 'translate';\r\nimport {ObjectID} from './helpers/objectid';\r\nimport bcrypt from 'bcryptjs';\r\nimport axios from \"../src/apis/axios\";\r\n\r\nexport default class Store {\r\n    constructor(appComponent){\r\n        this.app = appComponent;\r\n        this.service = new Service();\r\n        this.messages = new OrderedMap();\r\n        this.channels = new OrderedMap();\r\n        this.messageDefaults = new OrderedMap();\r\n        this.messageVoices = new OrderedMap();\r\n        this.listTypeMessageDefaults = new OrderedMap();\r\n\r\n        this.activeChannelId = null;\r\n        this.user = this.getUserFromLocalStorage();\r\n        this.token = this.getTokenFromLocalStorage();\r\n        this.users = new OrderedMap();\r\n        this.realtime = new Realtime(this);\r\n        this.fetchUserChannels();\r\n        this.search = {\r\n            users: new OrderedMap(),\r\n        }\r\n\r\n        this.markList = new OrderedMap();\r\n        this.allMarkOther = new OrderedMap();\r\n\r\n\r\n    }\r\n\r\n                \r\n    //function edit mark\r\n    editMark(data){\r\n\r\n        // console.log(data)\r\n        const userToken = this.getUserTokenId();       \r\n        // console.log(data)\r\n       \r\n            return new Promise((resolve, reject) => {\r\n\r\n                // return resolve(\"successFull\")\r\n\r\n                if(userToken){\r\n                    const options = {\r\n                        headers: {\r\n                            authorization: userToken,\r\n                        }\r\n                    }\r\n                //send request 'api/editmarks' to server\r\n                this.service.post('api/editmarks', data, options).then((res) => {\r\n\r\n                    // console.log(\"this mark edited in store return callback: \", res.data);\r\n                    //proccess new mark to add cache store for user cant see it\r\n                        // window.sessionStorage.removeItem('marksListOfMe')\r\n                        // this.processlistMarkMe(res.data)\r\n                    //after seend change to server to every one cant see new mark if it is public\r\n                    window.sessionStorage.removeItem('marksListOfMe')\r\n                    return resolve(\"Mark be done edit\")\r\n                    \r\n\r\n                }).catch((err) => {\r\n                    const message = _.get(err, 'response.data.error.message', 'An Error Occured!');\r\n                    return reject(message);\r\n            });\r\n            // this.update()\r\n\r\n            }else{\r\n                return reject(\"Need login an Account to Active miMarks\")\r\n            }\r\n        })\r\n    }\r\n\r\n    //get all mark list from store\r\n    getAllMarkOther(){\r\n\r\n        return this.allMarkOther.valueSeq()\r\n\r\n    }\r\n\r\n    //get all mark list of other user from db server\r\n    fetchAllMarkOther(){\r\n        const userToken =this.getUserTokenId();\r\n        const configReTrille = window.sessionStorage.getItem(\"allMarkOther\");\r\n        let config = null\r\n        try {\r\n            config = JSON.parse(configReTrille);\r\n        }catch (err) {console.log(err)}\r\n\r\n        //get list mark from session store\r\n        if(config && userToken){\r\n          \r\n            // console.log('Marks in cache store', config)\r\n            _.each(config, (item) => {\r\n                const id = _.get(item, '_id', '')\r\n                this.allMarkOther = this.allMarkOther.set(id, item)\r\n                this.update()\r\n            })\r\n            // return callback( null, 'successFetchData');\r\n\r\n        }else{\r\n            if(userToken){\r\n                const options = {\r\n                    headers: {\r\n                        authorization: userToken,\r\n                    }\r\n                }\r\n                    //send request 'api/marks/allother' to server\r\n                    this.service.get(`api/marks/allother`, options).then((res) => {\r\n    \r\n                        // console.log(\"data marks form server\",)\r\n                        //create new mark array of other user\r\n                       const marks = res.data\r\n                        _.each(marks, (mark) => {\r\n                            // this.messageDefaults.push(messagevoice)\r\n                            const loggedUser = this.getCurrentUser();\r\n                            const id = _.get(mark, '_id', '')\r\n                            if( _.get(loggedUser, '_id') !== _.get(mark, 'userId')){\r\n                                console.log(id)\r\n                            this.allMarkOther = this.allMarkOther.set(id, mark)\r\n                            }\r\n                            \r\n                        })\r\n            \r\n                    }).catch((err) => {\r\n                        console.log(err);\r\n                    })\r\n               \r\n            }\r\n            this.update()\r\n        }\r\n        \r\n    }\r\n\r\n    processData = async (item) => {\r\n        try{\r\n            // console.log(item.country)\r\n            await fetch(`https://disease.sh/v3/covid-19/countries/${item.country}`)\r\n            .then(function(response) {\r\n                return response.json();\r\n            })\r\n            .then(data => {\r\n                item.covid19 = {\r\n                    continent: data.continent,\r\n                    flag: data.countryInfo.flag,\r\n                    iso2: data.countryInfo.iso2,\r\n                    caseCvid19: data.cases,\r\n                    recoveredCvid19: data.recovered,\r\n                    deathsCvid19: data.deaths,\r\n                    recoveredPerOneMillionCvid19: data.recoveredPerOneMillion\r\n                }\r\n                // console.log(\"mark after render 0 \", item)\r\n                const id = _.get(item, '_id', '')\r\n                this.markList = this.markList.set(id, item)\r\n              \r\n                \r\n            })\r\n            this.update()\r\n        }catch (err) {console.log(err)}\r\n       \r\n       \r\n    }\r\n\r\n    //get info current from store and get from api open weatherapi\r\n    processlistMarkMe = async (item) => {\r\n       \r\n            try{\r\n              \r\n                // console.log(item.lat, item.lng)\r\n                await fetch(`https://api.weatherapi.com/v1/forecast.json?key=510cbd14438a4e33bcc15040202911&q=${(item.lat).toFixed(2)},${(item.lng).toFixed(2)}&day=4`)\r\n                    .then(function(response) {\r\n                        return response.json();\r\n                    })\r\n                    .then(data => {\r\n\r\n\r\n                                item.name = data.location.name\r\n                                item.country = data.location.country\r\n                                item.localtime = data.location.localtime\r\n                                item.current = {\r\n                                    cloud: data.current.cloud,\r\n                                    humidity: data.current.humidity,\r\n                                    feelslike_c: data.current.feelslike_c,\r\n                                    temp_c: data.current.temp_c,\r\n                                    gust_kph: data.current.gust_kph,\r\n                                    is_day: data.current.is_day,\r\n                                    last_updated: data.current.last_updated,\r\n                                    precip_mm: data.current.precip_mm,\r\n                                    pressure_mb: data.current.pressure_mb,\r\n                                    uv: data.current.uv,\r\n                                    vis_km: data.current.vis_km,\r\n                                    wind_degree: data.current.wind_degree,\r\n                                    wind_dir: data.current.wind_dir,\r\n                                    wind_kph: data.current.wind_kph,\r\n                                    descript: data.current.condition.text,\r\n                                    icon: data.current.condition.icon\r\n            \r\n                                }\r\n                                item.hour = data.forecast.forecastday[0].hour\r\n                                item.astro = {\r\n                                    moon_illumination: data.forecast.forecastday[0].astro.moon_illumination,\r\n                                    moon_phase: data.forecast.forecastday[0].astro.moon_phase,\r\n                                    moonrise: data.forecast.forecastday[0].astro.moonrise,\r\n                                    moonset: data.forecast.forecastday[0].astro.moonset,\r\n                                    sunrise: data.forecast.forecastday[0].astro.sunrise,\r\n                                    sunset: data.forecast.forecastday[0].astro.sunset,\r\n                                }\r\n                                //get info and process data before save new info to store\r\n                                this.processData(item)\r\n\r\n                            })\r\n                           \r\n                    .catch(function(ex) {\r\n                    console.log(\"parsing failed\", ex);\r\n                    });\r\n               \r\n            }\r\n            catch (err){ \r\n                console.log(err) \r\n            }\r\n    \r\n    }\r\n\r\n    //get list mark of user\r\n    getMarksOfMe(){\r\n        \r\n        return this.markList.valueSeq();\r\n    }\r\n\r\n\r\n    //get all mark list of current user\r\n    fetchMarksListOfMe(callback = () => {}){\r\n        const userToken =this.getUserTokenId();\r\n        const configReTrille = window.sessionStorage.getItem(\"marksListOfMe\");\r\n        let config = null\r\n        try {\r\n            config = JSON.parse(configReTrille);\r\n        }catch (err) {console.log(err)}\r\n\r\n        if(config && userToken){\r\n          \r\n            // console.log('Marks in cache store', config)\r\n            _.each(config, (item) => {\r\n                const id = _.get(item, '_id', '')\r\n                this.markList = this.markList.set(id, item)\r\n                this.update()\r\n            })\r\n            return callback( null, 'successFetchData');\r\n        }else{\r\n            // const userToken =this.getUserTokenId();\r\n            if(userToken){\r\n            const options = {\r\n                headers: {\r\n                    authorization: userToken,\r\n                }\r\n            }\r\n            this.service.get(`api/marks/me`, options).then((res) => {\r\n                const markList = res.data;\r\n                // console.log(\"marks from db: \", res.data);\r\n                let temp = markList.length\r\n                _.each(markList, (item) => {\r\n                    \r\n                    this.processlistMarkMe(item)\r\n                    temp -= 1;\r\n                    if(temp === 0){\r\n                        return callback( null, 'successFetchData');\r\n                    }\r\n                })\r\n                \r\n               \r\n\r\n            }).catch((err) => {\r\n\r\n                console.log(\"An error fetch messagevoices\", err);\r\n            })\r\n        }\r\n        }\r\n        \r\n        this.update()\r\n        \r\n    }\r\n\r\n   \r\n    // add mark to db\r\n    addNewMark = (data) => {\r\n        const userToken = this.getUserTokenId();       \r\n        // console.log(data)\r\n       \r\n            return new Promise((resolve, reject) => {\r\n\r\n                // return resolve(\"successFull\")\r\n                if(userToken){\r\n                    const options = {\r\n                        headers: {\r\n                            authorization: userToken,\r\n                        }\r\n                    }\r\n\r\n                //send request add new mark\r\n                this.service.post('api/marks', data, options).then((res) => {\r\n\r\n                    // console.log(\"newMark Created \", res.data);\r\n                    //proccess new mark to add cache store for user cant see it\r\n                        window.sessionStorage.removeItem('marksListOfMe')\r\n                        this.processlistMarkMe(res.data)\r\n                    //after seend change to server to every one cant see new mark if it is public\r\n                  \r\n                    return resolve(\"The message has been added successful\")\r\n                    \r\n\r\n                }).catch((err) => {\r\n                    const message = _.get(err, 'response.data.error.message', 'An Error Occured!');\r\n                    return reject(message);\r\n            });\r\n            // this.update()\r\n\r\n            }else{\r\n                return reject(\"Need login an Account to Active miMarks\")\r\n            }\r\n        })\r\n    }\r\n\r\n    // translate data with request language\r\n    translateBody = (data) => {\r\n        let msgLang = null;\r\n        //if add langmic need change here to proccess info\r\n        let micLang = null;\r\n        const configReTrille = window.sessionStorage.getItem(\"configReTrille\");\r\n        try {\r\n            let config = JSON.parse(configReTrille);\r\n            if(config){\r\n                msgLang = config.msgLang;\r\n                micLang = config.micLang\r\n            }\r\n        }\r\n        catch(err) {\r\n            console.log(err);\r\n        }\r\n        // console.log(msgLang, micLang)\r\n            //we can use this language to translate\r\n        if(data){\r\n            return new Promise((resolve, reject) => {\r\n                if(msgLang !== 'en'){\r\n                    console.log(\"translated\")\r\n                    translate.engine = 'google';\r\n                    translate.key = 'AIzaSyCHUCmpR7cT_yDFHC98CZJy2LTms-IwDlM';\r\n                    translate(data, { from: 'en', to: `${msgLang}` }).then(text => {\r\n                        // console.log(text)\r\n                        return text ? resolve(text) : reject(\"error translate\")\r\n                    })\r\n                }else{\r\n                    console.log(\"nontranslate\")\r\n                    return data ? resolve(data) : reject(\"error translate\")\r\n                }\r\n               \r\n            })\r\n            \r\n        }\r\n       \r\n    }\r\n\r\n    proccessTranscript (transcript, callback = () =>{}){\r\n    \r\n        // console.log(transcript);\r\n        const messageList = this.messageDefaults.valueSeq().toArray();\r\n        // console.log(messageList);\r\n        let messageList2 = [];\r\n        let messageList3 = [];\r\n       \r\n        messageList.forEach(function(item) {\r\n            // console.log(\"here\", typeof(`${item.type}`), typeof(`${transcript}`) )\r\n            if(`${transcript}`.includes(`${item.type}`)){\r\n                // console.log(\"here\")\r\n                console.log(\"here\", `${item.type}`, `${transcript}` )\r\n                messageList2.push(item);\r\n            }\r\n          })\r\n\r\n        messageList2.forEach(function(item) {\r\n            if(`${transcript}`.includes(`${item.keyWord}`)){\r\n                console.log(\"here\")\r\n                messageList3.push(item);\r\n            }\r\n        })\r\n        if(messageList3.length){\r\n\r\n                const replyObj = messageList3[Math.floor(Math.random()*messageList3.length)];\r\n                console.log(replyObj)\r\n        \r\n            return callback(null, replyObj);\r\n        }else{\r\n            return callback({message:\"Topic or Keyword does not exist yet, please add the one you want\"}, null)\r\n        }\r\n        \r\n    }\r\n\r\n    //add new Voice message\r\n    addMessageVoice(transcript) {\r\n        if(transcript){\r\n\r\n            // let lang = null;\r\n            // const configReTrille = window.sessionStorage.getItem(\"configReTrille\");\r\n            // try {\r\n            //     let config = JSON.parse(configReTrille);\r\n            //     if(config){\r\n            //         lang = config.msgLang;\r\n            //     }\r\n            // }\r\n            // catch(err) {\r\n            //     console.log(err);\r\n            // }\r\n            // console.log(transcript)\r\n           \r\n            \r\n           \r\n            return new Promise((resolve, reject) => {\r\n                const userToken = this.getUserTokenId();\r\n                if(userToken){\r\n                    //find compare message \r\n                    this.proccessTranscript(transcript, (err, result) => {\r\n                        if(err){\r\n                            console.log('err')\r\n                            //call translate function\r\n                            this.translateBody(transcript).then((res) => {\r\n\r\n                                const currentUser =this.getCurrentUser();\r\n                                const messageId = new ObjectID().toString();\r\n                                const message = {\r\n                                    _id: messageId,\r\n                                    body : res,\r\n                                    userId: _.get(currentUser, '_id'),\r\n                                    msgOriginId: null,\r\n                                    showAuthor: null,\r\n                                    created: new Date(),\r\n                                    me: true,\r\n                                    user: {\r\n                                        name: 'You',\r\n                                        nameOri: _.get(currentUser, 'name'),\r\n                                        avatar: _.get(currentUser, 'avatar'),\r\n                                        ID: _.get(currentUser, 'ID'),\r\n                                    }\r\n                                \r\n                                }\r\n                                this.messageVoices = this.messageVoices.set(messageId, message);\r\n                                this.update()\r\n                            }).catch((err) => {\r\n        \r\n                                console.log(\"An error translating\");\r\n                            })\r\n                            \r\n                            return reject(err.message); \r\n                        }\r\n                        //call translate function\r\n                        this.translateBody(transcript).then((res) => {\r\n\r\n                            const currentUser =this.getCurrentUser();\r\n                            const messageId = new ObjectID().toString();\r\n                            const message = {\r\n                                _id: messageId,\r\n                                body : res,\r\n                                userId: _.get(currentUser, '_id'),\r\n                                msgOriginId: null,\r\n                                showAuthor: null,\r\n                                created: new Date(),\r\n                                me: true,\r\n                                user: {\r\n                                    name: 'You',\r\n                                    nameOri: _.get(currentUser, 'name'),\r\n                                    avatar: _.get(currentUser, 'avatar'),\r\n                                    ID: _.get(currentUser, 'ID'),\r\n                                }\r\n                            \r\n                            }\r\n                            // console.log(message)\r\n                            this.messageVoices = this.messageVoices.set(messageId, message);\r\n                        \r\n                        }).catch((err) => {\r\n\r\n                            console.log(\"An error translating\");\r\n                        })\r\n                        setTimeout(() => {\r\n                            //call translate function\r\n                            this.translateBody(result.txtMessage).then((res) => {\r\n                                const messageIdReply = new ObjectID().toString();\r\n                                const reply = {\r\n                                    _id: messageIdReply,\r\n                                    body : res,\r\n                                    userId: null,\r\n                                    msgOriginId: result._id,\r\n                                    showAuthor: result.showAuthor,\r\n                                    created: new Date(),\r\n                                    me: false,\r\n                                    user: {\r\n                                        name: 'reTrille',\r\n                                        nameOri: result.user.name,\r\n                                        avatar: result.user.avatar,\r\n                                        ID: result.user.ID,\r\n                                    }\r\n                                }\r\n        \r\n                            \r\n                                this.messageVoices = this.messageVoices.set(messageIdReply, reply);\r\n                                this.update()\r\n                            }).catch((err) => {\r\n        \r\n                                console.log(\"An error translating\");\r\n                            })\r\n                            \r\n                        }, 68)\r\n                        console.log('result', result.txtMessage)\r\n                        return resolve(result.txtMessage);\r\n                        \r\n                    })\r\n                }else{\r\n                    return reject(\"Need login an Account to Active Retrille\")\r\n                }\r\n            })\r\n           \r\n        \r\n        }else{\r\n            console.log(\"An Error Occured\")\r\n        }\r\n    }\r\n\r\n    //get list type voice from store\r\n    getTypeVoices(){\r\n\r\n        return this.listTypeMessageDefaults.valueSeq();\r\n    }\r\n\r\n     //get list message voice from store\r\n    getMessageVoices(){\r\n\r\n        // let messages = new OrderedMap();\r\n        // console.log(\"get messageVoice\", this.messageVoices.valueSeq().toArray())\r\n        this.messageVoices = this.messageVoices.sort((a, b) => b.created - a.created);\r\n\r\n        return this.messageVoices.valueSeq();\r\n    }\r\n\r\n    //fecth type voice from \r\n    fetchTypeVoices() {\r\n       \r\n        const userToken =this.getUserTokenId();\r\n        if(userToken){\r\n            const options = {\r\n                headers: {\r\n                    authorization: userToken,\r\n                }\r\n            }\r\n                //send request 'api/messagevoices/types' to server\r\n                this.service.get(`api/messagevoices/types`, options).then((res) => {\r\n                \r\n                    const types = res.data;\r\n                    // console.log(types)\r\n                    types.map((data, key) => {\r\n                        // console.log(key,data)\r\n                        this.listTypeMessageDefaults = this.listTypeMessageDefaults.set(key, data)\r\n                    })\r\n\r\n                    return\r\n \r\n        \r\n                }).catch((err) => {\r\n                    console.log(err);\r\n                })\r\n           \r\n        }\r\n        this.update()\r\n    }\r\n    //fecth messagevoice from db \r\n    fetchMessageVoice() {\r\n        const userToken =this.getUserTokenId();\r\n        if(userToken){\r\n            const options = {\r\n                headers: {\r\n                    authorization: userToken,\r\n                }\r\n            }\r\n            //send request 'api/messagevoices/all' to server\r\n            this.service.get(`api/messagevoices/all`, options).then((res) => {\r\n                const messagevoices = res.data;\r\n                // console.log(\"message form db: \", messagevoices);\r\n                _.each(messagevoices, (messagevoice) => {\r\n                    // this.messageDefaults.push(messagevoice)\r\n                    const id = _.get(messagevoice, '_id', '')\r\n                    // console.log(id)\r\n                    this.messageDefaults = this.messageDefaults.set(id, messagevoice)\r\n                })\r\n                // _.each(channels, (c) => {\r\n                //     this.realtime.onAddChannel(c);\r\n                // });\r\n\r\n                // const firstChannelId = _.get(channels, '[0]._id', null);\r\n                // this.fetchChannelMessages(firstChannelId);\r\n            }).catch((err) => {\r\n\r\n                console.log(\"An error fetch messagevoices\", err);\r\n            })\r\n        }\r\n        this.update()\r\n    }\r\n    //add new message voice default into db\r\n    addMessageVoiceDefault(data){\r\n        const userToken = this.getUserTokenId();\r\n       \r\n        // console.log(data)\r\n                return new Promise((resolve, reject) => {\r\n                    if(userToken){\r\n                        const options = {\r\n                            headers: {\r\n                                authorization: userToken,\r\n                            }\r\n                        }\r\n                  \r\n                    //we need proccessing translate date to english before sent to server\r\n                    // {[...Array(product.countInStock).keys()].map( x =>\r\n                    //     <option key={x + 1} value={x + 1}>{x + 1}</option>\r\n                    //     )}\r\n                    //send request 'api/messagevoices' to server\r\n                    this.service.post('api/messagevoices', data, options).then((res) => {\r\n\r\n                        // console.log(\"Account Created \", res.data);\r\n\r\n                        return resolve(\"The message has been added successful\")\r\n\r\n                    }).catch((err) => {\r\n                        const message = _.get(err, 'response.data.error.message', 'An Error Occured!');\r\n                        return reject(message);\r\n                });\r\n\r\n            }else{\r\n                return reject(\"Need login an Account to Active ReTrille\")\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n    //function verify user\r\n    sendVerifyCommunication(info){\r\n        const userToken = this.getUserTokenId();\r\n        const emailObj = {email: info.email}\r\n        if(userToken){\r\n\r\n            return new Promise((resolve, reject) => {\r\n                //send request 'api/users/checkemail' to server\r\n                this.service.post('api/users/checkemail', emailObj).then((res) =>{\r\n                    \r\n                    info.token = res.data;\r\n                    _.unset(info.token, 'user'); \r\n                    info.user = res.data.user;\r\n                    // console.log(\"user is: \", info)\r\n                    const post = {\r\n                        info: info,\r\n                        timestamp: new Date(),\r\n                        }\r\n                        //send request to email of user\r\n                    axios\r\n                        .post('/ndsapi/require/verifycommunication', post)\r\n                        .then(function(response) {\r\n                          // console.log(response.data.status);\r\n                          console.log(\"Successfull\");\r\n                          // also clear the form\r\n                        })\r\n                        .catch(function(error) {\r\n                          console.log(\"Error is sending!\");\r\n                          if (error.response) {\r\n                            if (error.response.status === 429) {\r\n                              console.log(\"Error is sending to server!\");\r\n                            }\r\n                          }\r\n                        });\r\n                    emailObj.tokenId = res.data._id;\r\n                    return resolve(emailObj)\r\n\r\n                    }).catch((err) => {\r\n                        const message = _.get(err, 'response.data.error.message', 'An Error Occured!');\r\n                        return reject(message);\r\n                });\r\n            })\r\n\r\n        }\r\n\r\n    }\r\n\r\n    // edit password \r\n    editPassword(oldPassword, newPassword, ipClient){\r\n\r\n        const userToken = this.getUserTokenId();\r\n        const contents = {\r\n            oldPassword: oldPassword,\r\n            newPassword: newPassword\r\n        }\r\n        if(userToken){\r\n            const options = {\r\n                headers: {\r\n                    authorization: userToken,\r\n                }\r\n            }\r\n\r\n            return new Promise((resolve, reject) => {\r\n                // console.log(contents);\r\n                //send request 'api/users/editpassword' to server\r\n                this.service.post('api/users/editpassword', contents, options).then((res) => {\r\n                    //soon add code process\r\n                    if(!res.data.success){\r\n                        console.log(res.data.error)\r\n                    }\r\n                    const currentUser =this.getCurrentUser();\r\n                    const email = _.get(currentUser, 'email', '');\r\n                    const name = _.get(currentUser, 'name', '')\r\n                    const post = {\r\n                        email: email,\r\n                        name: name,\r\n                        ip: ipClient.ip,\r\n                        country: ipClient.country,\r\n                        city: ipClient.city,\r\n                    }\r\n                    // console.log(post);\r\n                    // send to email of user \r\n                    axios\r\n                        .post('/ndsapi/announce/changeinfouser', post)\r\n                        .then(function(response) {\r\n                            console.log(\"Successful\");\r\n                        }).catch(err => console.log(err))\r\n\r\n                    return resolve(currentUser)\r\n\r\n\r\n                }).catch((err) => {\r\n                    const message = _.get(err, 'response.data.error.message', 'Changeing Password Error!');\r\n                    return reject(message);\r\n                });\r\n            })\r\n\r\n        }\r\n    }\r\n\r\n    //request change password from user\r\n    requestChangePassword(email, password, tokenId, ipClient){\r\n        const infoObj = {email: email, password: password}\r\n        const options = {\r\n            headers: {\r\n                authorization: tokenId,\r\n            }\r\n        }\r\n        // console.log(infoObj)\r\n        return new Promise((resolve, reject) => {\r\n            this.service.post('api/users/changepassword', infoObj, options).then((res) =>{\r\n\r\n                // console.log(\"Changed Password \", res.data);\r\n\r\n                const post = {\r\n                    email: email,\r\n                    name: email,\r\n                    ip: ipClient.ip,\r\n                    country: ipClient.country,\r\n                    city: ipClient.city,\r\n                }\r\n                // console.log(post);\r\n                  // send to email of user \r\n                axios\r\n                    .post('/ndsapi/announce/changeinfouser', post)\r\n                    .then(function(response) {\r\n                        console.log(\"Successful\");\r\n                    }).catch(err => console.log(err))\r\n\r\n                return resolve(res.data);\r\n                \r\n            }).catch((err) => {\r\n                const message = _.get(err, 'response.data.error.message', 'Error send require, try again later!');\r\n                return reject(message);\r\n            });\r\n        })\r\n    }\r\n\r\n    //send request forget password\r\n    requestGetPassword(email){\r\n        \r\n        const emailObj = {email: email}\r\n        // console.log(emailObj)\r\n        return new Promise((resolve, reject) => {\r\n            //send request 'api/users/checkemail' to server\r\n            this.service.post('api/users/checkemail', emailObj).then((res) =>{\r\n\r\n                // console.log(\"Account Created \", res.data);\r\n\r\n                const post = {\r\n                    email: email,\r\n                    name: res.data.user.name,\r\n                    tokenId: res.data._id,\r\n                }\r\n                // console.log(post);\r\n                // send to email of user \r\n                axios\r\n                    .post('/ndsapi/announce/getinfouser', post)\r\n                    .then(function(response) {\r\n                        console.log(\"Successful\");\r\n                    }).catch(err => console.log(err))\r\n                    res.data = null;\r\n                return resolve(emailObj);\r\n                \r\n            }).catch((err) => {\r\n                const message = _.get(err, 'response.data.error.message', 'Email not exsit!');\r\n                return reject(message);\r\n            });\r\n        })\r\n    }\r\n    \r\n\r\n    //upload avatar User\r\n    uploadUserAvatar(formData){\r\n        const userToken = this.getUserTokenId();\r\n\r\n        if(userToken){\r\n            const options = {\r\n                headers: {\r\n                    authorization: userToken,\r\n                }\r\n            }\r\n            //send request 'api/user/uploadavatar' to server\r\n            this.service.post('api/user/uploadavatar', formData, options).then((res) => {\r\n\r\n                // console.log(res.data.success);\r\n                if(!res.data.success){\r\n                    console.log(res.data.error)\r\n                }\r\n                if (res.data.success) {\r\n                    this.editInfoUser('avatar', res.data.url )\r\n                }\r\n\r\n            }).catch((err) => {\r\n                console.log(\"Send Error: \", err);\r\n            });\r\n        }\r\n    }\r\n\r\n    //function render edit user\r\n    editUser(field, value){\r\n        if(value){\r\n            // console.log(field, value , typeof(value));\r\n            this.editInfoUser(field, value);\r\n        }\r\n        \r\n    }\r\n\r\n    //set theme local store\r\n    setThemeToLocalStorage(isDark = false ){\r\n\r\n        // console.log(\"Select theme Dark: \", isDark);\r\n        localStorage.setItem('themeOfChat', isDark);\r\n       \r\n    }\r\n\r\n    //get theme t from local store\r\n    getThemeFromLocalStorage(){\r\n        // console.log(\"auto get theme\")\r\n        let theme = null;\r\n        const data = localStorage.getItem('themeOfChat');\r\n        if(data){\r\n            try{\r\n                theme = data;\r\n            }\r\n            catch (err){\r\n                console.log(err);\r\n            }\r\n        }\r\n        console.log(\"Get theme Dark from localStorage: \", theme);\r\n        return theme;\r\n       \r\n    }\r\n\r\n    //upload file type photo or video message\r\n    upLoadfile(formData){\r\n        const userToken = this.getUserTokenId();\r\n        // console.log('File wav get in store: ',formData);\r\n        if(userToken){\r\n\r\n            this.service.post('api/messages/uploadfiles', formData).then((res) => {\r\n\r\n                // console.log(res.data.success);\r\n                if(!res.data.success){\r\n                    console.log(res.data.error)\r\n                }\r\n                if (res.data.success) {\r\n                    const messageId = new ObjectID().toString();\r\n                    const channel = this.getActiveChannel();\r\n                    const channelId = _.get(channel , '_id', null);\r\n                    const currentUser = this.getCurrentUser();\r\n                    const message = {\r\n                        _id: messageId,\r\n                        channelId: channelId,\r\n                        body : res.data.url,\r\n                        userId: _.get(currentUser, '_id'),\r\n                        type:\"VideoOrImage\",\r\n                        me: true,\r\n                };\r\n                this.addMessage(messageId, message);\r\n\r\n            }\r\n            }).catch((err) => {\r\n                console.log(\"Send files Error: \", err);\r\n            });\r\n        }\r\n    }\r\n\r\n    //fetch user channel message\r\n    fetchUserChannels(){\r\n        const userToken =this.getUserTokenId();\r\n        if(userToken){\r\n            const options = {\r\n                headers: {\r\n                    authorization: userToken,\r\n                }\r\n            }\r\n            //send request 'api/me/channels' to server\r\n            this.service.get(`api/me/channels`, options).then((res) => {\r\n                const channels = res.data;\r\n                _.each(channels, (c) => {\r\n                    this.realtime.onAddChannel(c);\r\n                });\r\n\r\n                const firstChannelId = _.get(channels, '[0]._id', null);\r\n                this.fetchChannelMessages(firstChannelId);\r\n            }).catch((err) => {\r\n\r\n                console.log(\"An error fetch user channlels\", err);\r\n            })\r\n        }\r\n    }\r\n\r\n    //add user to cache temp store\r\n    addUserToCache(user){\r\n        if(!user.avatar){\r\n            user.avatar = this.loadUserAvatar(user);\r\n        }\r\n        const id = _.toString(user._id);\r\n        this.users = this.users.set(id, user);\r\n        return user;\r\n    }\r\n\r\n    //get user id token from temp store\r\n    getUserTokenId(){\r\n        return _.get(this.token, '_id', null);\r\n    }\r\n\r\n    //add default avatar for user not exist avatar\r\n    loadUserAvatar(user){\r\n\r\n            return `useravatars\\\\default_imgSvg_usernDs.svg`\r\n       \r\n    }\r\n\r\n    //search user name with same key word\r\n    startSearchUsers(q = \"\"){\r\n        this.search.users = this.search.users.clear();\r\n        //query to backend server and get list of users\r\n        const data = {search : q};\r\n        //get current user it own\r\n        const currentUser =this.getCurrentUser();\r\n        const currentUserId = _.get(currentUser, '_id');\r\n       \r\n        // if(_.trim(search).length){\r\n        //    searchItems = users.filter((user) =>_.get(user, '_id') !== currentUserId && _.includes(_.toLower(_.get(user, 'name')), keyword));\r\n        // }\r\n        \r\n        //send request to 'api/users/search' server\r\n        this.service.post('api/users/search', data).then((res) => {\r\n            //list off users match\r\n            const users = _.get(res, 'data', []);\r\n            // console.log(\"Get from server: \", users);\r\n            _.each(users, (user) => {\r\n               //cache to this.users\r\n               //add user to this.search.users\r\n                if(!user.avatar){\r\n                    user.avatar = this.loadUserAvatar(user);\r\n                }\r\n                const userId = `${user._id}`;\r\n                if(userId !== currentUserId){\r\n                    this.users = this.users.set(userId, user);\r\n                    this.search.users = this.search.users.set(userId, user);\r\n                }\r\n                 if(!_.trim(q).length){\r\n                    this.search.users = new OrderedMap();\r\n                }\r\n           });\r\n           this.update();\r\n\r\n        }).catch((err) => {\r\n            console.log(\"Searching Error\", err);\r\n        }); \r\n    }\r\n\r\n    //set User Token to local store\r\n    setUserToken(accessToken){\r\n        if(!accessToken){\r\n            this.localStorage.removeItem('token');\r\n            this.token = null;\r\n            return;\r\n        }\r\n        this.token = accessToken;\r\n        localStorage.setItem('token', JSON.stringify(accessToken));\r\n    }\r\n\r\n    //clear all data stored from cache\r\n    clearCacheData(){\r\n        this.channels = this.channels.clear();\r\n        this.users = this.users.clear();\r\n        this.messages = this.messages.clear();\r\n    }\r\n\r\n    //sign out account \r\n    signOut(){\r\n\r\n        const userId = _.toString(_.get(this.user, '_id', null));\r\n        //logout in cache\r\n        this.users = this.users.update(userId, (user) => {\r\n            if(user) {\r\n                user.online = false;\r\n            }\r\n            return user;\r\n        })\r\n        //request server and logout this user\r\n        const tokenId = _.get(this.token, '_id', null);\r\n        this.isConnected();\r\n        this.user = null;\r\n        localStorage.removeItem('me');\r\n        localStorage.removeItem('token');\r\n        sessionStorage.removeItem('allMark')\r\n        sessionStorage.removeItem('marksListOfMe')\r\n        sessionStorage.removeItem('allMarkOther')\r\n        if(userId){\r\n            this.users = this.users.remove(userId);\r\n        }\r\n\r\n        //after logout\r\n        this.clearCacheData()\r\n\r\n        const options = {\r\n            headers : {\r\n                authorization: tokenId\r\n            }\r\n        }\r\n        this.service.get('api/user/logout', options);\r\n   \r\n        this.update()\r\n\r\n    }\r\n\r\n\r\n    //get Token from local store\r\n    getTokenFromLocalStorage(){\r\n        // console.log(\"get token from local\")\r\n        if(this.token){\r\n            return this.token;\r\n        }\r\n\r\n        let token = null;\r\n        const data = localStorage.getItem('token');\r\n        if(data){\r\n            try{\r\n                token = JSON.parse(data);\r\n            }\r\n            catch (err){\r\n                console.log(err);\r\n            }\r\n            \r\n        }\r\n        return token;\r\n    }\r\n\r\n    //get user from locak store\r\n    getUserFromLocalStorage(){\r\n        // console.log(\"get user from local\")\r\n        let user = null;\r\n        const data = localStorage.getItem('me');\r\n         try {\r\n                user = JSON.parse(data);\r\n         }\r\n         catch(err) {\r\n             console.log(err);\r\n         }\r\n         if(user){\r\n            //connect to backend server verify this user\r\n            const token = this.getTokenFromLocalStorage();\r\n            const tokenId = _.get(token, '_id');\r\n            const options = {\r\n                headers: {\r\n                    authorization: tokenId,\r\n                }\r\n            }\r\n            //send request 'api/users/me' to server\r\n            this.service.get('api/users/me', options).then((res) => {\r\n                //user login with token id\r\n                const accessToken = res.data;\r\n                const user = _.get(accessToken, 'user');\r\n                console.log(\"here is user \", user)\r\n                this.setCurrentUser(user);\r\n                this.setUserToken(accessToken);\r\n\r\n            }).catch(err => {\r\n                this.signOut();\r\n            });\r\n        }\r\n\r\n         return user;\r\n    }    \r\n        \r\n    //set current user into local store\r\n    setCurrentUser(user){\r\n        if(!user.avatar){\r\n            user.avatar = this.loadUserAvatar(user);\r\n        }\r\n        this.user = user;\r\n        if(user){\r\n            \r\n            localStorage.setItem('me', JSON.stringify(user));\r\n            //save to local store\r\n            const userId =`${user._id}`;\r\n            this.users = this.users.set(userId, user);\r\n\r\n        }\r\n        this.update();\r\n    }\r\n\r\n    //register new account\r\n    register(user){\r\n        const saltRounds = 10;\r\n        //none real this is fake to try hacker\r\n        // console.log(user.password)\r\n        const password = bcrypt.hashSync(user.password.content, saltRounds);\r\n        console.log(\"Email Register is: \", user.email);\r\n        console.log(\"Password Register is: \", password);\r\n        return new Promise((resolve, reject) => {\r\n            this.service.post('api/users', user).then((res) =>{\r\n\r\n                // console.log(\"Account Created \", res.data);\r\n\r\n                // const post = {\r\n                //     email: user.email,\r\n                //     name: user.name,\r\n                // }\r\n                // axios\r\n                //     .post('/ndsapi/announce/welcome', post)\r\n                //     .then(function(response) {\r\n                //         console.log(\"Successful\");\r\n                //     }).catch(err => console.log(err))\r\n\r\n                return resolve(res.data);\r\n                \r\n            }).catch((err) => {\r\n                const message = _.get(err, 'response.data.error.message', 'An Error register, Try again!');\r\n                return reject(message);\r\n            });\r\n        })\r\n\r\n    }\r\n \r\n\r\n   \r\n\r\n    login(email = null, password = null, ipClient = null){\r\n        const userEmail = _.toLower(email);\r\n\r\n        const user = {\r\n            email: userEmail,\r\n            password: password,\r\n            ipClient: ipClient,\r\n        }\r\n\r\n        console.log(\"Logining with: \", user);\r\n        return new Promise((resolve, reject) => {\r\n            \r\n            //send request 'api/users/login' to server\r\n            this.service.post('api/users/login', user).then((res) => {\r\n                // that mean successful login\r\n                const accessToken = _.get(res, 'data'); \r\n                const user = _.get(accessToken, 'user');\r\n                user.email = email;\r\n                // console.log(\"Logining with: \", user);\r\n                this.setCurrentUser(user);\r\n                this.setUserToken(accessToken);\r\n                this.realtime.connect();\r\n\r\n                // begin fetch user's channel\r\n                this.fetchUserChannels();\r\n                // this.fetchMessageVoice();\r\n                // this.fetchTypeVoices();\r\n                return resolve(email)\r\n                // Call to realtime and connect again to socket server with this user\r\n\r\n            }).catch((err) => {\r\n                // login error\r\n                \r\n                const message = _.get(err, 'response.data.error.message', 'An error require to server, Try again!');\r\n                console.log(\"Logining with error is: \", message);\r\n                return reject(message);\r\n\r\n            })\r\n\r\n        });\r\n        // const _this = this;\r\n        // return new Promise((resolve, reject) => {\r\n        //     const user = users.find((user) => user.email === userEmail);\r\n        //     if( user ) {\r\n        //         _this.setCurrentUser(user);\r\n        //     }\r\n        //     return user ? resolve(user) : reject(\"User not found!\")\r\n        // });\r\n    }\r\n\r\n    //add user to channel prepare for a new channel\r\n    addUserToChannel(channelId, userId) {\r\n        const channel = this.channels.get(channelId);\r\n        if(channel) {\r\n            channel.members = channel.members.set(userId, true);\r\n            this.channels = this.channels.set(channelId, channel);\r\n            this.update();\r\n        }\r\n      \r\n    }\r\n\r\n    //get list search user \r\n    getSearchUsers(){\r\n        // const keyword = _.toLower(search);\r\n\r\n        // let searchItems = new OrderedMap();\r\n        // const currentUser =this.getCurrentUser();\r\n        // const currentUserId = _.get(currentUser, '_id');\r\n       \r\n        // if(_.trim(search).length){\r\n        //    searchItems = users.filter((user) =>_.get(user, '_id') !== currentUserId && _.includes(_.toLower(_.get(user, 'name')), keyword));\r\n        // }\r\n        // console.log(this.search.users.valueSeq())\r\n        return this.search.users.valueSeq();\r\n    }\r\n\r\n    //create new channel\r\n    onCreateNewChannel(channel = {}){\r\n        const channelId = _.get(channel, \"_id\");\r\n        this.addChannel(channelId, channel );\r\n        this.setActiveChannelId(channelId);\r\n    \r\n    }\r\n\r\n    //get current user\r\n    getCurrentUser(){\r\n        return this.user;\r\n    }\r\n\r\n    //fetch channel message of current user\r\n    fetchChannelMessages(channelId){\r\n\r\n        let channel = this.channels.get(channelId);\r\n            if( channel && !_.get(channel, 'isFetchMessages')){\r\n\r\n                const token = _.get(this.token, '_id');\r\n                const options = {\r\n                    headers: {\r\n                        authorization: token,\r\n                    }\r\n                }\r\n                //send request 'api/channels/${channelId}/messages' to server \r\n                this.service.get(`api/channels/${channelId}/messages`, options).then((res) => {\r\n                    channel.isFetchMessages = true;\r\n\r\n                    const messages = res.data;\r\n                \r\n                    _.each(messages, (message) => {\r\n                        this.realtime.onAddMessage(message);\r\n                    });\r\n                    this.channels = this.channels.set(channelId, channel);\r\n\r\n                }).catch((err) => {\r\n                    console.log(\"An error fetching channel 's messages\", err);\r\n\r\n                }\r\n            )}\r\n        }   \r\n    \r\n    \r\n    // connect to socket wss\r\n    isConnected(){\r\n        return this.realtime.isConnected;\r\n    }\r\n\r\n    //set channel is active\r\n    setActiveChannelId(id) {\r\n        this.activeChannelId = id;\r\n        this.fetchChannelMessages(id);\r\n        this.update();\r\n    }\r\n\r\n    //get active channel\r\n    getActiveChannel(){\r\n        const channel = this.activeChannelId ? this.channels.get(this.activeChannelId) : this.channels.first();\r\n        return channel;\r\n    }\r\n    \r\n    // call function from realtime to fetch message from cache or db\r\n    setMessage(message, notify = false){\r\n        const id = _.toString(_.get(message, '_id'));\r\n        this.messages = this.messages.set(id, message);\r\n        const channelId = _.toString(message.channelId);\r\n        const channel = this.channels.get(channelId);\r\n\r\n        if (channel) {\r\n            channel.messages = channel.messages.set(id, true);\r\n            channel.lastMessage = _.get(message, 'body', '');\r\n            channel.notify = notify;\r\n\r\n            this.channels = this.channels.set(channelId, channel);\r\n        } else {\r\n\r\n            // fetch to the server with channel info\r\n            this.service.get(`api/channels/${channelId}`).then((response) => {\r\n\r\n\r\n                const channel = _.get(response, 'data');\r\n\r\n                /*const users = _.get(channel, 'users');\r\n                _.each(users, (user) => {\r\n\r\n                    this.addUserToCache(user);\r\n                });*/\r\n\r\n                this.realtime.onAddChannel(channel);\r\n\r\n\r\n            })\r\n        }\r\n        this.update();\r\n    }\r\n\r\n    //send edit user to realtime\r\n    editInfoUser(field, value){\r\n        if(value){\r\n\r\n        const obj = {\r\n            payload: value,\r\n            field: field,\r\n        }\r\n            this.realtime.send(\r\n                {\r\n                    action: 'edit_user',\r\n                    payload: {obj},\r\n                }\r\n            );\r\n        }\r\n    this.update();\r\n    }\r\n\r\n    //send status type of user to channel\r\n    addTyping(channel, typing = false){\r\n        \r\n        if(channel){\r\n            const userId = `${_.get(this.user, '_id', null)}`;\r\n            const channelId = _.get(channel, '_id');\r\n            const obj = {\r\n                channelId: channelId,\r\n                payload: typing,\r\n                typier: userId,\r\n            }\r\n            // console.log(\"channel typing: \", channelId);\r\n            this.realtime.send(\r\n                {\r\n                    action: 'typing_status',\r\n                    payload: {obj},\r\n                }\r\n            );\r\n        }\r\n        this.update();\r\n    }\r\n\r\n\r\n    //add new message to active channel \r\n    addMessage(id, message = {}){\r\n\r\n        const user = this.getCurrentUser();\r\n        message.user = user;\r\n        this.messages = this.messages.set(id, message);\r\n        //add new message to \r\n        const channelId = _.get(message, 'channelId');\r\n        if(channelId){\r\n\r\n            \r\n            let channel = this.channels.get(channelId);\r\n\r\n            channel.lastMessage = _.get(message, 'body', '');\r\n            //now i send this channel to the server\r\n            \r\n           this.realtime.send(\r\n               {\r\n                    action: 'create_channel',\r\n                    payload: channel,\r\n                }\r\n            );\r\n            // send to the via websocket to create new message and notify other\r\n            this.realtime.send(\r\n                {\r\n                    action: 'create_message',\r\n                    payload: message,\r\n                }\r\n            );\r\n\r\n            channel.messages = channel.messages.set(id, true);\r\n\r\n\r\n            channel.isNew = false;\r\n            this.channels = this.channels.set(channelId, channel);\r\n        }\r\n        this.update();\r\n    }\r\n\r\n    \r\n    //remove user in a channel\r\n    removeMemberFromChannel( channel = null, user = null){\r\n        if(!channel || !user ){\r\n            console.log(\"Not fine any channel\")\r\n            return;\r\n        }\r\n        console.log(channel,user)\r\n        const channelId = _.get(channel, '_id')\r\n        const userId = _.get(user, '_id');\r\n\r\n        // console.log(channel)\r\n        this.realtime.send(\r\n            {\r\n            action: \"remove_memberChannel\",\r\n            payload: {\r\n                channel: channel,\r\n                userId: userId\r\n                }\r\n            }\r\n        )\r\n\r\n        const data = {\r\n            _id: userId,\r\n            channelId: channelId\r\n        }\r\n\r\n        //remove user when search user to add into new channel\r\n        // const titleChannel =  _.get(channel, 'title')\r\n        const userToken = this.getUserTokenId();\r\n      \r\n    \r\n        // channel.members = channel.members.remove(userId);\r\n        // this.channels = this.channels.set(channelId, channel);\r\n       \r\n        if(userToken) {\r\n\r\n            const options = {\r\n                headers: {\r\n                    authorization: userToken,\r\n                }\r\n            }\r\n\r\n             //send request to 'api/channels/remove/user' server\r\n             this.service.post('api/channels/remove/user', data, options).then((res) => {\r\n\r\n                // console.log(res.data)\r\n                channel.members = channel.members.remove(userId);\r\n                \r\n\r\n                const userCurrent = this.getCurrentUser();\r\n                const userIdCurrent = _.get(userCurrent, '_id');\r\n\r\n                \r\n                if(userId === userIdCurrent) {\r\n                    \r\n                    channel.members = null;\r\n                    channel.messages = null;\r\n                    channel.lastMessage = 'NaN';\r\n                    this.channels = this.channels.set(channelId, channel);\r\n                }\r\n                else { \r\n                    this.channels = this.channels.set(channelId, channel);\r\n                }\r\n\r\n\r\n                this.update();\r\n            })\r\n\r\n\r\n        }\r\n        \r\n    }\r\n\r\n    removeMemberChannelFormRealtime(channel = null, user = null){\r\n        if(!channel || !user ){\r\n            console.log(\"Not fine any channel\")\r\n            return;\r\n        }\r\n\r\n        const channelId = _.get(channel, '_id')\r\n        // const userId = _.get(user, '_id');\r\n        \r\n\r\n        const userCurrent = this.getCurrentUser();\r\n        const userIdCurrent = _.get(userCurrent, '_id');\r\n\r\n        if(user === userIdCurrent) {\r\n            // channel.members = channel.members.remove(user);\r\n            channel.members = null;\r\n            channel.messages = null;\r\n            channel.lastMessage = 'NaN';\r\n            this.channels = this.channels.set(channelId, channel);\r\n        }\r\n        // else { \r\n        //     this.channels = this.channels.set(channelId, channel);\r\n        // }\r\n\r\n        this.fetchUserChannels();\r\n\r\n        this.update();\r\n\r\n    }\r\n    //get Message from cache\r\n    // getMessages(){\r\n    //     return this.messages.valueSeq();\r\n    // }\r\n    \r\n    //get and render messages from channel stored in cache\r\n    getMessagesFromChannel(channel){\r\n        let messages = new OrderedMap();\r\n\r\n        if(channel && channel.members){\r\n            channel.messages.forEach((value, key) => {\r\n\r\n                const message = this.messages.get(key);\r\n                messages = messages.set( key, message);\r\n    \r\n            });\r\n        }\r\n\r\n        return messages.valueSeq();\r\n        \r\n    }\r\n\r\n\r\n    //get member list from channel\r\n    getMembersFromChannel(channel){\r\n        let members = new OrderedMap();\r\n        if(channel && channel.members){\r\n            channel.members.forEach((value, key) => {\r\n\r\n                const userId = `${key}`\r\n                const user = this.users.get(userId);\r\n                // console.log(\"User from Channel: \", user);\r\n                const loggedUser = this.getCurrentUser();\r\n                if( _.get(loggedUser, '_id') !== _.get(user, '_id')){\r\n                    members = members.set(key, user);\r\n                   \r\n                }\r\n            });\r\n               \r\n        }\r\n        return members.valueSeq();\r\n    }\r\n\r\n    // add channels\r\n    addChannel(index, channel = {}){\r\n        this.channels = this.channels.set(`${index}`, channel);\r\n        // console.log(channel);\r\n        // console.log(\"Mess get from server to client: \", channel);\r\n        this.update();\r\n    }\r\n\r\n    //get channel list\r\n    getChannels(){\r\n        this.channels = this.channels.sort((a, b) => a.updated - b.updated);\r\n        return this.channels.valueSeq();\r\n    }\r\n\r\n\r\n    //force update store component\r\n    update(){\r\n        this.app.forceUpdate();\r\n    }\r\n}\r\n\r\n","import React, { useState } from \"react\";\r\n\r\nimport Banner from \"./Banner\";\r\n// import _ from 'lodash';\r\nimport {encrypt, encrypt2} from '../helpers/en_deCrypt';\r\nimport fetchJsonp from \"fetch-jsonp\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport Hero from \"./Hero\";\r\nimport { Link } from \"@material-ui/core\";\r\n\r\n\r\n\r\nexport const GreetingApp4 = (props) => {\r\n\r\n    \r\n    const [url, setUrl] = useState();\r\n    const [me, setMe] = useState(null);\r\n    //const [loading, setLoading] = useState(false)\r\n    const [error, setError] = useState(null)\r\n    const [email, setEmail] = useState(null);\r\n    const [passWord, setPassWord] = useState(null);\r\n    const [ID, setID] = useState(null);\r\n    const [ipClient, setIpClient] = useState(null);\r\n    const [isContinue, setIsContinue] = useState(null);\r\n    //const [isShowGreeting, setIsShowGreeting] = useState(true);\r\n    const [isHaveAccount, setIsHaveAccount] = useState(false);\r\n    const [user, setUser] = useState()\r\n    const GeoAPI = \"https://ipapi.co/jsonp\";\r\n\r\n\r\n    const createQuicklyNewAcc = () => {\r\n        //create Random info account\r\n        \r\n        const chars = [\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\",\"0123456789\", \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\"];\r\n        const randPassWord = [5,3,2].map(function(len, i) { return Array(len).fill(chars[i]).map(function(x) { return x[Math.floor(Math.random() * x.length)] }).join('') }).concat().join('').split('').sort(function(){return 0.5-Math.random()}).join('');\r\n        const randEmail = (randPassWord.slice(0,6) + '@gmail.com').toString()\r\n        const randName = 'nDs' + randPassWord.slice(0,4)\r\n\r\n        const hashPassword = encrypt2(encrypt(randPassWord));\r\n\r\n        setEmail(randEmail);\r\n        setPassWord(randPassWord)\r\n\r\n        console.log(randEmail)\r\n        console.log(randPassWord)\r\n        setUser({\r\n            email: randEmail,\r\n            password: hashPassword,\r\n            name: randName,\r\n            ipClient: ipClient,\r\n            birthday: '',\r\n            country: '',\r\n            phone: '',\r\n            ID: ID\r\n        })\r\n        \r\n        setIsHaveAccount(true);\r\n        \r\n    }\r\n    const loginWithRandAccountAndManage = () => {\r\n        // console.log(user)\r\n        const store = props.store;\r\n        // setIsShowGreeting(false)\r\n            store.register(user).then((_) => {\r\n                 // now login this user\r\n                    store.login(user.email, user.password).then((_) => { \r\n                        // console.log(\"login redirectToManage\")\r\n                        setIsContinue(2)\r\n                }).catch((err) => {\r\n                    console.log(err);\r\n                   \r\n                    });\r\n            }).catch((err) => {\r\n                console.log(err);\r\n                setError(err)\r\n            });\r\n           \r\n        \r\n    }\r\n    const loginWithRandAccountAndContinue = () => {\r\n        // console.log(user)\r\n        const store = props.store;\r\n        // setIsShowGreeting(false)\r\n            store.register(user).then((_) => {\r\n                 // now login this user\r\n                    store.login(user.email, user.password).then((_) => { \r\n                        // console.log(\"login redirectToRetrille\")\r\n                        setIsContinue(1)\r\n                }).catch((err) => {\r\n                    console.log(err);\r\n                   \r\n                    });\r\n            }).catch((err) => {\r\n                console.log(err);\r\n                setError(err)\r\n            });\r\n      \r\n        \r\n    }\r\n\r\n\r\n    const fetchIPclient = () => {\r\n        try{\r\n            fetchJsonp(`${GeoAPI}`)\r\n            .then(function(response) {\r\n                return response.json();\r\n              })\r\n              .then(json => {\r\n                    setIpClient(json)\r\n              })\r\n              .catch(function(ex) {\r\n                console.log(\"parsing failed\", ex);\r\n              });\r\n        }\r\n        catch (err){ console.log(err) }\r\n\r\n    };\r\n\r\n\r\n    const generateId = (len) => {\r\n        var arr = new Uint8Array((len || 40) / 2)\r\n        window.crypto.getRandomValues(arr)\r\n        return Array.from(arr).join('')\r\n    }\r\n\r\n    const handleCreateR = () => {\r\n       \r\n        const userId = generateId(12).slice(-12);\r\n        setID(userId)\r\n        // console.log('ID of user random: ', userId);\r\n    }\r\n\r\n\r\n\r\n    React.useEffect(() => {\r\n        \r\n        const store = props.store;\r\n        fetchIPclient()\r\n        handleCreateR()\r\n        let url = window.location.pathname;\r\n\r\n        console.log(url)\r\n\r\n        if(url === '/ndsappbeta/weather/greeting/newuser&account'){\r\n            setUrl('ndsappbeta/weather/newaccount#')\r\n        } else {\r\n            setUrl('page4/newaccount#')\r\n        }\r\n        const me = store.getCurrentUser();\r\n\r\n        if(me !== null){\r\n            setMe(me)\r\n        }\r\n\r\n    }, [])\r\n\r\n    if(isContinue === 1) {\r\n        // window.location.replace('http://localhost:3000/page4/quickaccount/login#'+{email}&{ID})\r\n        return (<Redirect to={`/${url}${email}&${ID}+${ipClient.country}+${ipClient.city}+${ipClient.ip}`} />)\r\n    }\r\n    if(isContinue === 2) {\r\n        // window.location.replace('http://localhost:3000/page3/quickaccount/login#'+{email}&{ID})\r\n        return (<Redirect to={`/ndsappbeta/chat/login/newaccount#${email}&${ID}+${ipClient.country}+${ipClient.city}+${ipClient.ip}`} />)\r\n    }\r\n\r\n    const render = () => (\r\n        <>\r\n            {\r\n                error ? <p className='err-greeting' style={{color: 'rgb(202, 60, 17)'}}>{error}</p> : null\r\n            }\r\n            {\r\n                (!me) ? <>\r\n                    {\r\n                        !isHaveAccount ? <>\r\n                            <Link onClick={() => setIsContinue(2)} to className=\"btn-primary\">\r\n                                Back to Chat\r\n                            </Link>\r\n                            <div></div>\r\n                            <a to className=\"btn-primary\" onClick={createQuicklyNewAcc}>\r\n                                Quickly a New Account \r\n                            </a>\r\n                        </>\r\n                        :\r\n                        <>\r\n                            <h5>Info Account</h5>\r\n                            <span style={{whiteSpace: 'nowrap'}}>Email: <strong>{email}</strong></span><br /> \r\n                            <span style={{whiteSpace: 'nowrap'}}>Password: <strong>{passWord}</strong></span>\r\n                            <br />\r\n                            <br />\r\n                            <a to className=\"btn-primary\" onClick={loginWithRandAccountAndContinue}>\r\n                                Login now\r\n                            </a>\r\n                            <br /><br />\r\n                            <a to className=\"btn-primary\" onClick={loginWithRandAccountAndManage}>\r\n                                account manager\r\n                            </a>\r\n                        </>\r\n                    }\r\n                </>\r\n                :\r\n                <>\r\n                    <h4>Hi, <strong>{email}</strong> | Login Successfull</h4>\r\n                \r\n                </>\r\n                }\r\n\r\n        </>\r\n    )\r\n            \r\n    if(url === 'page4/newaccount#'){\r\n        return (\r\n            <Hero>\r\n                    <Banner title=\"ReTrille\" subtitle={isHaveAccount ? \"Automatic unsafe accounts, carefully and verify your account\" : \"You need to enter your account to access ReTrille\"}>\r\n                        \r\n                        {render()}\r\n                    \r\n                    </Banner>\r\n            </Hero>\r\n        \r\n        )\r\n    } else {\r\n        return (\r\n            <Hero>\r\n                    <Banner title=\"WeatherApp\" subtitle={isHaveAccount ? \"Automatic unsafe accounts, carefully and verify your account\" : \"You need to enter your account to access WeatherApp\"}>\r\n                        \r\n                        {render()}\r\n                    \r\n                    </Banner>\r\n            </Hero>\r\n        \r\n        )\r\n    }\r\n    \r\n}\r\n \r\n\r\n","import React, { Component } from 'react';\r\nimport Hero from \"../components/Hero\";\r\nimport {Link} from 'react-router-dom';\r\nimport Banner from '../components/Banner';\r\nimport {Helmet} from \"react-helmet\";\r\n// import Loading from '../components/Loading';\r\nimport LoadingMini from '../components/Loading-mini';\r\n\r\n//import {Grid, Cell, ProgressBar} from 'react-mdl';\r\nclass Error extends Component {\r\n\t render() {\r\n\t \treturn(\r\n\t\t\t <>\r\n\r\n \t\t\t\t<Hero>\r\n\r\n\t\t\t\t\t<Helmet>\r\n\t\t\t\t\t\t<title>Error | nDsWeb</title>\r\n\t\t\t\t\t</Helmet>\r\n\t\t\t\t\t<div className=\"loading-error-url\">\r\n\t\t\t\t\t\t<LoadingMini />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n \t\t\t\t\t<Banner title='404' subtitle=\"Page Not Found\">\r\n\r\n \t\t\t\t\t\t<Link to='/' className=\"btn-primary\">\r\n \t\t\t\t\t\tReturn Home\r\n \t\t\t\t\t\t</Link>\r\n \t\t\t\t\t </Banner>\r\n \t\t\t\t </Hero>\r\n\t\t\t\t</>\r\n\t \t\t);\r\n\t }\r\n}\r\nexport default Error;","import React, { Component } from \"react\"\r\nimport App1 from \"../components/App1\"\r\nimport Store from '../store';\r\nimport {Helmet} from \"react-helmet\";\r\nimport { GreetingApp4 } from \"../components/GreetingApp4\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport Errors from \"./Error\";\r\n\r\nexport default class Page1 extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            store: new Store(this),\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { store } = this.state;\r\n        return (\r\n            <Switch>\r\n                <Route exact path=\"/ndsweb/weather\">\r\n                    <Helmet>\r\n                        <title>Weather | nDsWeb</title>\r\n                    </Helmet>\r\n                    <App1 store = { store }\r\n                    google={this.props.google}\r\n                    zoom={4}\r\n                    />\r\n                </Route>\r\n                <Route exact path=\"/ndsweb/weather/:slug\">\r\n                    <Helmet>\r\n                        <title>Weather | nDsWeb</title>\r\n                    </Helmet>\r\n                    <App1 store = { store }\r\n                    google={this.props.google}\r\n                    zoom={4}\r\n                    />\r\n                </Route>\r\n                <Route exact path=\"/ndsweb/weather/greeting/newuser&account\">\r\n                    <>\r\n                    <GreetingApp4 store = { store } />\r\n                    <Helmet>\r\n                        <title>Greeting-Weather | nDsWeb</title>\r\n                    </Helmet>\r\n                    </>\r\n                </Route>\r\n                <Route component={Errors} />\r\n            </Switch>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\nimport { List, ListItem, ListItemIcon, ListItemText } from \"@material-ui/core\";\nimport { Search } from \"@material-ui/icons\";\n\nconst AutoSearchResult = ({ results, onSearchSelect }) => {\n  let renderResult = [];\n  if (results) {\n    renderResult = results.map((result, index) => {\n      return (\n        <ListItem key={index} onClick={() => onSearchSelect(result[0])} button>\n          <ListItemIcon style={{ paddingLeft: \"16px\" }}>\n            <Search />\n          </ListItemIcon>\n          <ListItemText primary={result[0]} />\n        </ListItem>\n      );\n    });\n  }\n  return <List>{renderResult}</List>;\n};\n\nexport default AutoSearchResult;\n","import React, { useContext, useState, useEffect, useCallback } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport fetchJsonp from \"fetch-jsonp\";\r\nimport {\r\n  InputBase,\r\n  IconButton,\r\n  Popper,\r\n  CircularProgress,\r\n  Grid\r\n} from \"@material-ui/core\";\r\nimport { ArrowBack } from \"@material-ui/icons\";\r\nimport youtubeSearch from \"../../apis/youtubeSearch\";\r\nimport { GlobalContext } from \"../GlobalState\";\r\n// import suggestSearch from \"../../apis/suggestSearch\";\r\nimport AutoSearchResult from \"./AutoSearchResult\";\r\n\r\nconst API_URL = \"http://suggestqueries.google.com/complete/search?client=youtube&q=\";\r\nconst SearchBox = ({ history, location }) => {\r\n  let params = new URLSearchParams(location.search);\r\n\r\n  const [{ searchState }, dispatch] = useContext(GlobalContext);\r\n\r\n  const setSearchState = useCallback(\r\n    data => {\r\n      dispatch({ type: \"setSearchState\", snippet: data });\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  const setSearchResult = useCallback(\r\n    data => {\r\n      console.log(data);\r\n      dispatch({ type: \"setSearchResult\", snippet: data });\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [autoSearchData, setAutoSearch] = useState(\"\");\r\n\r\n  const [ytSearchQuery, setYtSearchQuery] = useState(null);\r\n\r\n  // toggle popper\r\n  const [isPopperOpen, setPopper] = useState(true);\r\n\r\n  console.log(\"search box re rendered\");\r\n\r\n  // get back the selected search data\r\n  const onSearchSelect = result => {\r\n    setSearchQuery(result);\r\n    setYtSearchQuery(result);\r\n    setSearchState(\"searching\");\r\n    history.push({ pathname: \"/search\", search: `?q=${result}` });\r\n  };\r\n\r\n  // when user hits enter then also fetch the data from yt api\r\n  const onSearchSubmit = e => {\r\n    e.preventDefault();\r\n    console.log(e.target.lastChild);\r\n    e.target.lastChild.lastChild.blur();\r\n    setSearchState(\"completed\");\r\n    setYtSearchQuery(searchQuery);\r\n    history.push({ pathname: \"/search\", search: `?q=${searchQuery}` });\r\n  };\r\n\r\n  // for controlled input change\r\n  const onChange = e => {\r\n    setSearchQuery(e.target.value);\r\n    getAutocomplete();\r\n  };\r\n\r\n  // get autocomplete data form api\r\n  const getAutocomplete = async () => {\r\n    fetchJsonp(`${API_URL} + ${searchQuery}`)\r\n    .then(function(response) {\r\n      return response.json();\r\n    })\r\n    .then(json => {\r\n      setAutoSearch(json[1]);\r\n    })\r\n    .catch(function(ex) {\r\n      console.log(\"parsing failed\", ex);\r\n    });\r\n    // const response = await suggestSearch.get(\"\", {\r\n    //   params: {\r\n    //     q: searchQuery\r\n    //   }\r\n    // });\r\n    // setAutoSearch(response.data[1]);\r\n    \r\n  };\r\n\r\n  // get youtube search result from api\r\n  useEffect(() => {\r\n    const searchYt = async data => {\r\n      const res = await youtubeSearch.get(\"/search\", {\r\n        params: {\r\n          q: data,\r\n          maxResults: 15\r\n        }\r\n      });\r\n      setSearchResult(res.data.items);\r\n      setSearchState(\"completed\");\r\n    };\r\n    // only search if there is any value\r\n    if (ytSearchQuery && ytSearchQuery !== \"\") {\r\n      searchYt(ytSearchQuery);\r\n    }\r\n    // console.log(ytSearchQuery);\r\n  }, [ytSearchQuery, setSearchResult, setSearchState]);\r\n\r\n  useEffect(() => {\r\n    console.log(\"search state\", searchState);\r\n  }, [searchState]);\r\n\r\n  useEffect(() => {\r\n    // Listen for changes to the current location.\r\n    const query = params.get(\"q\");\r\n    if (query) {\r\n      setYtSearchQuery(query);\r\n      setSearchQuery(query);\r\n      setSearchState(\"searching\");\r\n      console.log(\"changing query to\", query);\r\n    }\r\n\r\n    // const unlisten = history.listen(location => {\r\n    //   // setYtSearchQuery(params.get(\"q\"));\r\n    //   // we will se the q from params\r\n    //   // location is an object like window.location\r\n    //   const path = location.pathname;\r\n    //   // if (path.slice(1, 7) === \"search\" || path.slice(1, 5) === \"song\") {\r\n    //   //   setSearchState(\"searched\");\r\n    //   // } else {\r\n    //   //   setSearchState(\"home\");\r\n    //   // }\r\n    // });\r\n  }, [setSearchState, setYtSearchQuery]);\r\n\r\n  // show loading icon while we fetch the results from api\r\n\r\n  const popperResult = () => {\r\n    switch (searchState) {\r\n      case \"searching\":\r\n        return (\r\n          <Grid\r\n            style={{ height: \"100vh\" }}\r\n            container\r\n            justify=\"center\"\r\n            alignItems=\"center\"\r\n          >\r\n            <CircularProgress />\r\n          </Grid>\r\n        );\r\n      case \"clicked\":\r\n        return (\r\n          <AutoSearchResult\r\n            results={autoSearchData}\r\n            onSearchSelect={onSearchSelect}\r\n          />\r\n        );\r\n      case \"completed\":\r\n        setPopper(false);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    console.log(\"Function ran\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n\r\n      {/* button remove input search */}\r\n      <IconButton\r\n        onClick={() => {\r\n          setSearchState(\"home\");\r\n          if (history.location.pathname === \"/search\") {\r\n            history.goBack();\r\n          }\r\n          // only go back if u have searched something\r\n        }}\r\n        color=\"inherit\"\r\n        aria-label=\"Menu\"\r\n      >\r\n        <ArrowBack />\r\n      </IconButton>\r\n\r\n      {/* from get search value from user typing input  */}\r\n      <form style={{ width: \"100%\" }} onSubmit={e => onSearchSubmit(e)}>\r\n        <InputBase\r\n          fullWidth\r\n          placeholder=\"Search...\"\r\n          autoFocus\r\n          style={{ color: \"#fff\", paddingLeft: \"16px\" }}\r\n          value={searchQuery}\r\n          onChange={onChange}\r\n          // on click we will show popper\r\n          onClick={() => {\r\n            setSearchState(\"clicked\");\r\n            setPopper(true);\r\n          }}\r\n        />\r\n      </form>\r\n\r\n\r\n      {/* show result search from api youtube  */}\r\n      <Popper\r\n        className=\"searchPopper\"\r\n        open={isPopperOpen}\r\n        anchorEl={document.getElementById(\"navbar\")}\r\n        popperOptions={{\r\n          modifiers: {\r\n            preventOverflow: {\r\n              padding: 0\r\n            }\r\n          }\r\n        }}\r\n        placement=\"bottom\"\r\n      >\r\n        {popperResult}\r\n      </Popper>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default withRouter(SearchBox);\r\n","import React, { useContext } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { GlobalContext } from \"../GlobalState\";\r\n\r\nimport SearchBox from \"./SearchBox\";\r\n// import PropTypes from \"prop-types\";\r\nimport {\r\n  // withStyles,\r\n  AppBar,\r\n  Toolbar,\r\n  Typography,\r\n  IconButton,\r\n  Slide\r\n} from \"@material-ui/core/\";\r\n\r\nimport useScrollTrigger from \"@material-ui/core/useScrollTrigger\";\r\n\r\nimport { Menu, Search } from \"@material-ui/icons/\";\r\n\r\nconst styles = {\r\n  root: {\r\n    flexGrow: 1\r\n  },\r\n  title: {\r\n    textAlign: \"center\",\r\n    width: \"calc(100% - 96px)\"\r\n  },\r\n  input: {\r\n    color: \"#fff\"\r\n  }\r\n};\r\n\r\nfunction HideOnScroll(props) {\r\n  const { children } = props;\r\n  const trigger = useScrollTrigger();\r\n\r\n  return (\r\n    <Slide appear={false} direction=\"down\" in={!trigger}>\r\n      {children}\r\n    </Slide>\r\n  );\r\n}\r\n\r\nfunction SimpleAppBar(props) {\r\n  const [{ searchState }, dispatch] = useContext(GlobalContext);\r\n\r\n  const setMenuOpen = data => {\r\n    console.log(data);\r\n    dispatch({ type: \"setMenuOpen\", snippet: data });\r\n  };\r\n  const setSearchState = React.useCallback(\r\n    data => {\r\n      console.log(data);\r\n      dispatch({ type: \"setSearchState\", snippet: data });\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  React.useEffect(() => {\r\n    // if the page is on search we will change the search state\r\n    const changeAppBar = () => {\r\n      const path = props.history.location.pathname;\r\n      if (path === \"/search\") {\r\n        setSearchState(\"searching\");\r\n      } else {\r\n        setSearchState(\"home\");\r\n      }\r\n      console.log(\"history change detected in app bar\");\r\n    };\r\n\r\n    changeAppBar();\r\n    // const unlisten = props.history.listen(location => {\r\n    //   changeAppBar();\r\n    // });\r\n  }, [setSearchState, props.history]);\r\n\r\n  const toggleSearch = () => {\r\n    if (searchState === \"home\") {\r\n      return (\r\n        <>\r\n          {/* button open menu */}\r\n          <IconButton\r\n            color=\"inherit\"\r\n            aria-label=\"Menu\"\r\n            onClick={() => setMenuOpen(true)}\r\n          >\r\n            <Menu />\r\n          </IconButton>\r\n\r\n          {/* title app */}\r\n          <Typography variant=\"h6\" color=\"inherit\" style={styles.title}>\r\n            nDs Music\r\n          </Typography>\r\n\r\n          {/* button open search bar */}\r\n          <IconButton\r\n            onClick={() => setSearchState(\"clicked\")}\r\n            color=\"inherit\"\r\n            aria-label=\"Search\"\r\n          >\r\n            <Search />\r\n          </IconButton>\r\n        </>\r\n      );\r\n    } else {\r\n      return <SearchBox />;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/* render jxs Top navbar */}\r\n      <HideOnScroll {...props}>\r\n        <AppBar id=\"navbar\" position=\"sticky\">\r\n          <Toolbar>{toggleSearch()}</Toolbar>\r\n        </AppBar>\r\n      </HideOnScroll>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default withRouter(SimpleAppBar);\r\n","import React, { useState, useContext, useEffect, useCallback } from \"react\";\r\n\r\nimport moon from '../images/moon.svg';\r\nimport sun from \"../images/sun.svg\";\r\n\r\nimport {\r\n  SwipeableDrawer,\r\n  // Avatar,\r\n  Divider,\r\n  // Button,\r\n  List,\r\n  ListItem,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  // Link as MaterialLink\r\n} from \"@material-ui/core\";\r\n\r\nimport {\r\n  // AccountCircle,\r\n  Feedback,\r\n  Info,\r\n  People,\r\n  Settings,\r\n  HelpOutline\r\n} from \"@material-ui/icons\";\r\n\r\nimport { AnimatePresence } from \"framer-motion\"\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { GlobalContext } from \"./GlobalState\";\r\n\r\n\r\nconst SwipeMenu = () => {\r\n  const [{ menuOpen, themeSelectValue }, dispatch] = useContext(GlobalContext);\r\n\r\n  const setMenuOpen = data => {\r\n    dispatch({ type: \"setMenuOpen\", snippet: data });\r\n  };\r\n\r\n  const setThemeSelectValue = useCallback(\r\n    data => {\r\n      dispatch({ type: \"setThemeSelectValue\", snippet: data });\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  const [isNight, setIsNight] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (themeSelectValue === \"Dark\") {\r\n      setIsNight(true);\r\n    } else {\r\n      setIsNight(false);\r\n    }\r\n  }, [themeSelectValue]);\r\n\r\n  const changeTheme = theme => {\r\n    setThemeSelectValue(theme);\r\n    localStorage.setItem(\"selectedTheme\", theme);\r\n  };\r\n\r\n  const handleThemeToggle = () => {\r\n    if (!isNight) {\r\n      changeTheme(\"Dark\");\r\n      setIsNight(false);\r\n    } else {\r\n      changeTheme(\"Default\");\r\n      setIsNight(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <SwipeableDrawer\r\n      open={menuOpen}\r\n      onClose={() => setMenuOpen(false)}\r\n      onOpen={() => setMenuOpen(true)}\r\n    >\r\n      <div style={{ width: \"300px\" }}>\r\n        <div\r\n          style={{\r\n            margin: \"35px\",\r\n            position: \"relative\",\r\n            width: \"30px\",\r\n            height: \"30px\"\r\n          }}\r\n        >\r\n          <AnimatePresence>\r\n            {/* <motion.img\r\n              key= { isNight ? sun : moon }\r\n              initial={{ scale: 0 }}\r\n              animate={{ scale: 1.5, rotate: \"360deg\" }}\r\n              exit={{ scale: 0 }}\r\n              transition={{ duration: 0.5 }}\r\n              src={moon}\r\n              className=\"dayNightToggleBtn\"\r\n              alt=\"sun moon icon\"\r\n            /> */}\r\n            <img src={isNight ? sun : moon} className=\"dayNightToggleBtn\" animate={{ scale: 1.5, rotate: \"360deg\" }} alt=\"sun moon icon\" onClick={() => handleThemeToggle()} />\r\n          </AnimatePresence>\r\n        </div>\r\n\r\n        <Divider />\r\n\r\n        <List\r\n          component=\"nav\"\r\n          className={\"pinkLists\"}\r\n          onClick={() => setMenuOpen(false)}\r\n        >\r\n          <ListItem button component={Link} to=\"/ndsweb/music/settings\">\r\n            <ListItemIcon>\r\n              <Settings />\r\n            </ListItemIcon>\r\n            <ListItemText primary=\"Settings\" />\r\n          </ListItem>\r\n          <ListItem button component={Link} to=\"/ndsweb/music/feedback\">\r\n            <ListItemIcon>\r\n              <Feedback />\r\n            </ListItemIcon>\r\n            <ListItemText primary=\"Feedback\" />\r\n          </ListItem>\r\n          <ListItem button component={Link} to=\"/ndsweb/music/help\">\r\n            <ListItemIcon>\r\n              <HelpOutline />\r\n            </ListItemIcon>\r\n            <ListItemText primary=\"Help & Support\" />\r\n          </ListItem>\r\n          <ListItem button component={Link} to=\"/ndsweb/music/contributors\">\r\n            <ListItemIcon>\r\n              <People />\r\n            </ListItemIcon>\r\n            <ListItemText primary=\"Contributors\" />\r\n          </ListItem>\r\n       \r\n          <ListItem button component={Link} to=\"/ndsweb/music/privacy\">\r\n            <ListItemIcon>\r\n              <Info />\r\n            </ListItemIcon>\r\n            <ListItemText primary=\"Privacy & Policy\" />\r\n          </ListItem>\r\n        </List>\r\n      </div>\r\n    </SwipeableDrawer>\r\n  );\r\n};\r\n\r\nexport default SwipeMenu;\r\n","import React, { useContext, useState, useEffect } from \"react\";\r\n\r\nimport { Snackbar } from \"@material-ui/core\";\r\n\r\n\r\nimport { GlobalContext } from \"./GlobalState\";\r\n\r\nconst SnackbarMessage = () => {\r\n  const [isOpen, setOpen] = useState(false);\r\n  const [{ snackbarMsg }, dispatch] = useContext(GlobalContext);\r\n\r\n  const setSnackbarMsg = React.useCallback(\r\n    data => {\r\n      dispatch({ type: \"setSnackbarMsg\", snippet: data });\r\n    },\r\n    [dispatch]\r\n  );\r\n  useEffect(() => {\r\n    if (snackbarMsg) {\r\n      setOpen(true);\r\n    }\r\n  }, [snackbarMsg, setSnackbarMsg]);\r\n\r\n  function handleClose() {\r\n    console.log(\"closed\");\r\n    setOpen(false);\r\n    setSnackbarMsg(null);\r\n    // we will set back it to null otherwise it wont fire for the same\r\n  }\r\n  return (\r\n    <Snackbar\r\n      anchorOrigin={{\r\n        vertical: \"bottom\",\r\n        horizontal: \"center\"\r\n      }}\r\n      autoHideDuration={3000}\r\n      open={isOpen}\r\n      ContentProps={{\r\n        \"aria-describedby\": \"message-id\"\r\n      }}\r\n      onClose={handleClose}\r\n      message={<span id=\"message-id\">{snackbarMsg}</span>}\r\n    />\r\n  );\r\n};\r\n\r\nexport default SnackbarMessage;\r\n","import React, { useContext, useEffect, useCallback } from \"react\";\r\nimport {\r\n  // Container,\r\n  FormControl,\r\n  Select,\r\n  MenuItem,\r\n  FormGroup,\r\n  FormControlLabel,\r\n  Box,\r\n  Typography,\r\n  Grid\r\n} from \"@material-ui/core\";\r\n\r\nimport { GlobalContext } from \"../GlobalState\";\r\n\r\nexport const useCheckDarkmode = () => {\r\n  const [, dispatch] = useContext(GlobalContext);\r\n  const setThemeSelectValue = useCallback(\r\n    data => {\r\n      dispatch({ type: \"setThemeSelectValue\", snippet: data });\r\n    },\r\n    [dispatch]\r\n  );\r\n  const checkDarkMode = () => {\r\n    const selectedTheme = localStorage.getItem(\"selectedTheme\");\r\n\r\n    // we will check if system dark mode is enabled or not\r\n\r\n    // const colorScheme = window.matchMedia(\"(prefers-color-scheme: dark)\");\r\n    // colorScheme.addEventListener(\"change\", e => {\r\n    //   if (e.matches) {\r\n    //     // if it matches we will set it to dark else default\r\n    //     setThemeSelectValue(\"Dark\");\r\n    //   } else {\r\n    //     setThemeSelectValue(\"Default\");\r\n    //   }\r\n    // });\r\n    if (selectedTheme) {\r\n      console.log(selectedTheme);\r\n      setThemeSelectValue(selectedTheme);\r\n\r\n      const date = new Date();\r\n      const hrs = date.getHours();\r\n\r\n      // if the theme is auto then only do it\r\n      if (selectedTheme === \"Auto\") {\r\n        if (hrs >= 18 || hrs <= 6) {\r\n          setThemeSelectValue(\"Dark\");\r\n        } else {\r\n          setThemeSelectValue(\"Default\");\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  return { checkDarkMode };\r\n};\r\n\r\nconst SettingsPage = () => {\r\n  const [{ themeSelectValue }, dispatch] = useContext(GlobalContext);\r\n  const setThemeSelectValue = useCallback(\r\n    data => {\r\n      dispatch({ type: \"setThemeSelectValue\", snippet: data });\r\n    },\r\n    [dispatch]\r\n  );\r\n  const handleThemeChange = e => {\r\n    setThemeSelectValue(e.target.value);\r\n    localStorage.setItem(\"selectedTheme\", e.target.value);\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log(themeSelectValue);\r\n  }, [themeSelectValue]);\r\n\r\n  const selectComp = (\r\n    <Box m={1}>\r\n      \r\n      <Select\r\n        value={themeSelectValue}\r\n        onChange={handleThemeChange}\r\n        displayEmpty\r\n        name=\"age\"\r\n      >\r\n        <MenuItem value=\"Default\">Default</MenuItem>\r\n        <MenuItem value=\"Dark\">Dark</MenuItem>\r\n        <MenuItem value=\"Auto\">Auto</MenuItem>\r\n      </Select>\r\n    </Box>\r\n  );\r\n  return (\r\n    <Grid  \r\n    style={{ height: \"80vh\" }}\r\n    container\r\n    direction=\"column\"\r\n    justify=\"space-around\"\r\n    alignItems=\"center\"\r\n  >\r\n   \r\n    <div className=\"form-section-music\">\r\n      <Typography variant=\"h5\" gutterBottom={true}>\r\n          Setting theme background{\" \"}\r\n      </Typography>\r\n      <FormControl component=\"fieldset\">\r\n        <FormGroup row>\r\n          <FormControlLabel\r\n            labelPlacement=\"start\"\r\n            label=\"Select Theme \"\r\n            value=\"top\"\r\n            control={selectComp}\r\n          />\r\n        </FormGroup>\r\n      </FormControl>\r\n    </div>\r\n  </Grid>\r\n      \r\n    \r\n  );\r\n};\r\nexport default SettingsPage;\r\n","import React from \"react\";\r\nimport { IconButton, CircularProgress } from \"@material-ui/core/\";\r\nimport {\r\n  PauseCircleFilled,\r\n  PlayCircleFilled,\r\n  Pause,\r\n  PlayArrow\r\n} from \"@material-ui/icons/\";\r\n\r\nconst PlayPauseButton = ({ player, audioState, minimized }) => {\r\n  const togglePlayPause = e => {\r\n    if (audioState === \"playing\") {\r\n      player.pause();\r\n    } else if (audioState === \"paused\") {\r\n      player.play();\r\n    }\r\n    e.stopPropagation();\r\n  };\r\n\r\n  const showPlayPause = () => {\r\n    if (audioState === \"playing\") {\r\n      // if the state will be minimized then we will return the nromal pause button\r\n      if (minimized) {\r\n        return <Pause style={{ fontSize: \"3em\", opacity: \".8\" }} />;\r\n      }\r\n      return <PauseCircleFilled style={{ fontSize: \"4em\" }} color=\"primary\" />;\r\n    } else if (audioState === \"paused\" || audioState === \"loaded\") {\r\n      if (minimized) {\r\n        return <PlayArrow style={{ fontSize: \"3em\", opacity: \".8\" }} />;\r\n      }\r\n      return <PlayCircleFilled style={{ fontSize: \"4em\" }} color=\"primary\" />;\r\n    } else if (audioState === \"loading\") {\r\n      return <CircularProgress />;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <IconButton\r\n      size=\"small\"\r\n      color={minimized ? \"secondary\" : \"primary\"}\r\n      aria-label=\"Pause\"\r\n      onClick={togglePlayPause}\r\n      disableFocusRipple={true}\r\n      disableRipple={true}\r\n    >\r\n      {showPlayPause()}\r\n    </IconButton>\r\n  );\r\n};\r\n\r\nexport default PlayPauseButton;\r\n","import React from \"react\";\r\nimport { IconButton } from \"@material-ui/core/\";\r\nimport { SkipNext } from \"@material-ui/icons/\";\r\n\r\nconst PlayPauseButton = ({onPlayNext}) => {\r\n  return (\r\n    <IconButton color=\"primary\" aria-label=\"Next\" onClick={onPlayNext}>\r\n      <SkipNext fontSize=\"large\"/>\r\n    </IconButton>\r\n  );\r\n};\r\n\r\nexport default PlayPauseButton","import React from \"react\";\r\nimport { IconButton } from \"@material-ui/core/\";\r\nimport { SkipPrevious } from \"@material-ui/icons/\";\r\n\r\nconst PlayPauseButton = ({playPrevious}) => {\r\n  return (\r\n    <IconButton color=\"primary\" aria-label=\"Pause\" onClick={playPrevious}>\r\n      <SkipPrevious fontSize=\"large\"/>\r\n    </IconButton>\r\n  );\r\n};\r\n\r\nexport default PlayPauseButton","import React, { useState, useCallback } from \"react\";\r\nimport { useSwipeable } from \"react-swipeable\";\r\nimport { motion } from \"framer-motion\";\r\nimport { Avatar, Grid, Typography } from \"@material-ui/core\";\r\nimport { FavoriteTwoTone } from \"@material-ui/icons\";\r\nimport circleSvg from \"../../images/dottedCircle.svg\";\r\nimport { rateSong } from \"../../external/saveSong\";\r\n\r\nconst dblTouchTapMaxDelay = 300;\r\nlet latestTouchTap = {\r\n  time: 0,\r\n  target: null\r\n};\r\n\r\nfunction isDblTouchTap(event) {\r\n  const touchTap = {\r\n    time: new Date().getTime(),\r\n    target: event.currentTarget\r\n  };\r\n  const isFastDblTouchTap =\r\n    touchTap.target === latestTouchTap.target &&\r\n    touchTap.time - latestTouchTap.time < dblTouchTapMaxDelay;\r\n  latestTouchTap = touchTap;\r\n  return isFastDblTouchTap;\r\n}\r\n\r\n// let initialPosition;\r\n\r\nconst MusicArt = ({ data, rating, audioEl }) => {\r\n  const swipeUpHandler = useSwipeable({\r\n    onSwipedUp: e => {\r\n      dislikeSong();\r\n    }\r\n  });\r\n\r\n  const [heartStyle, setHeartStyle] = useState({\r\n    transform: \"scale(0)\"\r\n  });\r\n  const [artContainerStyle, setArtContainerStyle] = useState({\r\n    background: `url(${circleSvg}) no-repeat`,\r\n    padding: \"18px\",\r\n    position: \"relative\",\r\n    transition: \"transform 100ms\",\r\n    transform: \"translateY(0)\"\r\n  });\r\n\r\n  // const artContainerStyle = {\r\n  //   background: `url(${circleSvg}) no-repeat`,\r\n  //   padding: \"18px\",\r\n  //   position: \"relative\",\r\n  //   zIndex: \"1\"\r\n  // };\r\n\r\n  // if its less than 400 width we will use default hq thumbnail\r\n  const checkImg = e => {\r\n    if (e.target.naturalWidth < 400) {\r\n      e.target.src = data.sdThumbnail;\r\n    }\r\n  };\r\n\r\n  // double tap to like the song\r\n  const likeSong = useCallback(() => {\r\n    // run the like function to like provided with song id and rating\r\n    setHeartStyle({ transform: \"scale(0)\" });\r\n    setTimeout(() => {\r\n      setHeartStyle({ transform: \"scale(1)\" });\r\n    }, 300);\r\n  }, [setHeartStyle]);\r\n\r\n  const dislikeSong = useCallback(() => {\r\n    rateSong(data.id, \"disliked\");\r\n    setHeartStyle({ transform: \"scale(0)\" });\r\n    setTimeout(() => {\r\n      setHeartStyle({ transform: \"scale(1)\", color: \"#2d3436\" });\r\n    }, 200);\r\n  }, [setHeartStyle, data.id]);\r\n\r\n  React.useEffect(() => {\r\n    if (rating === \"liked\") {\r\n      likeSong();\r\n    } else if (rating === \"disliked\") {\r\n      dislikeSong();\r\n    } else {\r\n      setHeartStyle({ transform: \"scale(1)\" });\r\n    }\r\n  }, [rating, likeSong, dislikeSong, setHeartStyle]);\r\n\r\n  // if we find the channel name is before the song title we will remove it\r\n  //using the regex\r\n  const shortTitle = data => {\r\n    // this regex is to remove channel name from song title\r\n    const re = new RegExp(data.channelTitle + \" - | : \", \"g\");\r\n\r\n    return data.title.replace(re, \"\");\r\n  };\r\n\r\n  const getThumbnail = () => {\r\n    // if the thumbnail is downloaded then get it from database or else use the url to fetch\r\n    if (data.thumbnail) {\r\n      return window.URL.createObjectURL(data.thumbnail);\r\n    } else {\r\n      return data.maxThumbnail;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Grid\r\n      container\r\n      className=\"container-playerMusic\"\r\n      direction=\"column\"\r\n      justify=\"center\"\r\n      alignItems=\"center\"\r\n      style={{ marginTop: \"40px\" }}\r\n      onClick={e => {\r\n        if (isDblTouchTap(e)) {\r\n          likeSong();\r\n          rateSong(data.id, \"liked\", audioEl);\r\n        }\r\n        // call the like song function on double tap\r\n      }}\r\n    >\r\n      <motion.div\r\n        className=\"box-searchThumb\"\r\n        drag\r\n        dragElastic={true}\r\n        dragTransition={{ bounceStiffness: 100, bounceDamping: 10 }}\r\n        dragConstraints={{ left: 0, right: 0, top: 0, bottom: 0 }}\r\n        style={artContainerStyle}\r\n        {...swipeUpHandler}\r\n      >\r\n        <FavoriteTwoTone className={\"songHeart left\"} style={heartStyle} />\r\n        <FavoriteTwoTone className={\"songHeart right\"} style={heartStyle} />\r\n        <Avatar\r\n          className=\"searchThumb\"\r\n          style={{\r\n            width: \"215px\",\r\n            height: \"215px\",\r\n            boxShadow: \"#0000008c 1px 3px 8px\"\r\n          }}\r\n          alt=\"video thumbnail\"\r\n          src={getThumbnail()}\r\n          imgProps={{ onLoad: e => checkImg(e) }}\r\n        />\r\n      </motion.div>\r\n      <br />\r\n      <Typography variant=\"h5\" className=\"musicArtTitle\" align=\"center\">\r\n        {shortTitle(data)}\r\n      </Typography>\r\n      <h5 className=\"musicChannel\">\r\n        {data.channelTitle}\r\n      </h5>\r\n      <br />\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default MusicArt;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Dialog,\r\n  Switch,\r\n  DialogActions,\r\n  Button,\r\n  FormControlLabel,\r\n  // FormControl,\r\n  // DialogTitle,\r\n  Typography\r\n} from \"@material-ui/core\";\r\nimport { TimerOff, Timer } from \"@material-ui/icons\";\r\nimport { CircleSlider } from \"react-circle-slider\";\r\n\r\nconst setSleepTimeToLocalStorage = (time, alwaysOn) => {\r\n  const sleepTimerSettings = JSON.stringify({ time: time, alwaysOn: alwaysOn });\r\n\r\n  localStorage.setItem(\"sleepTimerSettings\", sleepTimerSettings);\r\n};\r\n\r\nconst getSleepTimeFromLocalStoarge = () => {\r\n  const sleepTimerSettings = localStorage.getItem(\"sleepTimerSettings\");\r\n  return JSON.parse(sleepTimerSettings);\r\n};\r\n\r\nconst removeSleepTimer = () => {\r\n  localStorage.removeItem(\"sleepTimerSettings\");\r\n};\r\n\r\nlet timerTimeout;\r\n\r\nfunction SleepTimer({ player }) {\r\n  const [sliderValue, changeSliderValue] = useState(20);\r\n  const [open, setOpen] = useState(false);\r\n  const [checkbox, setCheckbox] = useState(false);\r\n  const [isTimerSet, setIsTimerSet] = useState(false);\r\n\r\n  const setTimer = time => {\r\n    console.log(\"timer has been set with time\", time);\r\n    clearTimeout(timerTimeout);\r\n    setIsTimerSet(true);\r\n    timerTimeout = setTimeout(() => {\r\n      player.pause(); //pause after music finished\r\n    }, time * 60 * 1000);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const sleepTimerObj = getSleepTimeFromLocalStoarge();\r\n    if (sleepTimerObj) {\r\n      changeSliderValue(sleepTimerObj.time);\r\n      setCheckbox(sleepTimerObj.alwaysOn);\r\n    }\r\n\r\n    //only set timer when there is no timer\r\n    if (sleepTimerObj && sleepTimerObj.alwaysOn) {\r\n      console.log(sleepTimerObj);\r\n      setTimer(sleepTimerObj.time);\r\n    }\r\n    console.log(sleepTimerObj);\r\n  }, []);\r\n\r\n  const handleSetTimer = () => {\r\n    setSleepTimeToLocalStorage(sliderValue, checkbox);\r\n    //   then also set a set timeout\r\n    // if there is any timer already clear it\r\n    setOpen(false);\r\n    setTimer(sliderValue);\r\n  };\r\n\r\n  const handleRemove = () => {\r\n    removeSleepTimer();\r\n    setIsTimerSet(false);\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {isTimerSet ? (\r\n        <Timer color=\"primary\" onClick={() => setOpen(true)} />\r\n      ) : (\r\n        <TimerOff color=\"primary\" onClick={() => setOpen(true)} />\r\n      )}\r\n      <Dialog\r\n        style={{ zIndex: 1400 }}\r\n        open={open}\r\n        onClose={() => setOpen(false)}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <Typography\r\n          variant=\"h5\"\r\n          color=\"primary\"\r\n          align=\"center\"\r\n          style={{ marginTop: \"10px\" }}\r\n        >\r\n          Pause Music After\r\n        </Typography>\r\n        <div className=\"container\">\r\n          <div className=\"textContainer\">\r\n            {sliderValue}\r\n            <div className=\"minute\">MINUTES</div>\r\n          </div>\r\n          <CircleSlider\r\n            value={sliderValue}\r\n            stepSize={5}\r\n            onChange={value => changeSliderValue(value)}\r\n            size={300}\r\n            max={120}\r\n            gradientColorFrom=\"#ec008c\"\r\n            gradientColorTo=\"rgba(199, 79, 199, 0.753)\"\r\n            knobRadius={25}\r\n            progressWidth={30}\r\n            circleWidth={30}\r\n          />\r\n        </div>\r\n\r\n        <DialogActions>\r\n          <FormControlLabel\r\n            value=\"Always On\"\r\n            control={\r\n              <Switch\r\n                checked={checkbox}\r\n                onChange={e => setCheckbox(e.target.checked)}\r\n                value=\"checked always on\"\r\n                color=\"primary\"\r\n              />\r\n            }\r\n            label=\"ALWAYS\"\r\n            labelPlacement=\"end\"\r\n            style={{ color: \"rgba(199, 79, 199, 0.753)\" }}\r\n          />\r\n          <Button color=\"primary\" onClick={handleRemove}>\r\n            Remove\r\n          </Button>\r\n\r\n          <Button color=\"primary\" onClick={handleSetTimer}>\r\n            Set\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default SleepTimer;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { withStyles, Typography, Grid, Slider } from \"@material-ui/core/\";\r\n// import { PauseCircleFilled } from \"@material-ui/icons/\";\r\n\r\nconst PrettoSlider = withStyles({\r\n  root: {\r\n    height: 6,\r\n    color: \"rgb(27, 154, 238)\",\r\n    textAlign: \"center\",\r\n  },\r\n  thumb: {\r\n    color: \"rgb(27, 154, 238)\",\r\n    height: 16,\r\n    width: 16,\r\n    marginTop: -5.3,\r\n    marginLeft: -8,\r\n    \"&::before\": {\r\n      content: \"''\",\r\n      height: \"inherit\",\r\n      width: \"inherit\",\r\n      position: \"absolute\",\r\n      transform: \"scale(1.6)\",\r\n      borderRadius: \"50px\",\r\n      border: \"1px solid\"\r\n    }\r\n  },\r\n  track: {\r\n    height: 6,\r\n    borderRadius: 4\r\n  },\r\n  rail: {\r\n    height: 6,\r\n    borderRadius: 4\r\n  }\r\n})(Slider);\r\n\r\nconst MiniSlider = withStyles({\r\n  root: {\r\n    height: 5,\r\n    position: \"relative\",\r\n    bottom: \"16px\",\r\n    color: \"#ffff\",\r\n    padding: 0\r\n  },\r\n  thumb: {\r\n    display: \"none\"\r\n  },\r\n  track: {\r\n    height: 4,\r\n    borderRadius: 0\r\n  },\r\n  rail: {\r\n    height: 4,\r\n    borderRadius: 0\r\n  }\r\n})(Slider);\r\n\r\nconst formatTime = secs => {\r\n  let minutes = Math.floor(secs / 60);\r\n  let seconds = Math.ceil(secs - minutes * 60);\r\n\r\n  if (seconds < 10) seconds = `0${seconds}`;\r\n\r\n  return `${minutes}:${seconds}`;\r\n};\r\n\r\nconst TimelineController = ({ audioState, player, minimized }) => {\r\n  // const [value, setValue] = useState(50);\r\n  const [currentTime, setCurrentTime] = useState(0);\r\n\r\n  useEffect(() => {\r\n    if (player) {\r\n      setCurrentTime(player.currentTime);\r\n    }\r\n    // we will update the time of player every 800ms\r\n    let setTimeInterval;\r\n    if (audioState === \"playing\") {\r\n      setTimeInterval = setInterval(() => {\r\n        setCurrentTime(player.currentTime);\r\n        console.log()\r\n      }, 800);\r\n    } else {\r\n      clearInterval(setTimeInterval);\r\n    }\r\n    return () => clearInterval(setTimeInterval);\r\n  }, [audioState, player]);\r\n\r\n  const handleChange = (event, newValue) => {\r\n    player.currentTime = newValue;\r\n    setCurrentTime(newValue);\r\n  };\r\n\r\n  const showDuration = () => {\r\n    if (player) {\r\n      if (player.duration) {\r\n        return formatTime(player.duration);\r\n      } else {\r\n        return \"0:00\";\r\n      }\r\n    } else {\r\n      return 0;\r\n    }\r\n  };\r\n\r\n  // condition rendering\r\n  if (minimized) {\r\n    return (\r\n      <MiniSlider value={currentTime} max={player ? player.duration : 0} />\r\n    );\r\n  } else {\r\n    return (\r\n      <div style={{ margin: \"0 auto\", width: \"90%\" }}>\r\n        <Grid container direction=\"row\" justify=\"space-between\">\r\n          <Typography variant=\"body1\" className=\"timeright\">\r\n            {formatTime(currentTime)}\r\n          </Typography>\r\n          <Typography variant=\"body1\" className=\"timeright\">\r\n            {showDuration()}\r\n          </Typography>\r\n        </Grid>\r\n\r\n        <PrettoSlider\r\n          value={currentTime}\r\n          onChange={handleChange}\r\n          max={player ? player.duration : 0}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default TimelineController;\r\n","import React, { useState } from \"react\";\r\nimport { Grid, Slider } from \"@material-ui/core/\";\r\nimport { VolumeUp } from \"@material-ui/icons/\";\r\n\r\nconst VolumeController = ({ player, setPlayerState }) => {\r\n  const [volume, setVolume] = useState(100);\r\n\r\n  const volumeChange = (e, newVal) => {\r\n    setVolume(newVal);\r\n    player.volume = newVal / 100;\r\n    //\r\n  };\r\n\r\n\r\n  return (\r\n\r\n      <Grid container spacing={1} style={{ maxWidth: \"150px\", color:\"rgb(27, 154, 238)\", alignItems: \"center\"}}>\r\n        <Grid item>\r\n          <VolumeUp style={{color:\"rgb(27, 154, 238)\" }} />\r\n        </Grid>\r\n        <Grid  item xs={3}>\r\n          <Slider style={{color:\"rgb(27, 154, 238)\" }} value={volume} onChange={volumeChange} />\r\n        </Grid>\r\n      </Grid>\r\n  );\r\n};\r\n\r\nexport default VolumeController;\r\n","import React, { useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { motion } from \"framer-motion\";\r\nimport { RiRepeatOneLine, RiRepeat2Fill, RiHome2Line} from 'react-icons/ri';\r\nimport { TiArrowShuffle, TiArrowLoop } from 'react-icons/ti';\r\n\r\n\r\nimport {\r\n  List,\r\n  ListItem,\r\n  Typography,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  Grid,\r\n  LinearProgress\r\n} from \"@material-ui/core\";\r\n\r\nimport {\r\n  MusicVideo,\r\n  // LibraryMusic,\r\n  // Shuffle,\r\n  // Repea\r\n  KeyboardArrowUp,\r\n  KeyboardArrowDown,\r\n  // RepeatOne\r\n} from \"@material-ui/icons\";\r\n\r\n\r\nimport { GlobalContext } from \"./GlobalState\";\r\n\r\nlet renderResult, renderResult2;\r\n\r\n// written by @bushblade\r\nconst shuffle = arry =>\r\n  arry.reduce(\r\n    (acc, _, i) => {\r\n      const rnd = Math.floor(Math.random() * acc.length),\r\n        temp = acc[i];\r\n      acc[i] = acc[rnd];\r\n      acc[rnd] = temp;\r\n      return acc;\r\n    },\r\n    [...arry]\r\n  );\r\n\r\nconst RelatedVideos = ({\r\n  toggleMaxPlaylist,\r\n  setPlaylist,\r\n  playerState,\r\n  relatedVideos,\r\n  setRelatedVideos,\r\n  setIsRepeatOn,\r\n  songsDownloadedState,\r\n  isRepeatOn,\r\n  isLoadList,\r\n  setIsLoadList\r\n}) => {\r\n  const [{}, dispatch] = useContext(GlobalContext);\r\n\r\n  const setCurrentVideoSnippet = data => {\r\n    dispatch({ type: \"setCurrentVideoSnippet\", snippet: data });\r\n  };\r\n\r\n \r\n\r\n  \r\n  \r\n  const handleShuffleClick = () => {\r\n\r\n    if(isLoadList){\r\n      console.log(\"set next \",songsDownloadedState);\r\n      setRelatedVideos(shuffle(songsDownloadedState));\r\n\r\n    }else{\r\n      console.log(\"set next \", relatedVideos);\r\n      setRelatedVideos(shuffle(relatedVideos));\r\n    }\r\n    \r\n  };\r\n\r\n  const spring = {\r\n    type: \"spring\",\r\n    damping: 20,\r\n    stiffness: 300\r\n  };\r\n  \r\n  const handleClick = video => {\r\n    // set all the info of current clicked video in this object\r\n    setCurrentVideoSnippet({\r\n      id: video.id.videoId,\r\n      title: video.snippet.title,\r\n      channelTitle: video.snippet.channelTitle,\r\n      maxThumbnail: `https://img.youtube.com/vi/${video.id.videoId}/maxresdefault.jpg`,\r\n      sdThumbnail: `https://img.youtube.com/vi/${video.id.videoId}/sddefault.jpg`\r\n      // this is the url of the max resolution of thumbnail\r\n    });\r\n    setPlaylist();\r\n    // window.location.pathname.replace(`/ndsappbeta/music/play?id=${video.videoId}`);\r\n  };\r\n  const handleClick2 = video => {\r\n    // set all the info of current clicked video in this object\r\n    setCurrentVideoSnippet({\r\n      id: video.videoId,\r\n      title: video.title,\r\n      channelTitle: video.channelTitle,\r\n      maxThumbnail: `https://img.youtube.com/vi/${video.videoId}/maxresdefault.jpg`,\r\n      sdThumbnail: `https://img.youtube.com/vi/${video.videoId}/sddefault.jpg`\r\n      // this is the url of the max resolution of thumbnail\r\n    });\r\n    setPlaylist();\r\n    // window.location.pathname.replace(`/ndsappbeta/music/play?id=${video.videoId}`);\r\n  };\r\n\r\n  try{\r\n\r\n    if ((relatedVideos.length > 1) || (songsDownloadedState.length > 1)) {\r\n      \r\n      if(isLoadList){\r\n        renderResult2 = songsDownloadedState.map(song => {\r\n          return (\r\n            <motion.li key={song.videoId} positionTransition={spring}>\r\n              <ListItem\r\n                button\r\n                onClick={() => handleClick2(song)}\r\n              >\r\n                <ListItemIcon>\r\n                  <MusicVideo style={{ color: \"#fff\" }} />\r\n                </ListItemIcon>\r\n                <ListItemText\r\n                  primary={song.title.slice(0, 40)}\r\n                  secondary={song.channelTitle.slice(0, 40)}\r\n                />\r\n              </ListItem>\r\n            </motion.li>\r\n          );\r\n        });\r\n      }else{\r\n        renderResult = relatedVideos.map(song => {\r\n          console.log(\"title \", song.snippet);\r\n         \r\n          return (\r\n            <motion.li key={song.id.videoId} positionTransition={spring}>\r\n              <ListItem\r\n                button\r\n                onClick={() => handleClick(song)}\r\n              >\r\n                <ListItemIcon>\r\n                  <MusicVideo style={{ color: \"#fff\" }} />\r\n                </ListItemIcon>\r\n                <ListItemText\r\n                  primary={song.snippet.title.slice(0, 40)}\r\n                  secondary={song.snippet.channelTitle.slice(0, 40)}\r\n                />\r\n              \r\n              </ListItem>\r\n            </motion.li>\r\n          );\r\n        })\r\n      }\r\n      \r\n    } else {\r\n      return <LinearProgress />;\r\n    }\r\n\r\n  } catch (err) {\r\n    console.log(err)\r\n  }\r\n  \r\n\r\n  const returnPlaylistExpandBtn = () => {\r\n    if (playerState === \"playlist\") {\r\n      return <KeyboardArrowDown onClick={toggleMaxPlaylist} />;\r\n    } else {\r\n      return <KeyboardArrowUp onClick={toggleMaxPlaylist} />;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"RelatedVideoContainer\">\r\n      <Grid\r\n        className={\"playlistHeader\"}\r\n        container\r\n        direction=\"row\"\r\n        alignItems=\"center\"\r\n        justify=\"space-between\"\r\n      >\r\n        \r\n        <Link to={\"/music/home\"}>\r\n        <RiHome2Line className=\"cssIcons\" />\r\n        </Link>\r\n        {isLoadList ? (\r\n          <Typography variant=\"h6\" onClick={setIsLoadList}>Loaded List</Typography>\r\n        ) : (\r\n          <Typography variant=\"h6\" onClick={setIsLoadList}>Related List</Typography>\r\n        )}\r\n        \r\n        <TiArrowShuffle className=\"cssIcons\" onClick={handleShuffleClick} />\r\n        {/* this will show the repeat button and repeat the song */}\r\n        {(isRepeatOn === 1) ? (\r\n          <RiRepeatOneLine className=\"cssIcons\" onClick={() => setIsRepeatOn(2)} />\r\n        ) : <>\r\n          {\r\n            (isRepeatOn === 0) ? (<RiRepeat2Fill className=\"cssIcons\" onClick={() =>setIsRepeatOn(1)} />)\r\n          :\r\n          (<TiArrowLoop className=\"cssIcons\" onClick={() =>setIsRepeatOn(0)} />)\r\n          }\r\n          \r\n        </>}\r\n        {returnPlaylistExpandBtn()}\r\n      </Grid>\r\n      <List dense={true}>{isLoadList? renderResult2 : renderResult}</List>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RelatedVideos;\r\n","import React, { useEffect, useContext, useState, useRef } from \"react\";\r\nimport { Grid } from \"@material-ui/core\";\r\nimport { useSwipeable } from \"react-swipeable\";\r\nimport PlayPauseButton from \"./PlayPauseButton\";\r\nimport NextButton from \"./NextButton\";\r\nimport PreviousButton from \"./PreviousButton\";\r\nimport MusicArt from \"./MusicArt\";\r\nimport TimelineController from \"./TimelineController\";\r\nimport TopBar from \"./TopBar\";\r\nimport MiniMusicArt from \"./MiniMusicArt\";\r\nimport RelatedVideos from \"../RelatedVideos\";\r\nimport getAudioLink from \"../../apis/getAudioLink\";\r\nimport youtubeSearch from \"../../apis/youtubeSearch\";\r\nimport { updatePlayingSong } from \"../../external/saveSong\";\r\n\r\nimport { GlobalContext } from \"../GlobalState\";\r\nimport _ from 'lodash';\r\nimport {\r\n  getDownloadedSongs,\r\n} from \"../../external/saveSong\";\r\n\r\n// window.onbeforeunload = function() {\r\n//   return 'You have unsaved changes!';\r\n// }\r\nlet relatedVideosVar;\r\n\r\nconst MainPlayer = ({ location, history }) => {\r\n  let params = new URLSearchParams(location.search);\r\n  console.log(\"path id in mainPlayer: \", params.get(\"id\"));\r\n  const [{ currentVideoSnippet, themeSelectValue }, dispatch] = useContext(\r\n    GlobalContext\r\n  );\r\n\r\n  const setCurrentVideoSnippet = data => {\r\n    dispatch({ type: \"setCurrentVideoSnippet\", snippet: data });\r\n  };\r\n\r\n  const [relatedVideos, setRelatedVideos] = useState([]);\r\n  const [isItFromPlaylist, setIsItFromPlaylist] = useState(false);\r\n  const [songsDownloadedState, setSongsDownloaded] = useState([]);\r\n  const [audioState, setAudioState] = useState(null);\r\n  // there will be 4 states\r\n  // loading, loaded, playing, paused\r\n\r\n  const [playerState, setPlayerState] = useState(null);\r\n  // there will be 3 states\r\n  // maximized, minimized, playlist\r\n\r\n  const [minimized, setMinimized] = useState(true);\r\n  const [isRepeatOn, setIsRepeatOn] = useState(0);\r\n  const [isLoadList, setIsLoadList] = useState(false);\r\n  // const [isLoopList, setIsLoopList] = useState(false)\r\n  const [rating, setRating] = useState(\"none\");\r\n  const [isNextFromMini, setIsNextFromMini] = useState(false);\r\n  // const [audioURL, setAudioURL] = useState(null);\r\n  const body = document.querySelector(\"body\");\r\n\r\n  const audioPlayer = useRef();\r\n  const player = audioPlayer.current;\r\n\r\n  const proccessStateLoopList = (keyState) => {\r\n    console.log(\"here\", keyState)\r\n   if(keyState === 0){\r\n    setIsRepeatOn(0)\r\n   }else if(keyState === 1){\r\n    setIsRepeatOn(1)\r\n   }else{\r\n    setIsRepeatOn(2)\r\n   }\r\n    \r\n  }\r\n   \r\n\r\n\r\n  const setupMediaSessions = () => {\r\n    if (\"mediaSession\" in navigator) {\r\n      console.log(\"navigator setupped\");\r\n\r\n      navigator.mediaSession.metadata = new window.MediaMetadata({\r\n        title: currentVideoSnippet.title,\r\n        artist: currentVideoSnippet.channelTitle,\r\n        artwork: [\r\n          {\r\n            src: currentVideoSnippet.sdThumbnail,\r\n            sizes: \"512x512\",\r\n            type: \"image/png\"\r\n          }\r\n        ]\r\n      });\r\n      navigator.mediaSession.setActionHandler(\"play\", () => {\r\n        /* Code excerpted. */\r\n        playAudio();\r\n      });\r\n      navigator.mediaSession.setActionHandler(\"pause\", () => {\r\n        /* Code excerpted. */\r\n        audioPlayer.current.pause();\r\n      });\r\n      navigator.mediaSession.setActionHandler(\"previoustrack\", () => {\r\n        playPrevious();\r\n      });\r\n      navigator.mediaSession.setActionHandler(\"nexttrack\", () => {\r\n        playNext();\r\n      });\r\n    }\r\n  };\r\n\r\n  const playAudio = () => {\r\n    audioPlayer.current\r\n      .play()\r\n      .then(_ => {\r\n        // Automatic playback started!\r\n        // Show playing UI.\r\n        console.log(\"audio played auto\");\r\n        setupMediaSessions();\r\n      })\r\n      .catch(error => {\r\n        // Auto-play was prevented\r\n        // Show paused UI.\r\n        console.log(\"playback prevented\");\r\n        setAudioState(\"paused\");\r\n      });\r\n  };\r\n\r\n\r\n  useEffect(() => {\r\n    console.log(\"state changed triggedred\");\r\n    const getAudio = async data => {\r\n      // audioPlayer.current.src = \"\";\r\n      // maximize the player every time id changes\r\n      // only if playlist is not open\r\n      if (playerState !== \"playlist\" && !isNextFromMini) {\r\n        setPlayerState(\"maximized\");\r\n        //\r\n        console.log(\"maximizing here yar and state is\", playerState);\r\n      }\r\n\r\n      setTimeout(() => {\r\n        setIsNextFromMini(false);\r\n        // change it back to false\r\n      }, 200);\r\n\r\n      setAudioState(\"loading\");\r\n      const res = await getAudioLink.get(\"/song\", {\r\n        params: { id: data }\r\n      });\r\n\r\n      // set the audio data\r\n      // const proxyURL = \"http://localhost:9150/proxy/\";\r\n      audioPlayer.current.src = res.data;\r\n      playAudio();\r\n\r\n      // var audioContext = new AudioContext();\r\n\r\n      // var track = audioContext.createMediaElementSource(audioPlayer.current);\r\n      // track.connect(audioContext.destination);\r\n    };\r\n\r\n    if (currentVideoSnippet.audio) {\r\n      console.log(\"yes its downloaded we will play from local file\");\r\n      // maximize the player every time id changes\r\n\r\n      setPlayerState(\"maximized\");\r\n      setAudioState(\"loading\");\r\n      audioPlayer.current.src = window.URL.createObjectURL(\r\n        currentVideoSnippet.audio\r\n      );\r\n      playAudio();\r\n    } else if (currentVideoSnippet.id) {\r\n      getAudio(currentVideoSnippet.id);\r\n    }\r\n\r\n    if (currentVideoSnippet.id) {\r\n      const searchRelated = async () => {\r\n        const res = await youtubeSearch.get(\"/search\", {\r\n          params: {\r\n            relatedToVideoId: currentVideoSnippet.id,\r\n            maxResults: 20\r\n          }\r\n        });\r\n\r\n        //proccess fail by result turn back\r\n\r\n        console.log(\"res.data relate song\", _.tail(res.data.items));\r\n\r\n        let updated = res.data.items.filter(function(val){ return val.snippet !== undefined; });\r\n\r\n        console.log(updated);\r\n\r\n        setRelatedVideos(_.tail(res.data.items));\r\n\r\n      };\r\n\r\n      // if its not from the mini next button then only change history\r\n      if (!isNextFromMini) {\r\n        // if the click is not from playlist then only we will search for realated video\r\n        if (!isItFromPlaylist) {\r\n          // console.log(\"searching for related vids\", relatedVideos);\r\n          // if player is in playlist mode we will just replace history else push it\r\n          if (location.pathname !== \"/ndsweb/music\") {\r\n            // prevent duplicating history\r\n            history.push(`/ndsweb/music/play?id=${currentVideoSnippet.id}`);\r\n          }\r\n\r\n          searchRelated();\r\n        } else {\r\n          history.replace(`/ndsweb/music/play?id=${currentVideoSnippet.id}`);\r\n          setIsItFromPlaylist(false);\r\n        }\r\n      }\r\n\r\n      console.log(currentVideoSnippet);\r\n    }\r\n\r\n    // set rating to none when we load new song\r\n    setRating(\"none\");\r\n  }, [currentVideoSnippet, setIsItFromPlaylist]);\r\n\r\n  useEffect( async ()  => {\r\n\r\n    setSongsDownloaded(await getDownloadedSongs());\r\n\r\n  }, [])\r\n\r\n  \r\n  // useEffect(() => {\r\n  //   if(isLoadList){\r\n      \r\n  //   }\r\n\r\n  // }, [isLoadList])\r\n  // useEffect(() => {\r\n  //   console.log(\"from playlist\", isItFromPlaylist);\r\n  // }, [isItFromPlaylist]);\r\n\r\n  useEffect(() => {\r\n    if(isLoadList){\r\n      relatedVideosVar = songsDownloadedState;\r\n    }else\r\n    if(relatedVideos){\r\n      relatedVideosVar = relatedVideos;\r\n    }\r\n    \r\n    console.log(\"related\", relatedVideos);\r\n  }, [relatedVideos, isLoadList]);\r\n\r\n  useEffect(() => {\r\n    console.log(\"isnext state\", isNextFromMini);\r\n  }, [isNextFromMini]);\r\n\r\n  const setAudioSrcAndPlay = async id => {\r\n    const res = await getAudioLink.get(\"/song\", {\r\n      params: { id: id }\r\n    });\r\n\r\n    // set the audio data\r\n    audioPlayer.current.src = res.data;\r\n    playAudio();\r\n  };\r\n\r\n  const setVideoSnippet = video => {\r\n    try{\r\n      setCurrentVideoSnippet({\r\n        id: video.id.videoId,\r\n        title: video.snippet.title,\r\n        channelTitle: video.snippet.channelTitle,\r\n        maxThumbnail: `https://img.youtube.com/vi/${video.id.videoId}/hqdefault.jpg`,\r\n        sdThumbnail: `https://img.youtube.com/vi/${video.id.videoId}/sddefault.jpg`\r\n        // this is the url of the max resolution of thumbnail\r\n      });\r\n    }\r\n    catch(err)\r\n    {\r\n      console.error('err', err)\r\n    }\r\n    // if window is minimized then only we will run this function\r\n    if (document.hidden) {\r\n      setAudioSrcAndPlay(video.id.videoId);\r\n    }\r\n  };\r\n  const setVideoSnippet2 = video => {\r\n    try{\r\n      setCurrentVideoSnippet({\r\n        id: video.videoId,\r\n        title: video.title,\r\n        channelTitle: video.channelTitle,\r\n        maxThumbnail: `https://img.youtube.com/vi/${video.videoId}/hqdefault.jpg`,\r\n        sdThumbnail: `https://img.youtube.com/vi/${video.videoId}/sddefault.jpg`\r\n        // this is the url of the max resolution of thumbnail\r\n      });\r\n    }\r\n    catch(err)\r\n    {\r\n      console.error('err', err)\r\n    }\r\n    // if window is minimized then only we will run this function\r\n    if (document.hidden) {\r\n      setAudioSrcAndPlay(video.videoId);\r\n    }\r\n  };\r\n\r\n  const playNext = () => {\r\n    // also set this is from playlist\r\n    setIsItFromPlaylist(true);\r\n    console.log(\"play next related videos\", relatedVideos);\r\n    // find the index of playing song in the playlist\r\n\r\n    if(isLoadList){\r\n      const currentIndex2 = relatedVideosVar.findIndex(\r\n        video => video.videoId === currentVideoSnippet.id\r\n      );\r\n      if(currentIndex2 === relatedVideosVar.length-1 && isRepeatOn === 2){\r\n        let video2 = relatedVideosVar[0];\r\n        setVideoSnippet2(video2);\r\n      }else{\r\n        let video2 = relatedVideosVar[currentIndex2 + 1];\r\n        setVideoSnippet2(video2);\r\n      } \r\n    }else{\r\n\r\n      const currentIndex = relatedVideosVar.findIndex(\r\n        video => video.id.videoId === currentVideoSnippet.id\r\n\r\n      );\r\n      if(currentIndex === relatedVideosVar.length-1 && isRepeatOn === 2){\r\n        let video = relatedVideosVar[0];\r\n        setVideoSnippet(video);\r\n      }else{\r\n        let video = relatedVideosVar[currentIndex + 1];\r\n        setVideoSnippet(video);\r\n      } \r\n      \r\n    }\r\n    \r\n\r\n  };\r\n\r\n  const playPrevious = () => {\r\n    setIsItFromPlaylist(true);\r\n\r\n    // if the player time is greater than 5 sec we will move the time to 0\r\n    if (player.currentTime > 5) {\r\n      player.currentTime = 0;\r\n    } else\r\n      if(isLoadList){\r\n        const currentIndex = relatedVideosVar.findIndex(\r\n          video => video.videoId === currentVideoSnippet.id\r\n         \r\n        );\r\n        let video;\r\n        if (currentIndex !== -1) {\r\n          video = relatedVideosVar[currentIndex - 1]; //we will play the next song\r\n          setVideoSnippet2(video);\r\n        } else {\r\n          player.currentTime = 0;\r\n        }\r\n      } else {\r\n        const currentIndex = relatedVideosVar.findIndex(\r\n          video => video.id.videoId === currentVideoSnippet.id\r\n        \r\n        );\r\n        let video;\r\n        if (currentIndex !== -1) {\r\n          video = relatedVideosVar[currentIndex - 1]; //we will play the next song\r\n          setVideoSnippet(video);\r\n        } else {\r\n          player.currentTime = 0;\r\n      }\r\n    }\r\n  };\r\n\r\n  let playerStyle = {\r\n    position: \"fixed\",\r\n    right: 0,\r\n    bottom: 0,\r\n    background: \"#fff\",\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    zIndex: 1400,\r\n    display: \"inline block\",\r\n    transition: \"all .3s ease\"\r\n  };\r\n\r\n  if (playerState === \"minimized\") {\r\n    playerStyle.transform = \"translateY(calc(100% - 106px))\";\r\n    playerStyle.zIndex = 0;\r\n    // if theme is not dark then only apply the pink style\r\n    if (themeSelectValue === \"Dark\") {\r\n      playerStyle.background = \"#333\";\r\n    } else {\r\n      playerStyle.background = \"#e91e63\";\r\n    }\r\n    // playerStyle.bottom = \"48px\";\r\n    // calculate the top height and we are subtracting 148px becz\r\n    // 48 is the value of menu bar and 100px is minimized height\r\n    // make body overflow scroll 😝\r\n    body.style.overflow = \"auto\";\r\n  }\r\n\r\n  if (playerState === \"maximized\") {\r\n    // make body overflow hidden 🙈\r\n    body.style.overflow = \"hidden\";\r\n    if (themeSelectValue === \"Dark\") {\r\n      playerStyle.background = \"#333\";\r\n    }\r\n  }\r\n\r\n  if (playerState === \"playlist\") {\r\n    playerStyle.transform = \"translateY(-418px)\";\r\n  }\r\n\r\n  const expandPlayer = (e) => {\r\n    e.preventDefault();\r\n    if (playerState === \"minimized\") {\r\n      setPlayerState(\"maximized\");\r\n      setMinimized(true);\r\n      history.push({\r\n        pathname: \"/ndsweb/music/play\",\r\n        search: `?id=${currentVideoSnippet.id}`,\r\n        state: { modal: true }\r\n      });\r\n    }\r\n  };\r\n\r\n  const toggleMaxPlaylist = () => {\r\n    if (playerState === \"playlist\") {\r\n      setPlayerState(\"maximized\");\r\n    } else {\r\n      setPlayerState(\"playlist\");\r\n    }\r\n    console.log(\"Maximize the playlist\");\r\n  };\r\n\r\n  const updateSongDB = async () => {\r\n    const rating = await updatePlayingSong(currentVideoSnippet);\r\n    //  it will update song on db and return the rating\r\n    setRating(rating);\r\n    console.log(rating);\r\n  };\r\n\r\n  // this will be fired when song is ended\r\n  const songEnded = () => {\r\n    // if repeat is false we will play next else just set the time to 0\r\n    if (isRepeatOn === 0 || isRepeatOn === 2) {\r\n      playNext();\r\n    } else if(isRepeatOn === 1){\r\n      audioPlayer.current.currentTime = 0;\r\n      playAudio();\r\n    }\r\n  };\r\n\r\n  let initPosition = 0;\r\n  const containerRef = useRef(null);\r\n\r\n  const swipeHandlerMaximized = useSwipeable({\r\n    onSwipedDown: e => {\r\n      setPlayerState(\"minimized\");\r\n      history.goBack();\r\n    },\r\n    onSwiping: e => {\r\n      // console.log(e);\r\n      // getting the event for touches to extract the position\r\n      if (initPosition === 0) {\r\n        initPosition = e.event.changedTouches[0].screenY;\r\n      }\r\n\r\n      const screenY = e.event.changedTouches[0].screenY;\r\n      let positionDifference = Math.round(screenY - initPosition);\r\n      if (positionDifference < 1) {\r\n        positionDifference = 0;\r\n      }\r\n\r\n      const containerRefStyle = containerRef.current.style;\r\n      containerRefStyle.transform = `translateY(${positionDifference}px)`;\r\n      containerRefStyle.transition = \"none\";\r\n    },\r\n    onSwiped: e => {\r\n      initPosition = 0;\r\n      containerRef.current.style = \"\";\r\n      // we will make the initial position 0 again after user leaves the screen\r\n    },\r\n    onSwipedUp: e => {\r\n      if (playerState === \"minimized\") {\r\n        setPlayerState(\"maximized\");\r\n      }\r\n    },\r\n    onSwipedRight: e => {\r\n      const playTimeout = setTimeout(() => {\r\n        clearTimeout(playTimeout);\r\n        playNext();\r\n      }, 250);\r\n    },\r\n    onSwipedLeft: e => {\r\n      const playTimeout = setTimeout(() => {\r\n        clearTimeout(playTimeout);\r\n        playPrevious();\r\n      }, 250);\r\n    }\r\n  });\r\n\r\n  const swipeHandlerMin = useSwipeable({\r\n    onSwipedUp: e => {\r\n      expandPlayer();\r\n    }\r\n  });\r\n\r\n  useEffect(() => {\r\n \r\n    if (location.pathname === \"/ndsweb/music/play\" && !currentVideoSnippet.id) {\r\n      console.log(\"history is in play fetching song times 2\");\r\n\r\n      fetchAndSetCurrentVideoSnippet(params.get(\"id\")); // math will give the song id from\r\n    }\r\n    // we will only change if its push  otherwise while changing song from playlist changes the state\r\n\r\n    // Listen for changes to the current location.\r\n\r\n    const unlisten = history.listen(location => {\r\n      // location is an object like window.location\r\n      if (location.pathname === \"/ndsweb/music/play\") {\r\n        // we will only change if its push  otherwise while changing song from playlist changes the state\r\n        //## hidden 3 line after\r\n        if (history.action !== \"REPLACE\") {\r\n          setPlayerState(\"maximized\");\r\n          console.log(\"set player state to maximized\");\r\n        }\r\n\r\n      } else {\r\n        // setPlayerState(\"minimized\");\r\n        // console.log(\"set player state to minimized\");\r\n      }\r\n      console.log(history);\r\n    });\r\n  }, [history]);\r\n\r\n  useEffect(() => {\r\n    console.log(playerState);\r\n  }, [playerState]);\r\n\r\n  const returnMinMaxClass = () => {\r\n    if (playerState === \"minimized\") {\r\n      return \"playerMinimized\";\r\n    } else if (playerState === \"playlist\") {\r\n      return \"playerPlaylist\";\r\n    }\r\n  };\r\n\r\n  const returnMaximizedPlayer = () => {\r\n    if (playerState === \"maximized\" || playerState === \"playlist\") {\r\n      return (\r\n        <>\r\n          <Grid\r\n            container\r\n            direction=\"column\"\r\n            className=\"main-player-inner\"\r\n            style={{\r\n              height: \" calc(100vh - 46px)\",\r\n              justifyContent: \"space-evenly\"\r\n            }}\r\n          >\r\n            <TopBar\r\n              song={currentVideoSnippet}\r\n              player={player}\r\n              setPlayerState={setPlayerState}\r\n              history={history}\r\n            />\r\n            <div {...swipeHandlerMaximized} className=\"musicArtContainer\">\r\n              <MusicArt\r\n                data={currentVideoSnippet}\r\n                rating={rating}\r\n                audioEl={player}\r\n              />\r\n            </div>\r\n            <TimelineController audioState={audioState} player={player} />\r\n\r\n            <Grid\r\n              container\r\n              direction=\"row\"\r\n              justify=\"space-evenly\"\r\n              alignItems=\"center\"\r\n              style={{ maxWidth: \"290px\", height: \"80px\", margin: \"0 auto\" }}\r\n            >\r\n              <PreviousButton playPrevious={playPrevious} />\r\n              <PlayPauseButton player={player} audioState={audioState} />\r\n              <NextButton onPlayNext={playNext} />\r\n            </Grid>\r\n          </Grid>\r\n          <RelatedVideos\r\n            toggleMaxPlaylist={toggleMaxPlaylist}\r\n            setPlaylist={() => setIsItFromPlaylist(true)}\r\n            playerState={playerState}\r\n            relatedVideos={relatedVideos}\r\n            setRelatedVideos={data => setRelatedVideos(data)}\r\n            isRepeatOn={isRepeatOn}\r\n            // this will set the repeat setting\r\n            setIsRepeatOn={(key) => proccessStateLoopList(key)}\r\n            songsDownloadedState = {songsDownloadedState}\r\n            isLoadList={isLoadList}\r\n            // this will set the using load list next song setting\r\n            setIsLoadList={() => {\r\n              console.log(\"set using Loaded List song\")\r\n              setIsLoadList(!isLoadList);\r\n            }}\r\n          />\r\n        </>\r\n      );\r\n    }\r\n  };\r\n\r\n  const returnMinimizedPlayer = () => {\r\n    if (playerState === \"minimized\" && currentVideoSnippet.id) {\r\n      return (\r\n        <div {...swipeHandlerMin}>\r\n          <MiniMusicArt\r\n            // we are making an object for props we will pass it to play pause button through mini music art\r\n            playPause={{\r\n              player: player,\r\n              minimized: minimized,\r\n              audioState: audioState\r\n            }}\r\n            playNext={e => {\r\n              e.stopPropagation();\r\n              setIsNextFromMini(true);\r\n              playNext();\r\n            }}\r\n            data={currentVideoSnippet}\r\n            emptyPlayer={e => {\r\n              e.stopPropagation();\r\n              setCurrentVideoSnippet([]);\r\n            }}\r\n          />\r\n          <TimelineController\r\n            audioState={audioState}\r\n            player={player}\r\n            minimized={minimized}\r\n          />\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  const fetchAndSetCurrentVideoSnippet = id => {\r\n    youtubeSearch\r\n      .get(\"videos\", {\r\n        params: {\r\n          id: id\r\n        }\r\n      })\r\n      .then(res => {\r\n        const item = res.data.items[0];\r\n        console.log(currentVideoSnippet);\r\n        setCurrentVideoSnippet({\r\n          id: item.id,\r\n          title: item.snippet.title,\r\n          channelTitle: item.snippet.channelTitle,\r\n          maxThumbnail: `https://img.youtube.com/vi/${item.id}/maxresdefault.jpg`,\r\n          sdThumbnail: `https://img.youtube.com/vi/${item.id}/sddefault.jpg`\r\n          // this is the url of the max resolution of thumbnail\r\n        });\r\n      });\r\n  };\r\n\r\n  if (!currentVideoSnippet.id) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div\r\n      // drag=\"y\"\r\n      // dragConstraints={{ top: 0, bottom: 600 }}\r\n      ref={containerRef}\r\n      // style={playerStyle}\r\n      onClick={expandPlayer}\r\n      className={\"mediaPlayerContainer \" + returnMinMaxClass()}\r\n    >\r\n      {returnMaximizedPlayer()}\r\n      {returnMinimizedPlayer()}\r\n      <audio\r\n        // onTimeUpdate={timeUpdate}\r\n        onLoadStart={() => {\r\n          setAudioState(\"loading\");\r\n        }}\r\n        id=\"audio-element\"\r\n        onLoadedData={updateSongDB}\r\n        // crossOrigin=\"anonymous\"\r\n        onPlay={() => setAudioState(\"playing\")}\r\n        onPlaying={() => setAudioState(\"playing\")}\r\n        onPause={() => setAudioState(\"paused\")}\r\n        onEnded={songEnded}\r\n        autoPlay\r\n        ref={audioPlayer}\r\n        // type=\"audio/mp4\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MainPlayer;\r\n","import React, {\r\n  useContext,\r\n  useState,\r\n  useEffect,\r\n  useCallback,\r\n  Suspense,\r\n  lazy\r\n} from \"react\";\r\n\r\nimport {\r\n  // BrowserRouter as Router,\r\n  withRouter,\r\n  Route,\r\n  Link,\r\n  Switch\r\n} from \"react-router-dom\";\r\n\r\n// import { AnimatePresence } from \"framer-motion\";\r\nimport {\r\n  Tabs,\r\n  Tab,\r\n  withStyles,\r\n  Grid,\r\n  CircularProgress\r\n} from \"@material-ui/core\";\r\n\r\n\r\nimport {\r\n  Home,\r\n  Favorite,\r\n  // VideoLibrary,\r\n  History,\r\n  GetApp\r\n} from \"@material-ui/icons/\";\r\n\r\nimport { GlobalContext } from \"./GlobalState\";\r\nimport {\r\n  getHistory,\r\n  getLikedSongs,\r\n  getDownloadedSongs,\r\n  removeDownloadingState,\r\n  db\r\n} from \"../external/saveSong\";\r\n\r\nimport SettingsPage from \"./sections/SettingsPage\";\r\n// import the db from save song\r\nimport MainPlayer from \"../components/player/MainPlayer\";\r\nimport Errors from \"../pages/Error\";\r\n// pages\r\nconst LoginPage = lazy(() => import(\"./LoginPage\"));\r\nconst RenderDatabase = lazy(() => import(\"./RenderDatabase\"));\r\nconst SearchResult = lazy(() => import(\"./SearchResult\"));\r\nconst HomePage = lazy(() => import(\"./sections/HomePage\"));\r\nconst FeedbackForm = lazy(() => import(\"./sections/FeedbackForm\"));\r\nconst PrivacyPage = lazy(() => import(\"./sections/PrivacyPage\"));\r\nconst DonatePage = lazy(() => import(\"./sections/DonatePage\"));\r\nconst ContributorsPage = lazy(() => import(\"./sections/ContributorsPage\"));\r\n\r\n// custom styling the tab menus\r\nconst CustomTab = withStyles({\r\n  root: {\r\n    background: \"#4d6472\",\r\n    position: \"fixed\",\r\n    bottom: \"0\",\r\n    padding: 0,\r\n    width: \"100%\",\r\n    zIndex: 1300,\r\n    overflow: \"hidden\"\r\n  },\r\n  indicator: {\r\n    display: \"none\"\r\n  },\r\n  // labelIcon: {\r\n  //   margin: 0\r\n  // }\r\n})(Tabs);\r\n\r\nconst CustomTabs = withStyles({\r\n  root: {\r\n    color: \"#FFB2C1\",\r\n    fontSize: \".75rem\",\r\n    margin: 0,\r\n\r\n    \"&:hover\": {\r\n      color: \"#ffffffed\",\r\n      opacity: 1\r\n    },\r\n    \"&$selected\": {\r\n      color: \"#fff\"\r\n    },\r\n    \"&:focus\": {\r\n      color: \"#FFFFFF\"\r\n    }\r\n  },\r\n\r\n  selected: {}\r\n})(Tab);\r\n\r\nlet deferredPrompt = undefined;\r\nlet previousLocation;\r\n\r\nwindow.addEventListener(\"beforeinstallprompt\", e => {\r\n  // Stash the event so it can be triggered later.\r\n  deferredPrompt = e;\r\n});\r\n\r\nconst CurrentSection = ({ history, location }) => {\r\n  const [{ currentVideoSnippet, searchResult }] = useContext(GlobalContext);\r\n  console.log(currentVideoSnippet);\r\n\r\n  const [songsHistoryState, setSongsHistory] = useState([]);\r\n  const [songsLikedState, setSongsLiked] = useState([]);\r\n  const [songsDownloadedState, setSongsDownloaded] = useState([]);\r\n  const [tabValue, setTabValue] = useState(0);\r\n  const [updateCount, setUpdateCount] = useState(0);\r\n  const [redirectState, setRedirectState] = useState(null);\r\n  \r\n\r\n  const circularLoader = (\r\n    <Grid\r\n      style={{ height: \"100vh\" }}\r\n      container\r\n      justify=\"center\"\r\n      alignItems=\"center\"\r\n      className={'default'}\r\n    >\r\n      <CircularProgress />\r\n    </Grid>\r\n  );\r\n\r\n  function handleChange(event, newValue) {\r\n    setTabValue(newValue);\r\n  }\r\n\r\n  const fetchSongs = useCallback(async () => {\r\n    //it's same as the orders of our tabs\r\n    switch (tabValue) {\r\n      case 1:\r\n        setSongsLiked(await getLikedSongs());\r\n        break;\r\n\r\n      case 2:\r\n        setSongsDownloaded(await getDownloadedSongs());\r\n        break;\r\n\r\n      case 3:\r\n        setSongsHistory(await getHistory());\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  }, [tabValue]);\r\n  //\r\n  useEffect(() => {\r\n    fetchSongs();\r\n  }, [tabValue, fetchSongs]);\r\n\r\n  useEffect(() => {\r\n    fetchSongs();\r\n    console.log(\"fetching the songs\");\r\n  }, [updateCount, fetchSongs]);\r\n\r\n  useEffect(() => {\r\n    db.on(\"changes\", () => {\r\n      setUpdateCount(c => c + 1);\r\n    });\r\n    // will remove all the songs which are downloading in the first place\r\n    removeDownloadingState();\r\n\r\n    const isThisNewUser = localStorage.getItem(\"isThisNew\");\r\n    if (isThisNewUser === \"no\") {\r\n      setRedirectState(true);\r\n    }\r\n    // if this is not a new user redirect it to home\r\n\r\n    \r\n    previousLocation = location;\r\n    history.listen(location => {\r\n      if (location.pathname !== \"/ndsweb/music/play\" && location.pathname !== \"*\") {\r\n        previousLocation = location;\r\n        console.log(previousLocation);\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    // we will redirect everytime user comes to root page\r\n    if (redirectState && history.location.pathname === \"*\") {\r\n      history.replace(\"/ndsweb/music\");\r\n    }\r\n\r\n    // if the location is not play then we will push new location\r\n  }, [setRedirectState, history, redirectState]);\r\n\r\n  const checkPrevLocation = () => {\r\n    console.log(\"path checkPrevLocation: \", location.pathname);\r\n    if (location.pathname === \"/ndsweb/music/play\") {\r\n      return previousLocation;\r\n    } else {\r\n      return location;\r\n    }\r\n  };\r\n\r\n  // we will load the homepage with all the playlists\r\n  const continueToHome = () => {\r\n    localStorage.setItem(\"isThisNew\", \"no\");\r\n    history.replace(\"/ndsweb/music\");\r\n\r\n    if (deferredPrompt) {\r\n      // show the prompt to install app\r\n      deferredPrompt.prompt();\r\n      // Wait for the user to respond to the prompt\r\n      deferredPrompt.userChoice.then(choiceResult => {\r\n        if (choiceResult.outcome === \"accepted\") {\r\n          console.log(\"User accepted the A2HS prompt\");\r\n        } else {\r\n          console.log(\"User dismissed the A2HS prompt\");\r\n        }\r\n        deferredPrompt = null;\r\n      });\r\n    }\r\n  };\r\n\r\n  const returnMainPlayer = props => {\r\n    // we will return the main player if the path is not the \"/\"\r\n\r\n    if (window.location.pathname !== \"/ndsweb/music\") {\r\n      return <MainPlayer {...props} />;\r\n    } else {\r\n      return null;\r\n    }\r\n  };\r\n\r\n  // the set tab value will keep the tab active on their route\r\n  // there are 4 tabs so there will be 3 indexes\r\n  return (\r\n    <div>\r\n      <Suspense fallback={circularLoader}>\r\n        <Switch location={checkPrevLocation()}>\r\n          <Route\r\n            exact\r\n            path=\"/ndsweb/music\"\r\n            render={props => {\r\n              return <LoginPage continueToHome={continueToHome} />;\r\n            }}\r\n          />\r\n        \r\n          <Route\r\n            path=\"/ndsweb/music/home\"\r\n            render={props => {\r\n              setTabValue(0);\r\n              return <HomePage />;\r\n            }}\r\n          />\r\n          <Route\r\n            path=\"/ndsweb/music/liked\"\r\n            render={props => {\r\n              setTabValue(1);\r\n              return (\r\n                <RenderDatabase\r\n                  songs={songsLikedState}\r\n                  {...props}\r\n                  key={location.pathname}\r\n                />\r\n              );\r\n            }}\r\n          />\r\n          <Route\r\n            path=\"/ndsweb/music/downloads\"\r\n            render={props => {\r\n              setTabValue(2);\r\n              return (\r\n                <RenderDatabase\r\n                  songs={songsDownloadedState}\r\n                  key={location.pathname}\r\n                />\r\n              );\r\n            }}\r\n          />\r\n          <Route\r\n            path=\"/ndsweb/music/history\"\r\n            render={props => {\r\n              setTabValue(3);\r\n              return (\r\n                <RenderDatabase\r\n                  songs={songsHistoryState}\r\n                  key={location.pathname}\r\n                />\r\n              );\r\n            }}\r\n          />\r\n          \r\n          <Route\r\n            path=\"/search\"\r\n            render={props => <SearchResult videos={searchResult} />}\r\n          />\r\n\r\n          <Route path=\"/ndsweb/music/settings\" component={SettingsPage} />\r\n          <Route path=\"/ndsweb/music/privacy\" component={PrivacyPage} />\r\n          <Route path=\"/ndsweb/music/feedback\" component={FeedbackForm} />\r\n          <Route path=\"/ndsweb/music/help\" component={DonatePage} />\r\n          <Route path=\"/ndsweb/music/contributors\" component={ContributorsPage} />\r\n            \r\n            {/* <Route path=\"*\">\r\n              <HomePage />\r\n            </Route> */}\r\n\r\n            <Route component={HomePage} />\r\n\r\n        </Switch>\r\n        <Route\r\n            exact\r\n            path=\"/ndsweb/music\"\r\n            render={props => {\r\n              return <LoginPage continueToHome={continueToHome} />;\r\n            }}\r\n          />\r\n\r\n        <Route path=\"/\" render={props => returnMainPlayer(props)} />\r\n        \r\n      \r\n        <div style={{ height: currentVideoSnippet.id ? \"100px\" : \"50px\" }} />\r\n      </Suspense>\r\n      \r\n      {/* if the player is on then return 100px else 50px*/}\r\n      <CustomTab\r\n        value={tabValue}\r\n        onChange={handleChange}\r\n        variant=\"fullWidth\"\r\n        indicatorColor=\"primary\"\r\n        textColor=\"primary\"\r\n      >\r\n        <CustomTabs\r\n          icon={<Home />}\r\n          aria-label=\"Home\"\r\n          component={Link}\r\n          to=\"/ndsweb/music/home\"\r\n          label=\"Home\"\r\n        />\r\n\r\n        <CustomTabs\r\n          icon={<Favorite />}\r\n          aria-label=\"Liked\"\r\n          component={Link}\r\n          to=\"/ndsweb/music/liked\"\r\n          label=\"Liked\"\r\n        />\r\n\r\n        <CustomTabs\r\n          icon={<GetApp />}\r\n          aria-label=\"Downloads\"\r\n          component={Link}\r\n          to=\"/ndsweb/music/downloads\"\r\n          label=\"Downloads\"\r\n        />\r\n        <CustomTabs\r\n          icon={<History />}\r\n          aria-label=\"History\"\r\n          component={Link}\r\n          to=\"/ndsweb/music/history\"\r\n          label=\"History\"\r\n        />\r\n      </CustomTab>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withRouter(CurrentSection);\r\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport {\r\n  // IconButton,\r\n  Grid,\r\n  // Slider,\r\n  LinearProgress,\r\n  // makeStyles,\r\n  withStyles\r\n} from \"@material-ui/core/\";\r\n\r\nimport {\r\n  ExpandMore,\r\n  GetApp,\r\n  Reply,\r\n  DoneOutline,\r\n  // Done,\r\n  // AlarmOff\r\n} from \"@material-ui/icons/\";\r\nimport VolumeController from \"./VolumeController\";\r\nimport { useSongMethods } from \"../RenderDatabase\";\r\n// import { downloadSong } from \"../../external/saveSong\";\r\nimport SleepTimer from './SleepTimer'\r\nimport { GlobalContext } from \"../GlobalState\";\r\n\r\nconst DownloadLoader = withStyles({\r\n  root: {\r\n    height: 2,\r\n    width: \"70%\",\r\n    margin: \"0 auto\",\r\n    transform: \"translateY(-10px)\"\r\n  }\r\n})(LinearProgress);\r\n\r\nconst TopBar = ({ song, player, setPlayerState, history }) => {\r\n  const { snackbarMsg } = useContext(GlobalContext);\r\n  const [isSongDownloaded, setSongDownloaded] = useState(false);\r\n  const [isSongDownloading, setSongDownloading] = useState(false);\r\n\r\n  const {\r\n    handleDownload,\r\n    handleRemoveSong,\r\n    deleteDialogComponent\r\n  } = useSongMethods();\r\n\r\n  useEffect(() => {\r\n    if (snackbarMsg === \"Song Downloaded\" || song.audio) {\r\n      setSongDownloaded(true);\r\n      setSongDownloading(false);\r\n    }\r\n  }, [snackbarMsg]);\r\n  // if the song is downloaded we will change\r\n\r\n  // share prompt using chrome web api\r\n  const shareSong = () => {\r\n    if (navigator.share) {\r\n      navigator\r\n        .share({\r\n          title: \"Share This Song\",\r\n          text: `Hey Listen to ${song.title} on nDs Music`,\r\n          url: window.location.href //get the current window url\r\n        })\r\n        .then(() => console.log(\"Successful share\"))\r\n        .catch(error => console.log(\"Error sharing\", error));\r\n    } else {\r\n      console.log(\"Web Share API is not supported in your browser.\")\r\n  }\r\n  };\r\n\r\n  const minimizePlayer = () => {\r\n    setPlayerState(\"minimized\");\r\n  };\r\n\r\n  return (\r\n    <Grid\r\n      container\r\n      justify=\"space-between\"\r\n      direction=\"row\"\r\n      style={{\r\n        padding: \" 0 10px\",\r\n        marginTop: \"10px\",\r\n        position: \"absolute\",\r\n        top: \"0\"\r\n      }}\r\n    >\r\n      <VolumeController player={player} />\r\n      {deleteDialogComponent}\r\n      <Reply\r\n        style={{ transform: \" scaleX(-1) translateY(-2px)\" }}\r\n        onClick={shareSong}\r\n        color=\"primary\"\r\n      />\r\n      \r\n      <SleepTimer player={player}/>\r\n      <div>\r\n      {isSongDownloaded ? (\r\n        <DoneOutline\r\n          color=\"primary\"\r\n          onClick={() => handleRemoveSong(song.id)}\r\n        /> //song will be removed\r\n      ) : (\r\n        <>\r\n          <GetApp\r\n            color=\"primary\"\r\n            onClick={() => {\r\n              handleDownload(song.id);\r\n              setSongDownloading(true);\r\n            }}\r\n          />\r\n        </>\r\n      )}\r\n      {isSongDownloading ? <DownloadLoader color=\"primary\" /> : null}\r\n      {/* if the song is downloading we will show loading */}\r\n      </div>\r\n\r\n      <ExpandMore\r\n        onClick={minimizePlayer}\r\n        color=\"primary\"\r\n        fontSize=\"large\"\r\n        style={{ transform: \"translateY(-7px)\" }}\r\n      />\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default TopBar;\r\n","import React from \"react\";\r\nimport { Typography } from \"@material-ui/core\";\r\nimport { SkipNext, Close } from \"@material-ui/icons\";\r\nimport PlayPauseButton from \"./PlayPauseButton\";\r\n\r\n\r\nconst MiniMuiscArt = ({ playPause, data, playNext, emptyPlayer }) => {\r\n  const getThumbnail = () => {\r\n    // if the thumbnail is downloaded then get it from database or else use the url to fetch\r\n    if (data.thumbnail) {\r\n      return window.URL.createObjectURL(data.thumbnail);\r\n    } else {\r\n      return data.sdThumbnail;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={\"mainContainer\"}>\r\n      <div className={\"overflow-hidden\"}>\r\n        <div className=\"details\">\r\n          <Typography variant=\"body1\">{data.title}</Typography>\r\n          <Typography variant=\"body2\">{data.channelTitle}</Typography>\r\n        </div>\r\n        <div className=\"buttons\">\r\n          <SkipNext onClick={playNext} />\r\n          <Close onClick={emptyPlayer} />\r\n        </div>\r\n        <div className={\"miniArtContainer\"}>\r\n          <div className={\"mainArt\"}>\r\n            <img\r\n              className={\"miniArtImg\"}\r\n              src={getThumbnail()}\r\n              alt=\"music art\"\r\n            />\r\n            <PlayPauseButton\r\n              player={playPause.player}\r\n              minimized={playPause.minimized}\r\n              audioState={playPause.audioState}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MiniMuiscArt;\r\n","import React, { useEffect, useContext } from \"react\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\n\r\nimport SimpleAppBar from \"./header/SimpleAppBar\";\r\n// import MainPlayer from \"./player/MainPlayer\";\r\nimport SwipeMenu from \"./SwipeMenu\";\r\nimport SnackbarMessage from \"./SnackbarMessage\";\r\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\r\nimport { blueGrey, blue } from \"@material-ui/core/colors\";\r\n\r\nimport { useCheckDarkmode } from \"./sections/SettingsPage\";\r\nimport { GlobalContext } from \"./GlobalState\";\r\nimport CurrentSection from \"./CurrentSection\";\r\n\r\nconst body = document.querySelector(\"body\");\r\n\r\nconst defaultTheme = {\r\n  palette: {\r\n    primary: blueGrey,\r\n    third: blue,\r\n    secondary: {\r\n      main: \"#263238\"\r\n    }\r\n  },\r\n  typography: {\r\n    useNextVariants: true\r\n  }\r\n};\r\n\r\nconst darkTheme = {\r\n  palette: {\r\n    type: \"dark\",\r\n    primary: blueGrey,\r\n    third: blue,\r\n    secondary: {\r\n      main: \"#263238\"\r\n    }\r\n  },\r\n  typography: {\r\n    useNextVariants: true\r\n  }\r\n};\r\n\r\nconst muiDarkTheme = createMuiTheme(darkTheme);\r\nconst muiDefaultTheme = createMuiTheme(defaultTheme);\r\n\r\nconst App2 = () => {\r\n  const [{ themeSelectValue }, dispatch] = useContext(GlobalContext);\r\n\r\n  const { checkDarkMode } = useCheckDarkmode();\r\n\r\n  useEffect(() => {\r\n    checkDarkMode();\r\n\r\n    // if (navigator.userAgent.match(/Android/i)) {\r\n    //   body.style.overscrollBehavior = \"none\";\r\n    //   // this is to disable pull refresh on android\r\n    // }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (themeSelectValue === \"Dark\") {\r\n      body.classList.add(\"dark\");\r\n    } else {\r\n      body.classList.remove(\"dark\");\r\n    }\r\n  }, [themeSelectValue]);\r\n\r\n  return (\r\n    <MuiThemeProvider theme={themeSelectValue === \"Dark\" ? muiDarkTheme : muiDefaultTheme}>\r\n      <Switch>\r\n      <Router>\r\n            <SimpleAppBar />\r\n            <Route component={CurrentSection} />\r\n            <SnackbarMessage />\r\n            <SwipeMenu />\r\n        </Router> \r\n      </Switch>\r\n       \r\n    </MuiThemeProvider>\r\n  );\r\n};\r\nexport default App2;\r\n","import React from \"react\";\r\nimport App2 from \"../components/App2\";\r\nimport { GlobalState } from \"../components/GlobalState\";\r\nimport '../App.css';\r\nimport {Helmet} from \"react-helmet\";\r\n\r\nfunction App() {\r\n  return (\r\n   <GlobalState>\r\n      <Helmet>\r\n          <title>Music | nDsWeb</title>\r\n      </Helmet>\r\n      <App2 />\r\n    </GlobalState> \r\n  );\r\n}\r\n\r\nexport default App;\r\n\r\n// this do not works","import React from 'react';\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport loadingGif from '../images/Logosvg2.svg';\r\nimport styled from 'styled-components';\r\n\r\n\r\nfunction AuthWrapper({ children }) {\r\n  const { isLoading, error } = useAuth0();\r\n  if (isLoading) {\r\n    return (\r\n      <Wrapper>\r\n        <img src={loadingGif} alt='spinner' />\r\n      </Wrapper>\r\n    );\r\n  }\r\n  if (error) {\r\n    return (\r\n      <Wrapper>\r\n        <h1>{error.message}</h1>\r\n      </Wrapper>\r\n    );\r\n  }\r\n  return <>{children}</>;\r\n}\r\n\r\nconst Wrapper = styled.section`\r\n  min-height: 100vh;\r\n  display: grid;\r\n  place-items: center;\r\n  img {\r\n    width: 150px;\r\n  }\r\n`;\r\n\r\nexport default AuthWrapper;","import React from \"react\";\r\nimport {\r\n  // FormControl,\r\n  TextField,\r\n  Button,\r\n  Grid,\r\n  // CircularProgress,\r\n  LinearProgress,\r\n  Typography,\r\n  Container,\r\n} from \"@material-ui/core\";\r\nimport { loadReCaptcha, ReCaptcha } from \"react-recaptcha-v3\";\r\nimport axios from \"../../apis/axios\";\r\n// import { GlobalContext } from \"../GlobalState\";\r\n\r\nlet captchaToken;\r\nconst FeedbackApp = () => {\r\n  // const [{}, dispatch] = useContext(GlobalContext);\r\n\r\n  // const setSnackbarMsg = React.useCallback(\r\n  //   data => {\r\n  //     dispatch({ type: \"setSnackbarMsg\", snippet: data });\r\n  //   },\r\n  //   [dispatch]\r\n  // );\r\n  const [isFormActive, setIsFormActive] = React.useState(false);\r\n  const [isEmail, setIsEmail] = React.useState(false);\r\n  const [isSending, setIsSending] = React.useState(false);\r\n  const formEl = React.useRef(null);\r\n  const formElEmail = React.useRef(null);\r\n\r\n  const handleButton = (e) => {\r\n    e.preventDefault();\r\n    setIsFormActive(true);\r\n    setIsEmail(!isEmail);\r\n  }\r\n\r\n  const submitFormEmail = async (e) => {\r\n    setIsSending(true);\r\n    const formData = new FormData(formElEmail.current);\r\n    const name = formData.get(\"name\");\r\n    const email = formData.get(\"email\");\r\n    const message = formData.get(\"message\");\r\n    \r\n    e.preventDefault();\r\n    const post = {\r\n      email: email,\r\n      message: message,\r\n      token: captchaToken,\r\n      name: name,\r\n      }\r\n      await axios\r\n      .post('/ndsapi/mail', post)\r\n      .then(function(response) {\r\n        console.log(response.data.status);\r\n        // console.log(response.data.message);\r\n        // also clear the form\r\n        alert(\"Your Message Sent\"); \r\n        formElEmail.current.reset();\r\n        // setSnackbarMsg(response.data.status);\r\n        setIsSending(false);\r\n        setIsFormActive(false);\r\n\r\n      })\r\n      .catch(function(error) {\r\n        // console.log(error.response.status);\r\n        if (error.response) {\r\n          if (error.response.status === 429) {\r\n            formElEmail.current.reset();\r\n            alert(\"Message failed to send please try again\")\r\n            // setSnackbarMsg(\"We accept limited feedback!\");\r\n          }\r\n        }\r\n        setIsSending(false);\r\n      });\r\n  //   const response = await fetch(\"http://localhost:9150\", { \r\n  //     method: 'POST', \r\n  //     headers: { \r\n  //         'Content-type': 'application/json'\r\n  //     }, \r\n  //     body: JSON.stringify({email, message, token}) \r\n  //   }); \r\n  //     const resData = await response.json(); \r\n  //     if (resData.status === 'success'){\r\n  //       setIsSending(false);\r\n  //       formElEmail.current.reset();\r\n       \r\n  //       this.resetForm()\r\n  //   }else if(resData.status === 'fail'){\r\n  //       setIsSending(false);\r\n        \r\n        \r\n  //   }\r\n\r\n  }\r\n\r\n  const submitForm = async (e) => {\r\n    // set state to sending\r\n    setIsSending(true);\r\n    const formData = new FormData(formEl.current);\r\n    const name = formData.get(\"name\");\r\n    const email = formData.get(\"email\");\r\n    const message = formData.get(\"message\");\r\n\r\n    e.preventDefault();\r\n\r\n    const post = {\r\n      name: name,\r\n      email: email,\r\n      message: message,\r\n      token: captchaToken,\r\n      timestamp: new Date(),\r\n      }\r\n\r\n    await axios\r\n          .post('/ndsapi/feedback', post)\r\n          .then(function(response) {\r\n            console.log(response.data.status);\r\n            console.log(response.data.message);\r\n            // also clear the form\r\n            formEl.current.reset();\r\n            alert(\"Your Message Sent\");\r\n            // setSnackbarMsg(response.data.status);\r\n            setIsSending(false);\r\n            setIsFormActive(false);\r\n          })\r\n          .catch(function(error) {\r\n            // console.log(error.response.status);\r\n            if (error.response) {\r\n              if (error.response.status === 429) {\r\n                formEl.current.reset();\r\n                alert(\"Message failed to send please try again\")\r\n                // setSnackbarMsg(\"We accept limited feedback!\");\r\n              }\r\n            }\r\n            setIsSending(false);\r\n          });\r\n      };\r\n\r\n  React.useEffect(() => {\r\n    loadReCaptcha(\"6Le1toEUAAAAAITyNwqEMaz3hFAYzciSJDMomrgN\");\r\n  }, []);\r\n\r\n  const verifyCallback = token => {\r\n    console.log(token);\r\n    captchaToken = token;\r\n    const captchaBox = document.querySelector(\".grecaptcha-badge\");\r\n    captchaBox.remove();\r\n    // remove captcha badge\r\n  };\r\n\r\n  return (\r\n    <div className=\"privacy-app\">\r\n       <Container maxWidth=\"sm\">\r\n       <header>\r\n        <Typography variant=\"h4\" gutterBottom={true}>\r\n            Feedbacks{\" \"}\r\n        </Typography>\r\n      </header>\r\n      <div className=\"deliver\"></div>\r\n      <div className=\"header-feedback\">\r\n        <p>Bạn có câu hỏi hoặc bất kỳ đóng góp về việc sử dụng ứng dụng, dịch vụ hoặc báo cáo lỗi hoặc vi phạm người dùng hãy gửi về cho chúng tôi. \r\n        <br/>(If you have any questions or suggestions regarding the use of the application, the service or the report of a bug or user violation, please send it to us.)\r\n        Chúng tôi hoan nghênh điều đó và bạn vui lòng không gửi các thông tin nhạy cảm, bạo lực. Tiếp tục với 2 cách bên dưới..</p>\r\n        (We welcome that and please do not submit sensitive or violent information. Continue with 2 ways below..)\r\n        <br />     \r\n      </div>\r\n      <div className=\"buttons-send\">\r\n        <Button\r\n            style={{ marginTop: \"10px\" }}\r\n            variant=\"outlined\"\r\n            color=\"secondary\"\r\n            type=\"button\"\r\n            disabled={isEmail ? false : true}\r\n            onClick = {handleButton}\r\n        >\r\n         Via Server\r\n        </Button>\r\n        <Button\r\n            style={{ marginTop: \"10px\" }}\r\n            variant=\"outlined\"\r\n            color=\"secondary\"\r\n            type=\"button\"\r\n            disabled={isEmail ? true : false}\r\n            onClick = {handleButton}\r\n        >\r\n          {/* if sending is true then show circular progress */}\r\n          Via Email\r\n        </Button>\r\n      </div>\r\n      {\r\n        isFormActive ? <div className=\"form-feedback\">\r\n        <Grid\r\n          component=\"form\"\r\n          ref={ isEmail ? formElEmail : formEl }\r\n          onSubmit={ isEmail ? submitFormEmail : submitForm}\r\n          container\r\n          required\r\n          justify=\"center\"\r\n          style={{ width: \"100%\", margin: \"0 auto\", padding: '1rem' }}\r\n        >\r\n          <ReCaptcha\r\n            sitekey=\"6Le1toEUAAAAAITyNwqEMaz3hFAYzciSJDMomrgN\"\r\n            action=\"action_name\"\r\n            verifyCallback={verifyCallback}\r\n          />\r\n          <TextField\r\n            id=\"outlined-email-input\"\r\n            label=\"Name\"\r\n            type=\"text\"\r\n            name=\"name\"\r\n            autoComplete=\"name\"\r\n            margin=\"normal\"\r\n            variant=\"outlined\"\r\n            fullWidth\r\n            required\r\n          />\r\n          <TextField\r\n            id=\"outlined-email-input\"\r\n            label=\"Email\"\r\n            type=\"email\"\r\n            name=\"email\"\r\n            autoComplete=\"email\"\r\n            margin=\"normal\"\r\n            variant=\"outlined\"\r\n            fullWidth\r\n            required\r\n          />\r\n          <TextField\r\n            id=\"outlined-email-input\"\r\n            label=\"Feedback\"\r\n            multiline\r\n            rows=\"4\"\r\n            type=\"text\"\r\n            name=\"message\"\r\n            autoComplete=\"feedback\"\r\n            margin=\"normal\"\r\n            variant=\"outlined\"\r\n            fullWidth\r\n            required\r\n          />\r\n          {isSending ? (\r\n            <LinearProgress\r\n              style={{\r\n                width: \"100%\",\r\n                transform: \"translateY(-12px)\",\r\n                borderRadius: \"2px\"\r\n              }}\r\n            />\r\n          ) : null}\r\n          <Button\r\n            style={{ marginTop: \"10px\" }}\r\n            variant=\"outlined\"\r\n            color=\"primary\"\r\n            type=\"submit\"\r\n            disabled={isSending ? true : false}\r\n          >\r\n            {/* if sending is true then show circular progress */}\r\n            {isSending ? \"Sending\" : \"Send\"}{\" \"} {isEmail ? \"to Email\" : \"to Server\"}\r\n          </Button>\r\n        </Grid>\r\n      </div>\r\n      : null\r\n      } \r\n      \r\n      <div className=\"deliver\"></div>\r\n\r\n      <i>Sử dụng email của bạn để nhận được sự hỗ trợ tốt nhất của chúng tôi(Khuyến Nghị Dùng)<br />\r\n        (Use your email to get the most support from us (Recommended))</i> \r\n       </Container>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FeedbackApp;\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\n\r\n\r\nconst PrivateRoute = ({ children, ...rest }) => {\r\n \r\n  const { isAuthenticated, user } = useAuth0();\r\n \r\n  const isUser = { isAuthenticated, user };\r\n\r\n  React.useEffect(() => {\r\n    // console.log(props.state)\r\n    if(isUser){\r\n      \r\n      localStorage.setItem(\"signInClosed\", true)\r\n    }\r\n}, [])\r\n\r\n\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={() => {\r\n        return isUser ? children : <Redirect to='/login'></Redirect>;\r\n      }}\r\n    ></Route>\r\n  );\r\n};\r\nexport default PrivateRoute;","import React, { Component } from 'react';\r\nimport defaultImg from '../images/svgnds.png';\r\nimport _ from 'lodash';\r\nimport classNames from 'classnames';\r\n// import { IconButton } from '@material-ui/core';\r\n// import { MdEdit, MdCheck } from 'react-icons/md';\r\n// import { RiImageEditFill } from 'react-icons/ri';\r\n// import Dropzone from \"react-dropzone\";\r\nimport {encrypt, encrypt2} from '../helpers/en_deCrypt';\r\n\r\nimport fetchJsonp from \"fetch-jsonp\";\r\nimport { Redirect } from 'react-router-dom';\r\nconst GeoAPI = \"https://ipapi.co/jsonp\";\r\n\r\n\r\n\r\nexport class ChangePassword extends Component {\r\n    constructor(){\r\n        super()\r\n        this.state = {\r\n\r\n            isShowForm: false,\r\n            message: null,\r\n            // type: '',\r\n            newPassword: '',\r\n            reNewPassword: '',\r\n            emailDefault: '',\r\n            tokenDefault: '',\r\n            email: '',\r\n            ipClient: '',\r\n            changed: false,\r\n            backHome: false,\r\n        }\r\n\r\n\r\n    }\r\n    fetchIPclient = () => {\r\n        try{\r\n            fetchJsonp(`${GeoAPI}`)\r\n            .then(function(response) {\r\n                return response.json();\r\n              })\r\n              .then(json => {\r\n                this.setState({ ipClient: json})\r\n              })\r\n              .catch(function(ex) {\r\n                console.log(\"parsing failed\", ex);\r\n              });\r\n        }\r\n        catch (err){ console.log(err) }\r\n\r\n      };\r\n    handleEditPassword = (e) => {\r\n        e.preventDefault();\r\n        const { store } = this.props;\r\n       \r\n        const {newPassword, reNewPassword, emailDefault, tokenDefault, email, ipClient, changed} = this.state;\r\n        if(changed){\r\n            this.setState({\r\n                message: null,\r\n                backHome: true\r\n            })\r\n        }\r\n        if(email !== emailDefault) {\r\n            this.setState({\r\n                message: {\r\n                    body: 'Email not same Your require',\r\n                    type: 'error'\r\n                },\r\n            })\r\n            \r\n        }else{\r\n            if(reNewPassword === newPassword){\r\n                const hashNewPasswowrd = encrypt2(encrypt(newPassword));\r\n                store.requestChangePassword(email, hashNewPasswowrd, tokenDefault, ipClient).then((_) => {\r\n                    this.setState({\r\n                        message: {\r\n                            body: 'Saved Successfull, You can login with new password',\r\n                            type: 'success'\r\n                        },\r\n                        changed: true,\r\n                        email: null,\r\n                        reNewPassword: null,\r\n                        newPassword: null,\r\n                    })\r\n                }).catch((err) => {\r\n                    console.log(err);\r\n                    this.setState({\r\n                        message: {\r\n                            body: err,\r\n                            type: 'error'\r\n                        }\r\n                    })\r\n                });\r\n               \r\n            }\r\n            else{\r\n                this.setState({\r\n                    message: {\r\n                        body: 're-Password not Match',\r\n                        type: 'error'\r\n                    },\r\n                })\r\n            }\r\n        }\r\n        \r\n    }\r\n    componentDidMount(){\r\n        this.fetchIPclient();\r\n        // console.log(\"state change: \", this.state.changed)\r\n        const emailDefault = window.location.search.substring(1);\r\n        const tokenDefault = window.location.hash.substring(1);\r\n        if(emailDefault && tokenDefault){\r\n            this.setState({\r\n                isShowForm: true,\r\n                message: null,\r\n                emailDefault: emailDefault,\r\n                tokenDefault: tokenDefault,\r\n            })\r\n        }\r\n\r\n        // console.log(emailDefault, tokenDefault);\r\n        // console.log('Didmount and fetch ipClient');\r\n    }\r\n    componentWillUnmount(){\r\n        console.log('Unmount');\r\n    }\r\n    render() {\r\n        const {message, backHome} = this.state\r\n        if(backHome){\r\n            return <Redirect to={\"/page3\"}/>\r\n        }\r\n        return (\r\n            <>\r\n                {this.state.isShowForm ? <div className=\"user-form\">\r\n                    <form onSubmit={this.handleEditPassword}>\r\n                    <ul className=\"form-container\">\r\n                        <li>\r\n                            <h4>Change Password</h4>\r\n                        </li>\r\n                        <li>\r\n                            { message ? <p className={classNames('app-msg', _.get(message, 'type'))}>\r\n                                {_.get(message, 'body')}\r\n                            </p> : null } \r\n                        </li>                    \r\n                        <li>\r\n                            <label htmlFor=\"email\">Email Address</label>\r\n                            <input \r\n                            placeholder=\"Your Email Address\" \r\n                            required type=\"email\" name=\"email\"\r\n                            value = {this.state.email} \r\n                            onChange = {({target})=>{\r\n                                this.setState({ email: target.value })\r\n                            }} \r\n                            id=\"email\" ></input>\r\n                        </li>\r\n                        <li>\r\n                            <label htmlFor=\"password\">New Password</label>\r\n                            <input \r\n                            autoComplete = {'off'} \r\n                            placeholder=\"New-password\" \r\n                            required type=\"password\"\r\n                            value = {this.state.newPassword} \r\n                            onChange = {({target})=>{\r\n                                this.setState({ newPassword: target.value })\r\n                            }} \r\n                            id=\"password\" name=\"password\" ></input>\r\n                        </li>\r\n                        <li>\r\n                            <label htmlFor=\"repassword\">Comfirm new Password</label>\r\n                            <input\r\n                            placeholder=\"Re-password\" \r\n                            required type=\"password\" name=\"repassword\"\r\n                            value = {this.state.reNewPassword}\r\n                            onChange = {({target})=>{\r\n                                this.setState({ reNewPassword: target.value })\r\n                            }} \r\n                            id=\"repassword\" ></input>\r\n                        </li>\r\n                        <div className=\"footer-menu\">\r\n                            <div className=\"img\">\r\n                                <img style={{maxHeight: \"5rem\", maxWidth: \"5rem\"}} src={defaultImg} alt=\"nds\"/>\r\n                            </div>\r\n                            <div className=\"btn-cc\">\r\n                            <li>\r\n                                <button type=\"submit\" className=\"login-btn\">{!this.state.changed ? 'Save New-Password' : 'Back Home Chat Page' }</button>\r\n                            </li>\r\n                            </div>\r\n                        </div>\r\n                    </ul>\r\n                    </form>\r\n                    </div>\r\n                    :\r\n                    null\r\n                }\r\n\r\n\r\n\r\n\r\n            </>\r\n\r\n        )\r\n    }\r\n\r\n}\r\nexport default ChangePassword","//https://medium.com/@650egor/simple-drag-and-drop-file-upload-in-react-2cb409d88929\r\nimport React, { useState } from 'react'\r\n\r\nvar DragDrop = props => {\r\n  const [bgColor, setBgColor] = useState('transparent')\r\n\r\n  const changeBgColor = (state) => {\r\n    console.log(state)\r\n    setBgColor(state ? 'green' : 'transparent')\r\n    // setBgColor('green')\r\n  }\r\n\r\n  return (\r\n    <div style={{\r\n      backgroundColor: bgColor\r\n    }} className={props.className}\r\n      // ref={ref}\r\n      onDragEnter={(e) => {\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n        changeBgColor(true)\r\n        e.dataTransfer.dropEffect = 'copy'\r\n        console.log('DragEnter', e.dataTransfer.items.length)\r\n      }}\r\n      \r\n      onDragLeave={(e) => {\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n        changeBgColor(false)\r\n        console.log('onDragLeave')\r\n      }}\r\n\r\n      onDragOver={(e) => {\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n        console.log('onDragOver')\r\n      }}\r\n\r\n      onDrop={(e) => { \r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n        changeBgColor(false)\r\n        console.log(e.dataTransfer.items)\r\n        if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\r\n          props.sendFiles(e.dataTransfer.files)\r\n        }\r\n      }}\r\n    >\r\n      {props.children}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DragDrop","import React, { Component } from 'react'\r\nimport DragDrop from './DragDrop';\r\nimport { IconButton } from '@material-ui/core';\r\nimport { RiDragDropLine } from 'react-icons/ri';\r\nclass UpLoadFilePhoto extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            \r\n        }\r\n    }\r\n\r\n    getRandomInt(max) {\r\n        return Math.floor(Math.random() * Math.floor(max));\r\n    }\r\n\r\n    sendMessage = (data) => {\r\n        this.props.sendMessage(data);\r\n        // scrollToBottom()\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div className=\"input-upload-img-user\">\r\n               \r\n             <DragDrop\r\n                sendFiles={(files) => {\r\n                    const reader = new FileReader()\r\n                    reader.onload = (e) => {\r\n                    //https://blog.mozilla.org/webrtc/large-data-channel-messages/\r\n                    //https://lgrahl.de/articles/demystifying-webrtc-dc-size-limit.html\r\n                    const maximumMessageSize = 262118 //65535 <=== 64KiB // 16384 <=== 16KiB to be safe\r\n                    if (e.target.result.length <= maximumMessageSize)\r\n                        this.sendMessage({id: this.getRandomInt(9) ,type: 'image', data: e.target.result })\r\n                    else\r\n                        alert('Message exceeds Maximum Message Size!')\r\n                    }\r\n\r\n                    reader.readAsDataURL(files[0])\r\n                }}\r\n                >\r\n                    <IconButton style={{fontSize: '2rem'}}>\r\n                        <RiDragDropLine />\r\n                    </IconButton>\r\n                \r\n            </DragDrop>\r\n            <span>Drag and Drop Your Image Here</span>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default UpLoadFilePhoto","import React, { Component } from 'react';\r\nimport defaultImg from '../images/svgnds.png';\r\nimport _ from 'lodash';\r\nimport classNames from 'classnames';\r\nimport { IconButton } from '@material-ui/core';\r\n// import { MdEdit, MdCheck } from 'react-icons/md';\r\nimport { TiDeleteOutline } from 'react-icons/ti';\r\n// import Dropzone from \"react-dropzone\";\r\n// import {encrypt, encrypt2} from '../helpers/en_deCrypt';\r\nimport fetchJsonp from \"fetch-jsonp\";\r\n// import { Redirect } from 'react-router-dom';\r\nimport UpLoadFilePhoto from './UpLoadFilePhoto';\r\nimport axios from '../apis/axios'\r\n// const macaddress = require('macaddress');\r\nconst GeoAPI = \"https://ipapi.co/jsonp\";\r\n\r\nclass SendVerifyCommunication extends Component {\r\n    constructor(){\r\n        super()\r\n        this.state = {\r\n            message: null,\r\n            typeIdentify: 'peopleID',\r\n            info : {\r\n                email: '',\r\n                ipClient: '',\r\n                age: '',\r\n                fullName: '',\r\n                fullAddress: '',\r\n                numbermobile: '',\r\n                currentLive: '',\r\n                gender: '',\r\n                nationality: '',\r\n                deviceName: '',\r\n                profession: '',\r\n                company: '',\r\n            },\r\n            step1: false,\r\n            step2: false,\r\n            token: '',\r\n            email: '',\r\n            backHome: false,\r\n            messages: [],\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n   \r\n\r\n    fetchIPclient = () => {\r\n        try{\r\n            fetchJsonp(`${GeoAPI}`)\r\n            .then(function(response) {\r\n                return response.json();\r\n              })\r\n              .then(json => {\r\n                let { info } = this.state;\r\n                const field = 'ipClient';\r\n                info[field] = json;\r\n                this.setState({ info: info})\r\n              })\r\n              .catch(function(ex) {\r\n                console.log(\"parsing failed\", ex);\r\n              });\r\n        }\r\n        catch (err){ console.log(err) }\r\n\r\n    }\r\n\r\n    handleSendRequire = (e) =>{\r\n        e.preventDefault();\r\n        const { store } = this.props;\r\n        const { info, step1} = this.state;\r\n        if(step1){\r\n            this.setState({\r\n                message: {\r\n                    body: \"Step proccessing Verify\",\r\n                    type: 'success'\r\n                }\r\n            })\r\n            this.props.onClickOutSide();\r\n            this.props.handleShowFormVerifyEmail();\r\n            console.log(\"Step 2 proccessing\")\r\n        }else{\r\n            this.setState({\r\n                message: null\r\n            }, () => {\r\n                if(info.email){\r\n    \r\n                    store.sendVerifyCommunication(info).then((response) => {\r\n                        // console.log(\"data response \", response)\r\n                        this.setState({\r\n                            message: {\r\n                                body: 'First Step Is Succeeded',\r\n                                type: 'success'\r\n                            },\r\n                            token: response.tokenId,\r\n                            email: response.email,\r\n                            step1: true\r\n    \r\n                        })\r\n                    }).catch((err) => {\r\n                        console.log(err);\r\n                        this.setState({\r\n                            message: {\r\n                                body: err,\r\n                                type: 'error'\r\n                            }\r\n                        })\r\n                        });\r\n    \r\n                }else{\r\n                    this.setState({\r\n                        message: {\r\n                            body: 'An another Error',\r\n                            type: 'error'\r\n                        }\r\n                    })\r\n                }\r\n    \r\n            })\r\n        }\r\n       \r\n    }\r\n    onTxtfieldChange = (e) => {\r\n        let { info } = this.state;\r\n        const field = e.target.name;\r\n        info[field] = e.target.value;\r\n        this.setState({\r\n            info: info\r\n        });\r\n    }\r\n\r\n    componentDidMount(){\r\n        window.addEventListener('mousedown', this.onClickOutSide0);\r\n        this.fetchIPclient();\r\n        console.log('Didmount and fetch Client', this.state.changed)\r\n    }\r\n    componentWillUnmount(){\r\n        window.removeEventListener('mousedown', this.onClickOutSide0);\r\n        console.log('Unmount');\r\n    }\r\n    componentDidUpdate(){\r\n       \r\n    }\r\n    onClickOutSide0 = (e) => {\r\n        if(this.ref && !this.ref.contains(e.target)){\r\n            // console.log(\"Here click out side login form!\");\r\n            this.props.onClickOutSide();\r\n        }\r\n    }\r\n    delImage = (img) => {\r\n        const {messages} = this.state;\r\n        let message = _.filter(messages, (currentObject) => {\r\n            return currentObject.id !== img;\r\n        });\r\n        this.setState({\r\n            messages: message\r\n        })\r\n       \r\n    }\r\n    setSuccessful = () => {\r\n        this.setState({\r\n            message: {\r\n                body: 'Sent successful! We check it out as soon as possible.',\r\n                type: 'success'\r\n            },\r\n            backHome: true,\r\n            step2: true,\r\n            token: null,\r\n            messages: [],\r\n            typeIdentify: 'peopleID'\r\n        })\r\n    }\r\n    renderMessage = (data) => {\r\n        // console.log('===========', data)\r\n        return (\r\n        <>\r\n             <div className=\"icon-del-image\">\r\n                <IconButton style={{fontSize: '2rem'}}>\r\n                    <TiDeleteOutline onClick={() => {\r\n                        this.delImage(data.id)\r\n                    }} />\r\n                </IconButton>\r\n            </div>\r\n            <img\r\n                style={{\r\n                width: '100%',\r\n                height: 200,\r\n                cursor: 'pointer',\r\n                }}\r\n                src={data.data}\r\n                alt='img-update'>\r\n            </img>\r\n           \r\n        </>\r\n        )\r\n      }\r\n\r\n\r\n    sendEmailVerify = (e) => {\r\n        e.preventDefault();\r\n        let images = [];\r\n        const { messages, typeIdentify, token, step2, email } = this.state;\r\n        messages.map((data) => {\r\n          return images = _.uniq(_.concat(images, data.data))\r\n        })\r\n        // console.log(\"will send: \", images)\r\n        if(step2){\r\n            this.setState({\r\n                message: null  \r\n            })\r\n            this.props.handleShowFormVerifyEmail();\r\n        }\r\n        \r\n        const post = {\r\n            email: email,\r\n            token: token,\r\n            images: images,\r\n            type: typeIdentify,\r\n        }\r\n        \r\n        if(email && token){\r\n            axios\r\n            .post('/ndsapi/mail/verifyuser', post)\r\n            .then(function(response) {\r\n                console.log(response.data.status);\r\n                console.log(\"Successful\");\r\n            }).catch(err => console.log(err))\r\n            this.setSuccessful()\r\n            return 'successfull'\r\n        }else{\r\n            this.setState({\r\n                message: {\r\n                    body: 'Error when send info, try again.',\r\n                    type: 'error'\r\n                }\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n\r\n    render() {\r\n        const {message, info, messages} = this.state\r\n        const { showFormVerifyCommunicate , showFormVerifyEmail } = this.props\r\n        return (\r\n            <>\r\n                {showFormVerifyCommunicate ? <div className=\"user-form\" ref = {(ref) => this.ref = ref}>\r\n                    <form onSubmit={this.handleSendRequire}>\r\n                    <ul className=\"form-container\">\r\n                        <li>\r\n                            <h4>Form Require Verify Communication</h4>\r\n                        </li>\r\n                        <li>\r\n                            { message ? <p className={classNames('app-msg', _.get(message, 'type'))}>\r\n                                {_.get(message, 'body')}\r\n                            </p> : null } \r\n                        </li>\r\n                        {!this.state.step1 ? <><li>\r\n                            <label htmlFor=\"email\">Email Address</label>\r\n                            <input \r\n                            placeholder=\"Email Registed\" \r\n                            required type=\"email\" name=\"email\"\r\n                            value = {_.get(info, \"email\", '')}\r\n                            onChange={(e) => this.onTxtfieldChange(e)}\r\n                            autoFocus\r\n                            id=\"email\" ></input>\r\n                        </li>\r\n                        <li>\r\n                            <label htmlFor=\"fullname\">Full Name</label>\r\n                            <input \r\n                            autoComplete = {'off'} \r\n                            placeholder=\"FullName\" \r\n                            required type=\"text\"\r\n                            value = {_.get(info, \"fullName\", '')} \r\n                            onChange={(e) => this.onTxtfieldChange(e) }\r\n                            id=\"fullName\" name=\"fullName\" ></input>\r\n                        </li>\r\n                        <li>\r\n                            <label htmlFor=\"address\">Full Address</label>\r\n                            <input \r\n                            placeholder=\"Full Address\" \r\n                            required type=\"text\" name=\"fullAddress\"\r\n                            value = {_.get(info, \"fullAddress\", '')}\r\n                            onChange={(e) => this.onTxtfieldChange(e) }\r\n                            id=\"fullAddress\" ></input>\r\n                        </li>\r\n                        <li>\r\n                            <label htmlFor=\"currentlive\">Staying</label>\r\n                            <input \r\n                            placeholder=\"Staying Address\" \r\n                            required type=\"text\" name=\"currentLive\"\r\n                            value = {_.get(info, \"currentLive\", '')}\r\n                            onChange={(e) => this.onTxtfieldChange(e) }\r\n                            id=\"currentLive\" ></input>\r\n                        </li>\r\n                        <li>\r\n                            <label htmlFor=\"gender\">Gender</label>\r\n                            <form className=\"form-radio-gender\">\r\n                            <input type=\"radio\" id=\"male\" name=\"gender\" value=\"male\" checked={this.state.gender} onChange={(e) => this.onTxtfieldChange(e) } />\r\n                            <label for=\"male\">Male</label><br />\r\n                            <input type=\"radio\" id=\"female\" name=\"gender\" value=\"female\" checked={this.state.gender} onChange={(e) => this.onTxtfieldChange(e) } />\r\n                            <label for=\"female\">Female</label><br />\r\n                            <input type=\"radio\" id=\"other\" name=\"gender\" checked={this.state.gender} value=\"lesbian\" onChange={(e) => this.onTxtfieldChange(e) } />\r\n                            <label for=\"other\">Lesbian</label>\r\n                            <input type=\"radio\" id=\"other\" name=\"gender\" checked={this.state.gender} value=\"other\" onChange={(e) => this.onTxtfieldChange(e) } />\r\n                            <label for=\"other\">Other</label>\r\n                            </form>\r\n                        </li>\r\n                        <li>\r\n                            <label htmlFor=\"age\">Your Age</label>\r\n                            <input \r\n                            placeholder=\"25\" \r\n                            required type=\"number\" name=\"age\"\r\n                            value = {_.get(info, \"age\", '')}\r\n                           onChange={(e) => this.onTxtfieldChange(e) }\r\n                            id=\"age\" ></input>\r\n                        </li>\r\n                        <li>\r\n                            <label htmlFor=\"munberphone\">Your Number Mobile</label>\r\n                            <input \r\n                            placeholder=\"0123456789\" \r\n                            required type=\"number\" name=\"numbermobile\"\r\n                            value = {_.get(info, \"numbermobile\", '')}\r\n                           onChange={(e) => this.onTxtfieldChange(e) }\r\n                            id=\"numbermobile\" ></input>\r\n                        </li>\r\n                        <li>\r\n                            <label htmlFor=\"nationality\">Nationality</label>\r\n                            <input \r\n                            placeholder=\"Nationality\" \r\n                            required type=\"text\" name=\"nationality\"\r\n                            value = {_.get(info, \"nationality\", '')}\r\n                            onChange={(e) => this.onTxtfieldChange(e) }\r\n                            id=\"nationality\" ></input>\r\n                        </li>\r\n                        <li>\r\n                            <label htmlFor=\"profession\">Profession</label>\r\n                            <input \r\n                            placeholder=\"Your profession\" \r\n                            required type=\"text\" name=\"profession\"\r\n                            value = {_.get(info, \"profession\", '')}\r\n                            onChange={(e) => this.onTxtfieldChange(e) }\r\n                            id=\"profession\" ></input>\r\n                        </li>\r\n                        <li>\r\n                            <label htmlFor=\"company\">Name Company</label>\r\n                            <input \r\n                            placeholder=\"Name Company\" \r\n                            required type=\"text\" name=\"company\"\r\n                            value = {_.get(info, \"company\", '')}\r\n                           onChange={(e) => this.onTxtfieldChange(e) }\r\n                            id=\"company\" ></input>\r\n                        </li>\r\n                        <li>\r\n                            <label htmlFor=\"email\">Device Name</label>\r\n                            <input \r\n                            placeholder=\"Your Device Name\" \r\n                            required type=\"text\" name=\"deviceName\"\r\n                            value = {_.get(info, \"deviceName\", '')}\r\n                           onChange={(e) => this.onTxtfieldChange(e) }\r\n                            id=\"deviceName\" ></input>\r\n                        </li></>\r\n                        :\r\n                        <li>\r\n                            <p>\r\n                            Request has been saved<br />\r\n                            <b>NEXT YOU NEED TO SEND IDENTICATED PROOF THAT IT IS YOU</b><br />\r\n                            Click the button below to continue\r\n                            </p>\r\n                        </li>\r\n\r\n                        }                    \r\n                       \r\n                        <div className=\"footer-menu\">\r\n                            <div className=\"img\">\r\n                                <img style={{maxHeight: \"5rem\", maxWidth: \"5rem\"}} src={defaultImg} alt=\"nds\"/>\r\n                            </div>\r\n                            <div className=\"btn-cc\">\r\n                            <li>\r\n                                <button type=\"submit\" className=\"login-btn\">{!this.state.step1 ? 'Save Require' : 'Continue Send Email' }</button>\r\n                            </li>\r\n                            </div>\r\n                        </div>\r\n                    </ul>\r\n                    </form>\r\n                    </div>\r\n                    :\r\n                    null\r\n                }\r\n                 {showFormVerifyEmail ? <div className=\"user-form\" ref = {(ref) => this.ref = ref}>\r\n                    <form onSubmit={this.sendEmailVerify}>\r\n                    <ul className=\"form-container\">\r\n                        <li>\r\n                            <h4>Send Email Verify to nDsApp Group</h4>\r\n                        </li>\r\n                        <li>\r\n                            { message ? <p className={classNames('app-msg', _.get(message, 'type'))}>\r\n                                {_.get(message, 'body')}\r\n                            </p> : null } \r\n                        </li>                    \r\n                        <li>\r\n                        <label>\r\n                            <p>Type of identification:</p>\r\n                            <select value={this.state.typeIdentify} onChange={(event) => this.setState({typeIdentify: event.target.value})}>\r\n                                <option value=\"peopleID\">People ID</option>\r\n                                <option value=\"driverLicense\">Driver License</option>\r\n                                <option value=\"passport\">Passport</option>\r\n                                <option value=\"otherLicense\">Equivalent Identity License</option>\r\n                            </select>\r\n                        </label>\r\n                        </li>\r\n                        <li>\r\n                            <UpLoadFilePhoto  sendMessage={(message) => {\r\n                                this.setState(prevState => {\r\n                                    return {messages: [...prevState.messages, message]}\r\n                                })\r\n                            }}/>\r\n\r\n                            <div className=\"photo-verify\">\r\n                                { \r\n                                messages.map(data => (\r\n                                    <div key={data.id}>\r\n                                        {(this.renderMessage(data))}\r\n                                    </div>\r\n                                ))\r\n                                }\r\n                            </div>\r\n                        </li>\r\n\r\n                       \r\n                        <div className=\"footer-menu\">\r\n                            <div className=\"img\">\r\n                                <img style={{maxHeight: \"5rem\", maxWidth: \"5rem\"}} src={defaultImg} alt=\"nds\"/>\r\n                            </div>\r\n                            <div className=\"btn-cc\">\r\n                            <li>\r\n                                <button type=\"submit\" className=\"login-btn\">{!this.state.step2 ? 'Send Email Require' : 'Back Home Chat' }</button>\r\n                            </li>\r\n                            </div>\r\n                        </div>\r\n                    </ul>\r\n                    </form>\r\n                    </div>\r\n                    :\r\n                    null\r\n                }\r\n\r\n\r\n\r\n\r\n            </>\r\n\r\n        )\r\n    }\r\n\r\n}\r\nexport default SendVerifyCommunication","import React, { Component } from 'react';\r\nimport defaultImg from '../images/logoMainLar.svg';\r\nimport loadingImg from '../images/loadingImg.gif'\r\nimport _ from 'lodash';\r\nimport classNames from 'classnames';\r\nimport { IconButton, Tooltip } from '@material-ui/core';\r\nimport { MdEdit, MdCheck } from 'react-icons/md';\r\nimport { RiImageEditFill } from 'react-icons/ri';\r\nimport { IoIosLogIn } from 'react-icons/io';\r\nimport { GoVerified, GoUnverified } from 'react-icons/go';\r\nimport Dropzone from \"react-dropzone\";\r\nimport {encrypt, encrypt2} from '../helpers/en_deCrypt';\r\n// import axios from \"axios\";\r\n\r\nimport fetchJsonp from \"fetch-jsonp\";\r\nimport ChangePassword from './ChangePassword';\r\nimport SendVerifyCommunication from './SendVerifyCommunication';\r\nconst GeoAPI = \"https://ipapi.co/jsonp\";\r\n\r\n\r\nexport class UserBar extends Component {\r\n    constructor(){\r\n        super()\r\n        this.state = {\r\n            message: null,\r\n            showUserFrom : false,\r\n            loadingRequire: false,\r\n            isLogin: true,\r\n            editAcc: false,\r\n            editPassword: false,\r\n            isFormGetPassword : false,\r\n            showFormVerifyCommunicate: false,\r\n            showFormVerifyEmail: false,\r\n            edit: '',\r\n            type:'text',\r\n            oldPassword: '',\r\n            newPassword: '',\r\n            reNewPassword: '',\r\n            email: '',\r\n            userId: '',\r\n            user: {\r\n                email: '',\r\n                password: '',\r\n                repassword: '',\r\n                name: '',\r\n                ipClient: null,\r\n                birthday: '',\r\n                country: '',\r\n                phone: '',\r\n                ID: '',\r\n            },\r\n            // fieldFocus: 'email',\r\n        }\r\n       \r\n    }\r\n\r\n    openUserForm = () =>{\r\n        this.setState({showUserFrom: true});\r\n        // this.state.isLogin ? this.setState({fieldFocus: 'email'}) : this.setState({fieldFocus: 'name'});\r\n    }\r\n\r\n    //today need fix focus for app in all page\r\n    // focusMethod = (fieldFocus) =>{\r\n    //     document.getElementById(fieldFocus).focus();\r\n    // }\r\n    \r\n\r\n    handleSendGetPassword = (e) => {\r\n        e.preventDefault();\r\n        const {store} = this.props;\r\n        const {email} = this.state;\r\n        store.requestGetPassword(email).then((_) => {\r\n            this.setState({\r\n                message: {\r\n                    body: `We have sent to ${email} a link, please check your email.`,\r\n                    type: 'success'\r\n                },\r\n                email: null,\r\n            })\r\n        }).catch((err) => {\r\n            console.log(err);\r\n            this.setState({\r\n                message: {\r\n                    body: err,\r\n                    type: 'error'\r\n                }\r\n            })\r\n        });\r\n    }\r\n\r\n    isFormGetPassword = (e) => {\r\n        e.preventDefault();\r\n        this.setState({\r\n            isFormGetPassword: true,\r\n            showUserFrom: false,\r\n            // fieldFocus: \"password\"\r\n        })\r\n    }\r\n\r\n\r\n    handleEditPassword = (e) => {\r\n        e.preventDefault();\r\n        const {store} = this.props;\r\n        const {oldPassword, newPassword, reNewPassword, user} = this.state;\r\n        this.setState({\r\n            message: null,\r\n            loadingRequire: true\r\n        }, () => {\r\n            if(newPassword === reNewPassword){\r\n               \r\n                const hashNewPassword = encrypt2(encrypt(newPassword));\r\n                const hashOldPassword = encrypt2(encrypt(oldPassword));\r\n\r\n                store.editPassword(hashOldPassword, hashNewPassword, user.ipClient).then((_) => {\r\n                    this.setState({\r\n                        message: {\r\n                            body: 'Password changed',\r\n                            type: 'success'\r\n                        },\r\n                        oldPassword: null,\r\n                        newPassword: null,\r\n                        reNewPassword: null,\r\n                        loadingRequire: false\r\n\r\n                    })\r\n                }).catch((err) => {\r\n                    console.log(err);\r\n                    this.setState({\r\n                        message: {\r\n                            body: err,\r\n                            type: 'error'\r\n                        },\r\n                        loadingRequire: false\r\n                    })\r\n                    });\r\n\r\n            }else{\r\n                this.setState({\r\n                    message: {\r\n                        body: 'Password not Comfirm or an another Error',\r\n                        type: 'error'\r\n                    },\r\n                    loadingRequire: false\r\n                })\r\n            }\r\n\r\n\r\n        })\r\n    }\r\n\r\n    changeFormEdit = (e) => {\r\n        e.preventDefault();\r\n        this.setState({\r\n            showUserMenu: false,\r\n            editPassword: true,\r\n            fieldFocus: \"getEmail\"\r\n        });\r\n\r\n    }\r\n\r\n    handleCreateR = () => {\r\n       \r\n        const userId = this.generateId(12);\r\n        let { user } = this.state;\r\n        const field = 'ID';\r\n        user[field] = userId;\r\n        this.setState({ user: user})\r\n        console.log('ID of user random: ', userId);\r\n    }\r\n\r\n    dec2hex = (dec) => {\r\n        return dec < 10\r\n        ? '0' + _.toString(dec)\r\n        : dec.toString(16)\r\n    }\r\n\r\n    generateId = (len) => {\r\n        var arr = new Uint8Array((len || 40) / 2)\r\n        window.crypto.getRandomValues(arr)\r\n        return Array.from(arr, this.dec2hex).join('')\r\n    }\r\n\r\n    changeControl = (e) => {\r\n        e.preventDefault();\r\n        this.handleCreateR();\r\n        let {isLogin} = this.state;\r\n        this.setState({\r\n            isLogin: !isLogin,\r\n        })\r\n    }\r\n\r\n    onDrop = (files) => {\r\n        const {store} = this.props;\r\n        // console.log(\"file goc: \",files);\r\n        let formData = new FormData();\r\n        formData.append(\"myImage\", files[0]);\r\n        store.uploadUserAvatar(formData);\r\n        // console.log(\"file format: \",formData);\r\n    }\r\n    handleEditNow = (e) => {\r\n        e.preventDefault();\r\n        const { store } = this.props;\r\n        const { user, edit } = this.state;\r\n        store.editUser(edit, user[edit])\r\n\r\n\r\n        this.setState({\r\n            edit: '',\r\n            editAcc: false\r\n        })\r\n    }\r\n    fetchIPclient = () => {\r\n        try{\r\n            fetchJsonp(`${GeoAPI}`)\r\n            .then(function(response) {\r\n                return response.json();\r\n              })\r\n              .then(json => {\r\n                let { user } = this.state;\r\n                const field = 'ipClient';\r\n                user[field] = json;\r\n                console.log(\"user from device: \", user)\r\n                this.setState({ user: user})\r\n              })\r\n              .catch(function(ex) {\r\n                console.log(\"parsing failed\", ex);\r\n              });\r\n        }\r\n        catch (err){ console.log(err) }\r\n\r\n      };\r\n    onClickOutSide = (e) => {\r\n        if(this.ref && !this.ref.contains(e.target)){\r\n            console.log(\"Here click out side login form!\");\r\n            this.setState({\r\n                showUserFrom: false,\r\n                showUserMenu: false,\r\n                editPassword: false,\r\n                isFormGetPassword: false,\r\n                message: null,\r\n                \r\n            })\r\n        }\r\n    }\r\n    onClickhiddenshowFormVerifyCommunicate = () => {\r\n        console.log(\"Here click out side login form!\");\r\n        this.setState({\r\n            message: null,\r\n            showFormVerifyCommunicate: false,\r\n        })\r\n    }\r\n    componentDidMount(){\r\n        window.addEventListener('mousedown', this.onClickOutSide);\r\n        this.fetchIPclient();\r\n        console.log('Didmount and fetch Client');\r\n    }\r\n    componentWillUnmount(){\r\n        window.removeEventListener('mousedown', this.onClickOutSide);\r\n        console.log('Unmount');\r\n    }\r\n   \r\n    onSubmit = (e) => {\r\n\r\n        const { store } = this.props;\r\n        const { user , isLogin } = this.state;\r\n        const hashPassword = encrypt2(encrypt(user.password));\r\n        e.preventDefault();\r\n        this.setState({\r\n            message: null,\r\n            loadingRequire: true\r\n        }, () => {\r\n            if(isLogin){\r\n                try{\r\n                    store.login(user.email, hashPassword, user.ipClient.ip).then((_) => {\r\n                        const {user} = this.state;\r\n                            user.ipClient = null;\r\n                            user.password = null;\r\n                            user.repassword = null;\r\n                        this.setState({\r\n                            message: null,\r\n                            showUserFrom: false,\r\n                            showUserMenu: false,\r\n                            user: user,\r\n                            loadingRequire: false\r\n                        })\r\n        \r\n                    }).catch((err) => {\r\n                        console.log(err);\r\n                        this.setState({\r\n                            message: {\r\n                                body: err,\r\n                                type: 'error'\r\n                            },\r\n                            loadingRequire: false\r\n                        })\r\n                    });\r\n                }\r\n                catch (err) {\r\n                    console.log(err);\r\n                    this.setState({\r\n                        message: {\r\n                            body: 'An error occurred in client, please try again later!',\r\n                            type: 'error'\r\n                        },\r\n                        loadingRequire: false\r\n\r\n                    })\r\n                }\r\n               \r\n            } else {\r\n                if(user.password === user.repassword){\r\n                    user.password = hashPassword;\r\n                    console.log(user)\r\n                    store.register(user).then((_) => {\r\n                        this.setState({\r\n                            message: {\r\n                                body: 'User created',\r\n                                type: 'Success'\r\n                            },\r\n                            loadingRequire: false\r\n                        }, () => {\r\n                            // now login this user\r\n                            store.login(user.email, hashPassword).then((_) => { \r\n                            //\r\n                            const {user} = this.state;\r\n                            user.ipClient = null;\r\n                            user.password = null;\r\n                            user.repassword = null;\r\n                            user.phone = null;\r\n                            this.setState({\r\n                                message: null,\r\n                                showUserFrom: false,\r\n                                showUserMenu: false,\r\n                                isFormGetPassword: false,\r\n                                user : user,\r\n                                loadingRequire: false\r\n                            })\r\n                            \r\n                        }).catch((err) => {\r\n                            console.log(err);\r\n                            this.setState({\r\n                                message: {\r\n                                    body: err,\r\n                                    type: 'error'\r\n                                },\r\n                                loadingRequire: false\r\n                            })\r\n                            });\r\n                        })\r\n                    }).catch((err) => {\r\n                        console.log(err);\r\n                        this.setState({\r\n                            message: {\r\n                                body: err,\r\n                                type: 'error'\r\n                            },\r\n                            loadingRequire: false\r\n                        })\r\n                    });\r\n                }else{\r\n                    console.log(user.repassword, 'and' , user.password);\r\n                    this.setState({\r\n                        message: {\r\n                            body: 'Password not Comfirm',\r\n                            type: 'error'\r\n                        },\r\n                        loadingRequire: false\r\n                    })\r\n                }\r\n                \r\n            }\r\n           \r\n        })\r\n\r\n    }\r\n\r\n    onTxtfieldChange = (e) => {\r\n        let { user } = this.state;\r\n        const field = e.target.name;\r\n        user[field] = e.target.value;\r\n        this.setState({\r\n            user: user\r\n        });\r\n    }\r\n    onTxtfieldEChange = (e) => {\r\n        let { user } = this.state;\r\n        const field = e.target.name;\r\n        user[field] = e.target.value;\r\n        this.setState({\r\n            user: user\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { user, message, isLogin, edit, type, editAcc, isFormGetPassword } = this.state;\r\n        const { store } = this.props;\r\n        const me = store.getCurrentUser();\r\n        const profileImg = _.get(me, 'avatar');\r\n        const name = _.get(me,'name');\r\n        const ID = _.get(me, 'ID');\r\n        const email = _.get(me, 'email');\r\n        const country = _.get(me, 'country');\r\n        const phone = _.get(me, 'phone');\r\n        const birthday = _.get(me, 'birthday');\r\n        const verified = _.get(me, 'verify');\r\n\r\n       \r\n        return (\r\n    <>\r\n        <div className=\"user-bar\">\r\n            \r\n            { !me ?<> <button type=\"button\" onClick={this.openUserForm} className=\"login-btn\">Sign In</button>\r\n                <div className=\"login-btn-mini\">\r\n                    <IconButton style={{ color: \"rgba(199, 119, 199, 0.9)\"}} onClick={this.openUserForm}>\r\n                        <IoIosLogIn />\r\n                    </IconButton>\r\n                </div>\r\n            </> : null}\r\n\r\n            { me ? <> <div className=\"name-user\">{_.get(me, 'name')}</div>\r\n                <div className=\"img-user\">\r\n                    <img className=\"img-profile\" src={profileImg ? `https://ndschatserver.herokuapp.com/${profileImg}` : defaultImg} onClick={(e) => this.setState({showUserMenu: true})}  alt=\"user-img\"></img>\r\n                </div> </> : null \r\n            }\r\n           \r\n\r\n            { me && this.state.showUserMenu ?  <div className=\"user-form\" ref = {(ref) => this.ref = ref}>\r\n                <form>\r\n                {   this.state.loadingRequire ? <div className=\"loadingGif-User\">\r\n                        <img className=\"img-loading-require\" src = {loadingImg} alt=\"\" />\r\n                    </div>\r\n                    :\r\n                    null\r\n                }\r\n                <ul className=\"form-container\">\r\n                    <li>\r\n                        <h4>Your Account</h4>\r\n                    </li>\r\n                    {\r\n                        editAcc ? <div>\r\n                        <label style={{textTransform: 'capitalize'}} htmlFor={edit}>\r\n                            {edit}\r\n                        </label>\r\n                        <div className=\"form-edit\">\r\n                            <div className=\"input-edit\">\r\n                            <input onChange={(e) => this.onTxtfieldEChange(e) } \r\n                            placeholder=\"type your change here\"\r\n                            required type={type} name={edit}\r\n                            value = {_.get(user, {edit})} \r\n                            id={edit} ></input>\r\n                            </div>\r\n                        <div className=\"btn-edit\">\r\n                            <IconButton>\r\n                                <MdCheck style={{ color: \"rgba(23, 138, 8, 0.959)\"}} onClick={this.handleEditNow} />\r\n                            </IconButton>\r\n                        </div>\r\n                        </div>\r\n                       \r\n                    </div>\r\n                    :\r\n                    null\r\n                    }\r\n                    <li className =\"header-menu\">\r\n                        <img src={`https://ndschatserver.herokuapp.com/${profileImg}`} alt=\"user-img\" />\r\n                        <div className=\"edit-avatar-icon\">\r\n                            <Dropzone onDrop={this.onDrop}>\r\n                                {({getRootProps, getInputProps}) => (\r\n                                    <section>\r\n                                    <div {...getRootProps()}>\r\n                                        <input {...getInputProps()} />\r\n                                            <RiImageEditFill />\r\n                                    </div>\r\n                                    </section>\r\n                                )}\r\n                            </Dropzone>\r\n                        </div>\r\n                        <span>{name}{\" \"}{verified ? <Tooltip title=\"Account have been Verified\" placement=\"left-start\"><GoVerified style={{color: 'rgb(36, 139, 10)', fontSize: '1rem'}} /></Tooltip> : <GoUnverified style={{color: 'rgb(202, 161, 46)', fontSize: '1rem'}} onClick={() => this.setState({showFormVerifyCommunicate: true, showUserMenu: false})}/>}</span>\r\n                    </li>\r\n                    <div className =\"body-menu\">\r\n                        <p htmlFor=\"email\">Your Name: {name}</p>\r\n                        <div>\r\n                        <IconButton  style={{ color: \"rgba(0, 0, 0, 0.5)\"}}>\r\n                            <MdEdit onClick = {() => this.setState({editAcc: true, edit: 'name', type: 'text'})} />\r\n                        </IconButton>\r\n                        </div>\r\n                    </div>\r\n                    <div className =\"body-menu\">\r\n                        <p htmlFor=\"email\">Birthday: {birthday}</p>\r\n                        <div> <IconButton  style={{ color: \"rgba(0, 0, 0, 0.5)\"}}>\r\n                            <MdEdit  onClick = {() => this.setState({editAcc: true, edit: 'birthday', type: 'date'})} />\r\n                        </IconButton></div>\r\n                    </div>\r\n                    <div className =\"body-menu\">\r\n                        <p htmlFor=\"email\">ID User: {ID}</p>\r\n                        <div> <IconButton  style={{ color: \"rgba(0, 0, 0, 0.5)\"}}>\r\n                            <MdEdit  onClick = {() =>alert(\"You can't edit your ID!\")} />\r\n                        </IconButton></div>\r\n                    </div>\r\n                    <div className =\"body-menu\">\r\n                        <p htmlFor=\"email\">Email Address: {email}</p>\r\n                        <div> <IconButton  style={{ color: \"rgba(0, 0, 0, 0.5)\"}}>\r\n                            <MdEdit  onClick = {() =>alert(\"You can't edit your email address!\")} />\r\n                        </IconButton></div>\r\n                    </div>\r\n                    <div className =\"body-menu\">\r\n                        <p htmlFor=\"email\">Contact Number: {phone}</p>\r\n                        <div> <IconButton  style={{ color: \"rgba(0, 0, 0, 0.5)\"}}>\r\n                            <MdEdit  onClick = {() => this.setState({editAcc: true, edit: 'phone', type: 'number'})} />\r\n                        </IconButton></div>\r\n                    </div>\r\n                    <div className =\"body-menu\">\r\n                        <p htmlFor=\"email\">Country: {country}</p>\r\n                        <div> <IconButton  style={{ color: \"rgba(0, 0, 0, 0.5)\"}}>\r\n                            <MdEdit  onClick = {() => this.setState({editAcc: true, edit: 'country'})} />\r\n                        </IconButton></div>\r\n                    </div>\r\n                   \r\n                    <div className=\"footer-menu\">\r\n                        <div className=\"img\">\r\n                            <img style={{maxHeight: \"5rem\", maxWidth: \"5rem\"}} src={defaultImg} alt=\"nds\"/>\r\n                        </div>\r\n                        <div className=\"btn-cc\">\r\n                        <li>\r\n                        <button onClick = { () => store.signOut()}\r\n                        type=\"button\" className=\"login-btn\">Signout</button>\r\n                        </li>\r\n                    <li>\r\n                        <button className=\"login-btn\" onClick={this.changeFormEdit} >Change Password</button>\r\n                    </li>\r\n                        </div>\r\n                    </div>\r\n                </ul>\r\n                </form>\r\n                </div>\r\n                :\r\n                null\r\n            }\r\n             { !me && this.state.showUserFrom ? <div className=\"user-form\" ref = {(ref) => this.ref = ref}>\r\n                <form onSubmit= {this.onSubmit}>\r\n                {   this.state.loadingRequire ? <div className=\"loadingGif-User\">\r\n                        <img className=\"img-loading-require\" src = {loadingImg} alt=\"\" />\r\n                    </div>\r\n                    :\r\n                    null\r\n                }\r\n                <ul className=\"form-container\">\r\n                    <li>\r\n                        <h4>Sign In / Register Your Account</h4>\r\n                    </li>\r\n                    <li>\r\n                        { message ? <p className={classNames('app-msg', _.get(message, 'type'))}>\r\n                            {_.get(message, 'body')}\r\n                        </p> : null } \r\n                    </li>\r\n                    {\r\n                        !isLogin ? <li>\r\n                        <label htmlFor=\"name\">\r\n                        Name\r\n                        </label>\r\n                        <input onChange={(e) => this.onTxtfieldChange(e) } \r\n                        placeholder=\"Your-Name\" \r\n                        autoFocus\r\n                        required type=\"text\" name=\"name\"\r\n                        value = {_.get(user, 'name')} \r\n                        id=\"name\" ></input>\r\n                    </li>\r\n                    :\r\n                    null\r\n                    }\r\n                    \r\n                    <li>\r\n                        <label htmlFor=\"email\">\r\n                        Email\r\n                        </label>\r\n                        <input onChange={(e) => this.onTxtfieldChange(e) } \r\n                        placeholder=\"example.vn@nds.com\" \r\n                        required type=\"email\" name=\"email\"\r\n                        value = {_.get(user, 'email')} \r\n                        autoFocus\r\n                        id=\"email\" ></input>\r\n                    </li>\r\n                    <li>\r\n                        <label htmlFor=\"password\">Password</label>\r\n                        <input onChange={(e) => this.onTxtfieldChange(e) }\r\n                        autoComplete = {'off'} \r\n                        placeholder=\"Your-password\" \r\n                        required type=\"password\"\r\n                        value = {_.get(user, 'password')} \r\n                        id=\"password\" name=\"password\" ></input>\r\n                    </li>\r\n                    {\r\n                        !isLogin ? <li>\r\n                        <label htmlFor=\"repassword\">\r\n                        Comfirm Password\r\n                        </label>\r\n                        <input onChange={(e) => this.onTxtfieldChange(e) } \r\n                        placeholder=\"Re-password\" \r\n                        required type=\"password\" name=\"repassword\"\r\n                        value = {_.get(user, 'repassword')} \r\n                        id=\"repassword\" ></input>\r\n                    </li>\r\n                    :\r\n                    null\r\n                    }\r\n                    <div className=\"footer-login\">\r\n                        <div className=\"img\">\r\n                            <img style={{maxHeight: \"5rem\", maxWidth: \"5rem\"}} src={defaultImg} alt=\"nds\"/>\r\n                        </div>\r\n                        <div className=\"btn-cc\">\r\n                        <li>\r\n                            <span onClick={this.isFormGetPassword} >Forget password?</span>\r\n                        </li>\r\n                        <li>\r\n                            <button type=\"submit\" className=\"login-btn\">{isLogin ? 'Log In' : 'Create Now'}</button>\r\n                        </li>\r\n                        <li>\r\n                        <button type=\"button\" onClick = {this.changeControl}\r\n                        className=\"login-btn\" > { isLogin ? 'Create New Account?' : 'Already have an account?' } </button>\r\n                      </li>\r\n                        </div>\r\n                    </div>\r\n                </ul>\r\n                </form>\r\n                </div>\r\n                :\r\n                null\r\n            }\r\n                  {this.state.editPassword ? <div className=\"user-form\" ref = {(ref) => this.ref = ref}>\r\n                    <form onSubmit={this.handleEditPassword}>\r\n                    {   this.state.loadingRequire ? <div className=\"loadingGif-User\">\r\n                        <img className=\"img-loading-require\" src = {loadingImg} alt=\"\" />\r\n                        </div>\r\n                        :\r\n                        null\r\n                    }\r\n                    <ul className=\"form-container\">\r\n                        <li>\r\n                            <h4>Change Password</h4>\r\n                        </li>\r\n                        <li>\r\n                            { message ? <p className={classNames('app-msg', _.get(message, 'type'))}>\r\n                                {_.get(message, 'body')}\r\n                            </p> : null } \r\n                        </li>                    \r\n                        <li>\r\n                            <label htmlFor=\"password\">Current Password</label>\r\n                            <input \r\n                            placeholder=\"Current password\" \r\n                            required type=\"password\" name=\"password\"\r\n                            value = {this.state.oldPassword} \r\n                            onChange = {({target})=>{\r\n                                this.setState({ oldPassword: target.value })\r\n                            }} \r\n                            autoFocus\r\n                            id=\"password\" ></input>\r\n                        </li>\r\n                        <li>\r\n                            <label htmlFor=\"password\">New Password</label>\r\n                            <input \r\n                            autoComplete = {'off'} \r\n                            placeholder=\"New-password\" \r\n                            required type=\"password\"\r\n                            value = {this.state.newPassword} \r\n                            onChange = {({target})=>{\r\n                                this.setState({ newPassword: target.value })\r\n                            }} \r\n                            id=\"newPassword\" name=\"newPassword\" ></input>\r\n                        </li>\r\n                        <li>\r\n                            <label htmlFor=\"repassword\">Comfirm new Password</label>\r\n                            <input\r\n                            placeholder=\"Re-password\" \r\n                            required type=\"password\" name=\"repassword\"\r\n                            value = {this.state.reNewPassword}\r\n                            onChange = {({target})=>{\r\n                                this.setState({ reNewPassword: target.value })\r\n                            }} \r\n                            id=\"repassword\" ></input>\r\n                        </li>\r\n                        <div className=\"footer-menu\">\r\n                            <div className=\"img\">\r\n                                <img style={{maxHeight: \"5rem\", maxWidth: \"5rem\"}} src={defaultImg} alt=\"nds\"/>\r\n                            </div>\r\n                            <div className=\"btn-cc\">\r\n                            <li>\r\n                            <button type=\"submit\" className=\"login-btn\">Save New-Password</button>\r\n                            </li>\r\n                            </div>\r\n                        </div>\r\n                    </ul>\r\n                    </form>\r\n                    </div>\r\n                    :\r\n                    null\r\n                }\r\n                    {isFormGetPassword ? <div className=\"user-form\" ref = {(ref) => this.ref = ref}>\r\n                        <form onSubmit={this.handleSendGetPassword}>\r\n                        <ul className=\"form-container\">\r\n                            <li>\r\n                                <h4>Get Your Password</h4>\r\n                            </li>\r\n                            <li>\r\n                                { message ? <p className={classNames('app-msg', _.get(message, 'type'))}>\r\n                                    {_.get(message, 'body')}\r\n                                </p> : null } \r\n                            </li>                    \r\n                            <li>\r\n                                <label htmlFor=\"text\">Email</label>\r\n                                <input \r\n                                placeholder=\"Your Email\" \r\n                                required type=\"email\" name=\"email\"\r\n                                value = {this.state.email} \r\n                                onChange = {({target})=>{\r\n                                    this.setState({ email: target.value })\r\n                                }} \r\n                                autoFocus\r\n                                id=\"getEmail\" ></input>\r\n                            </li>\r\n                            <div className=\"footer-menu\">\r\n                            <div className=\"img\">\r\n                                <img style={{maxHeight: \"5rem\", maxWidth: \"5rem\"}} src={defaultImg} alt=\"nds\"/>\r\n                            </div>\r\n                            <div className=\"btn-cc\">\r\n                            <li>\r\n                                <button type=\"submit\" className=\"login-btn\">Send Request</button>\r\n                            </li>\r\n                            </div>\r\n                        </div>\r\n                        </ul>\r\n                        </form>\r\n                        </div>\r\n                        :\r\n                        null\r\n                    }\r\n                    <ChangePassword store = { store }  />\r\n                    <SendVerifyCommunication \r\n                    handleShowFormVerifyEmail = {() =>this.setState({showFormVerifyEmail: !this.state.showFormVerifyEmail})}\r\n                    showFormVerifyEmail = {this.state.showFormVerifyEmail}\r\n                    onClickOutSide ={this.onClickhiddenshowFormVerifyCommunicate} \r\n                    showFormVerifyCommunicate={this.state.showFormVerifyCommunicate} store = { store } />\r\n        \r\n        </div>\r\n    </>\r\n    )\r\n    }\r\n}\r\n\r\nexport default UserBar\r\n\r\n\r\n\r\n\r\n","import React  from 'react'\r\n\r\n// import RainAmina from './RainAmina';\r\n\r\nconst Loading = () => {\r\n        \r\n        return (\r\n            <>\r\n            <div className=\"wrapper\">\r\n                <div className=\"line line1\">\r\n                    <span className=\"circle circle-top\"></span>\r\n                    <div className=\"dotted\">\r\n                        <span className=\"dot dot-top\"></span>\r\n                        <span className=\"dot dot-middle-top\"></span>\r\n                        <span className=\"dot dot-middle-bottom\"></span>\r\n                        <span className=\"dot dot-bottom\"></span>\r\n                    </div>\r\n                    <span className=\"circle circle-bottom\"></span>\r\n                </div>\r\n                <div className=\"line line2\">\r\n                    <span className=\"circle circle-top\"></span>\r\n                    <div className=\"dotted\">\r\n                        <span className=\"dot dot-top\"></span>\r\n                        <span className=\"dot dot-middle-top\"></span>\r\n                        <span className=\"dot dot-middle-bottom\"></span>\r\n                        <span className=\"dot dot-bottom\"></span>\r\n                    </div>\r\n                    <span className=\"circle circle-bottom\"></span>\r\n                </div>\r\n                <div className=\"line line3\">\r\n                    <span className=\"circle circle-top\"></span>\r\n                    <div className=\"dotted\">\r\n                        <span className=\"dot dot-top\"></span>\r\n                        <span className=\"dot dot-middle-top\"></span>\r\n                        <span className=\"dot dot-middle-bottom\"></span>\r\n                        <span className=\"dot dot-bottom\"></span>\r\n                    </div>\r\n                    <span className=\"circle circle-bottom\"></span>\r\n                </div>\r\n                <div className=\"line line4\">\r\n                    <span className=\"circle circle-top\"></span>\r\n                    <div className=\"dotted\">\r\n                        <span className=\"dot dot-top\"></span>\r\n                        <span className=\"dot dot-middle-top\"></span>\r\n                        <span className=\"dot dot-middle-bottom\"></span>\r\n                        <span className=\"dot dot-bottom\"></span>\r\n                    </div>\r\n                    <span className=\"circle circle-bottom\"></span>\r\n                </div>\r\n                <div className=\"line line5\">\r\n                    <span className=\"circle circle-top\"></span>\r\n                    <div className=\"dotted\">\r\n                        <span className=\"dot dot-top\"></span>\r\n                        <span className=\"dot dot-middle-top\"></span>\r\n                        <span className=\"dot dot-middle-bottom\"></span>\r\n                        <span className=\"dot dot-bottom\"></span>\r\n                    </div>\r\n                    <span className=\"circle circle-bottom\"></span>\r\n                </div>\r\n                <div className=\"line line6\">\r\n                    <span className=\"circle circle-top\"></span>\r\n                    <div className=\"dotted\">\r\n                        <span className=\"dot dot-top\"></span>\r\n                        <span className=\"dot dot-middle-top\"></span>\r\n                        <span className=\"dot dot-middle-bottom\"></span>\r\n                        <span className=\"dot dot-bottom\"></span>\r\n                    </div>\r\n                    <span className=\"circle circle-bottom\"></span>\r\n                </div>\r\n                <div className=\"line line7\">\r\n                    <span className=\"circle circle-top\"></span>\r\n                    <div className=\"dotted\">\r\n                        <span className=\"dot dot-top\"></span>\r\n                        <span className=\"dot dot-middle-top\"></span>\r\n                        <span className=\"dot dot-middle-bottom\"></span>\r\n                        <span className=\"dot dot-bottom\"></span>\r\n                    </div>\r\n                    <span className=\"circle circle-bottom\"></span>\r\n                </div>\r\n                <div className=\"line line8\">\r\n                    <span className=\"circle circle-top\"></span>\r\n                    <div className=\"dotted\">\r\n                        <span className=\"dot dot-top\"></span>\r\n                        <span className=\"dot dot-middle-top\"></span>\r\n                        <span className=\"dot dot-middle-bottom\"></span>\r\n                        <span className=\"dot dot-bottom\"></span>\r\n                    </div>\r\n                    <span className=\"circle circle-bottom\"></span>\r\n                </div>\r\n                <div className=\"line line9\">\r\n                    <span className=\"circle circle-top\"></span>\r\n                    <div className=\"dotted\">\r\n                        <span className=\"dot dot-top\"></span>\r\n                        <span className=\"dot dot-middle-top\"></span>\r\n                        <span className=\"dot dot-middle-bottom\"></span>\r\n                        <span className=\"dot dot-bottom\"></span>\r\n                    </div>\r\n                    <span className=\"circle circle-bottom\"></span>\r\n                </div>\r\n                <div className=\"line line10\">\r\n                    <span className=\"circle circle-top\"></span>\r\n                    <div className=\"dotted\">\r\n                        <span className=\"dot dot-top\"></span>\r\n                        <span className=\"dot dot-middle-top\"></span>\r\n                        <span className=\"dot dot-middle-bottom\"></span>\r\n                        <span className=\"dot dot-bottom\"></span>\r\n                    </div>\r\n                    <span className=\"circle circle-bottom\"></span>\r\n                </div>\r\n                <div className=\"line line11\">\r\n                    <span className=\"circle circle-top\"></span>\r\n                    <div className=\"dotted\">\r\n                        <span className=\"dot dot-top\"></span>\r\n                        <span className=\"dot dot-middle-top\"></span>\r\n                        <span className=\"dot dot-middle-bottom\"></span>\r\n                        <span className=\"dot dot-bottom\"></span>\r\n                    </div>\r\n                    <span className=\"circle circle-bottom\"></span>\r\n                </div>\r\n            </div>\r\n\r\n            {/* <RainAmina /> */}\r\n            </>\r\n        )\r\n      \r\n}\r\n\r\n\r\nexport default Loading\r\n","import React, { Component } from 'react';\r\n\r\nclass AudioVisualiser extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.canvas = React.createRef();\r\n  }\r\n  componentDidUpdate() {\r\n    this.draw();\r\n  }\r\n\r\n  draw() {\r\n    const { audioData } = this.props;\r\n    const canvas = this.canvas.current;\r\n    const height = canvas.height;\r\n    const width = canvas.width;\r\n    const context = canvas.getContext('2d');\r\n    let x = 0;\r\n    const sliceWidth = (width * 1.0) / audioData.length;\r\n    context.lineWidth = 1.68;\r\n    context.strokeStyle = 'rgba(199, 119, 199, 0.9)';\r\n    context.clearRect(0, 0, width, height);\r\n\r\n    context.beginPath();\r\n    context.moveTo(0, height / 2);\r\n    for (const item of audioData) {\r\n      const y = (item / 255.0) * height;\r\n      context.lineTo(x, y);\r\n      x += sliceWidth;\r\n    }\r\n    context.lineTo(x, height / 2);\r\n    context.stroke();\r\n  }\r\n \r\n  render() {\r\n    return <canvas display= \"inline\" width=\"1000px\" height=\"700px\" ref={this.canvas}>\r\n    </canvas>;\r\n  }\r\n}\r\n\r\nexport default AudioVisualiser;","import React, { Component } from 'react';\r\nimport AudioVisualiser from './AudioVisualiser';\r\n\r\nclass AudioAnalyser extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { audioData: new Uint8Array(0) };\r\n    this.tick = this.tick.bind(this);\r\n  }\r\n  componentDidMount() {\r\n    this.audioContext = new (window.AudioContext ||\r\n      window.webkitAudioContext)();\r\n    this.analyser = this.audioContext.createAnalyser();\r\n    this.dataArray = new Uint8Array(this.analyser.frequencyBinCount);\r\n    this.source = this.audioContext.createMediaStreamSource(this.props.audio);\r\n    this.source.connect(this.analyser);\r\n    this.source.connect(this.analyser);\r\n    this.rafId = requestAnimationFrame(this.tick);\r\n  }\r\n  tick() {\r\n    this.analyser.getByteTimeDomainData(this.dataArray);\r\n    this.setState({ audioData: this.dataArray });\r\n    this.rafId = requestAnimationFrame(this.tick);\r\n  }\r\n  componentWillUnmount() {\r\n    cancelAnimationFrame(this.rafId);\r\n    this.analyser.disconnect();\r\n    this.source.disconnect();\r\n  }\r\n  render() {\r\n    return <AudioVisualiser audioData={this.state.audioData} />;\r\n  }\r\n}\r\n\r\nexport default AudioAnalyser;","import React, { Component } from 'react'\r\nimport defaultUserImg from '../images/user-svg-default.svg';\r\nimport className from 'classnames';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport { OrderedMap } from 'immutable';\r\nimport _ from 'lodash';\r\nimport {ObjectID} from \"../helpers/objectid\";\r\nimport { IconButton } from '@material-ui/core';\r\nimport { IoMdListBox, IoMdPeople } from 'react-icons/io'\r\nimport { CgCloseO, CgSoftwareUpload, CgMoreVerticalAlt } from 'react-icons/cg'\r\nimport { SiConvertio } from 'react-icons/si';\r\nimport { FaSun, FaMoon } from 'react-icons/fa';\r\nimport { BsPlus } from \"react-icons/bs\";\r\nimport { MdDeleteForever, MdInsertEmoticon, MdMic, MdVideocam, MdNavigateNext, MdPlayCircleOutline } from 'react-icons/md';\r\n\r\n// import moment from 'moment';\r\n\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport Moment from 'react-moment';\r\nimport { UserBar } from \"./UserBar\";\r\nimport Loading from './Loading';\r\n// import LoadingMini from './Loading-mini';\r\nimport Dropzone from \"react-dropzone\";\r\nimport Picker, { SKIN_TONE_MEDIUM_DARK } from 'emoji-picker-react';\r\nimport AudioAnalyser from './library/AudioAnalyser';\r\nimport Draggable from './Draggable';\r\nimport { AiOutlineQuestionCircle } from 'react-icons/ai';\r\n\r\nconst urlServer = 'https://ndschatserver.herokuapp.com';\r\n\r\nexport default class App3 extends Component {\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            height: window.innerHeight,\r\n            newMessage: '',\r\n            searchUser: '',\r\n            showSearchUser : false,\r\n            isTyping: false,\r\n            showEmoji: false,\r\n            audio: null,\r\n            temp : 5000,\r\n            isShowGetAud: false,\r\n            record: false,\r\n            openToolChat: false,\r\n            English: true,\r\n            iShowConfig: false,\r\n            idRoomChat: '',\r\n            redirect: false,\r\n            isDark: true,\r\n            isBarRight: false,\r\n            isBarLeft: false,\r\n            isRedirect: false,\r\n        }\r\n\r\n    }\r\n\r\n    redirectPageHelp = () => {\r\n        this.setState({isRedirect: true})\r\n    }\r\n    \r\n    updateTheme = (theme) => {\r\n      \r\n        console.log(this.state.isDark);\r\n        console.log(typeof(theme));\r\n        const themeBool = JSON.parse(theme);\r\n        console.log(typeof(themeBool));\r\n        this.setState({\r\n            isDark : !themeBool\r\n        })\r\n    }\r\n\r\n    handleChangeTheme = (e) => {\r\n        \r\n        const { isDark } = this.state;\r\n        e.preventDefault();\r\n\r\n        if(!isDark){\r\n            this.setState({\r\n                isDark: true\r\n            })\r\n        } else {\r\n            this.setState({\r\n                isDark: false\r\n            })\r\n        }\r\n        this.sendThemeToLocal()\r\n    }\r\n\r\n    sendThemeToLocal = () => {\r\n        const { isDark } = this.state;\r\n        const { store } = this.props;\r\n       \r\n            store.setThemeToLocalStorage(isDark);\r\n        \r\n        console.log(\"Sent: \", isDark);\r\n    }\r\n\r\n    getRandomInt(max) {\r\n        return Math.floor(Math.random() * Math.floor(max));\r\n    }\r\n\r\n    handleCreateR = (e) => {\r\n        e.preventDefault();\r\n            const idRoomChat = this.generateId(24);\r\n            this.setState({idRoomChat: idRoomChat});\r\n            console.log(idRoomChat);\r\n    }\r\n\r\n    dec2hex = (dec) => {\r\n        return dec < 10\r\n        ? '0' + _.toString(dec)\r\n        : dec.toString(16)\r\n    }\r\n\r\n    generateId = (len) => {\r\n        var arr = new Uint8Array((len || 40) / 2)\r\n        window.crypto.getRandomValues(arr)\r\n        return Array.from(arr, this.dec2hex).join('')\r\n    }\r\n\r\n    handleCreateRoom = (e) => {\r\n        const { store } = this.props;\r\n        e.preventDefault();\r\n        const { idRoomChat } = this.state;\r\n       \r\n\r\n        if(_.trim(idRoomChat).length){\r\n            const messageId = new ObjectID().toString();\r\n            const channel = store.getActiveChannel();\r\n            const channelId = _.get(channel , '_id', null);\r\n            const currentUser = store.getCurrentUser();\r\n            const message = {\r\n                _id: messageId,\r\n                channelId: channelId,\r\n                body : 'A new Face Moment Created with ID: '+ idRoomChat,\r\n                userId: _.get(currentUser, '_id'),\r\n                type:\"text\",\r\n                me: true,\r\n            };\r\n            \r\n            store.addMessage(messageId, message);\r\n        }\r\n        \r\n        this.setState({\r\n            iShowConfig: false,\r\n            redirect: true,\r\n        });\r\n    }\r\n   \r\n   \r\n    async startRecording() {\r\n        const {store} = this.props;\r\n        const audio = await navigator.mediaDevices.getUserMedia({\r\n          audio: true,\r\n          video: false,\r\n        });\r\n        this.setState({ audio });\r\n        this.setState({isShowGetAud: true});\r\n        this.setState({ record: true });\r\n\r\n        const chunks = [];\r\n        const recoder = new MediaRecorder(audio);\r\n        recoder.start();\r\n\r\n        recoder.ondataavailable = function(e) {\r\n            chunks.push(e.data);\r\n            const namefile = new ObjectID().toString();\r\n            let files = new File(chunks, `${namefile+'.mp3'}` , {type: \"audio/wav\"});\r\n            const path = URL.createObjectURL(files);\r\n            files.path = `${_.toString(path.substring(27)+'.mp3')}`;\r\n            const name = _.toString(files.path);\r\n            files.fileName = `${name}`;\r\n            // console.log(\"file goc 1: \", files);\r\n            let file = [];\r\n            file.push(files);\r\n            // console.log(\"File goc\", file);\r\n            const formData = new FormData();\r\n            formData.append('file', file[0] );\r\n            store.upLoadfile(formData);\r\n        }\r\n    }\r\n        \r\n    //stop\r\n    stopRecording() {\r\n    if(this.state.audio !== null){\r\n            this.state.audio.getTracks().forEach(track => track.stop());\r\n            this.setState({ audio: null });\r\n            this.setState({ record: false }); \r\n        } else {\r\n            console.log(\"Error shortage-lenght!\");\r\n        }\r\n                \r\n    }\r\n\r\n    onClickOutSide1 = (e) => {\r\n        if(this.refSiderBar && !this.refSiderBar.contains(e.target)){\r\n            // console.log(\"Here click out side login form!\");\r\n            this.setState({\r\n                isBarLeft: false,\r\n            })\r\n        }\r\n    }\r\n\r\n    onClickOutSide2 = (e) => {\r\n        if(this.refSiderBarRight && !this.refSiderBarRight.contains(e.target)){\r\n            // console.log(\"Here click out side login form!\");\r\n            this.setState({\r\n                isBarRight: false\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n    onClickOutSide = (e) => {\r\n        if(this.ref && !this.ref.contains(e.target)){\r\n            // console.log(\"Here click out side login form!\");\r\n            this.setState({\r\n                showEmoji: false,\r\n            })\r\n        }\r\n    }\r\n\r\n    onDrop = (files) => {\r\n        const {store} = this.props;\r\n        // console.log(\"file goc: \",files);\r\n        let formData = new FormData();\r\n        formData.append(\"file\", files[0]);\r\n        store.upLoadfile(formData);\r\n        // console.log(\"file format: \",formData);\r\n    }\r\n\r\n    sendTyping = () =>{\r\n        const { store } = this.props;\r\n        const activeChannel = store.getActiveChannel();\r\n        this.lastUpdateTime = Date.now()\r\n        if(!this.state.isTyping){\r\n            this.setState({isTyping:true});\r\n            store.addTyping(activeChannel, true);\r\n            this.startCheckingTyping();\r\n\r\n        }\r\n    }\r\n\r\n\t/*\r\n\t*\tstartCheckingTyping\r\n\t*\tStart an interval that checks if the user is typing.\r\n\t*/\r\n    startCheckingTyping = ()=>{\r\n        console.log(\"Typing\");\r\n        this.typingInterval = setInterval(() => {\r\n            if((Date.now() - this.lastUpdateTime) > 350){\r\n                this.setState({isTyping:false})\r\n                this.stopCheckingTyping()\r\n            }\r\n        }, 300)\r\n    }\r\n\t/*\r\n\t*\tstopCheckingTyping\r\n\t*\tStart the interval from checking if the user is typing.\r\n\t*/\r\n    stopCheckingTyping = () => {\r\n        const { store } = this.props;\r\n        const activeChannel = store.getActiveChannel();\r\n        console.log(\"Stop Typing\");\r\n        if(this.typingInterval){\r\n            clearInterval(this.typingInterval)\r\n            store.addTyping(activeChannel, false);\r\n        // console.log(this.state.isTyping);\r\n        }\r\n    }\r\n\r\n    renderChannelAvatar(channel){\r\n        const {store} = this.props;\r\n\r\n        const members = store.getMembersFromChannel(channel);\r\n\r\n        const maxDisplay = 4;\r\n        const total = members.size > maxDisplay ? maxDisplay : members.size;\r\n\r\n        const avatars = members.map((user, index) => {\r\n\r\n            return index < maxDisplay ?  <img key={index} src={`${urlServer}/${_.get(user, 'avatar')}` || defaultUserImg} alt={_.get(user, 'name')} /> : null\r\n\r\n        });\r\n\r\n        return <div className={className('channel-avatars', `channel-avatars-${total}`)}>{avatars}</div>\r\n    }\r\n\r\n    renderChannelTitle = (channel = null) => {\r\n        const { store } = this.props;\r\n        const members = store.getMembersFromChannel(channel);\r\n         const names = [];\r\n\r\n         members.forEach((user) => {\r\n             const name = _.get(user, 'name')\r\n             names.push(name);\r\n         });\r\n         let title = _.join(names, ', ');\r\n         if(!title && _.get(channel, 'isNew')){\r\n             title = 'New Mss';\r\n         }\r\n        return <div className=\"title-name-channel\">{title}</div>\r\n    }\r\n   \r\n    handleOnClick = (user) => {\r\n       \r\n        const { store } =this.props;\r\n        const userId = _.get(user, '_id');\r\n        const channelId = _.get( store.getActiveChannel(),'_id')\r\n        store.addUserToChannel(channelId, userId);\r\n        this.setState({\r\n            searchUser: '',\r\n        })\r\n    }\r\n\r\n    _onCreateChannel = (e) => {\r\n        e.preventDefault()\r\n        const { store } =this.props;\r\n        const currentUser = store.getCurrentUser();\r\n        const currentUserId = _.get(currentUser, '_id');\r\n        const channelId = new ObjectID().toString();\r\n        const channel = {\r\n            _id: channelId,\r\n            title: \"\",\r\n            lastMessage: \"Let's a chat\",\r\n            members: new OrderedMap(),\r\n            messages: new OrderedMap(),\r\n            isNew: true,\r\n            userId: currentUserId,\r\n            created: new Date(),\r\n            typing: false,\r\n        };\r\n        channel.members = channel.members.set(currentUserId, true);\r\n        store.onCreateNewChannel(channel);\r\n    }\r\n\r\n    scrollMessagesToBottom = () => {\r\n        if(this.messagesRef){\r\n            this.messagesRef.scrollTop = this.messagesRef.scrollHeight;\r\n        }\r\n    }\r\n \r\n    handlePlayMusic = (music) => {\r\n       \r\n        try {\r\n            this.audio.pause();\r\n            this.audio.currentTime = 0;\r\n         \r\n        } catch (e) {\r\n          console.log(e);\r\n        }\r\n       \r\n        this.audio = new Audio(music);\r\n        this.audio.play();\r\n        \r\n    }\r\n\r\n\r\n    // handleStopMusic = (music) => {\r\n    //     this.audio = new Audio(music);\r\n    //     this.audio.pause()\r\n    // }\r\n\r\n    handleSubmit = (e) => {\r\n\r\n        const { newMessage } = this.state;\r\n        const { store } = this.props;\r\n        e.preventDefault();\r\n\r\n        if(_.trim(newMessage).length){\r\n            const messageId = new ObjectID().toString();\r\n            const channel = store.getActiveChannel();\r\n            const channelId = _.get(channel , '_id', null);\r\n            const currentUser = store.getCurrentUser();\r\n            const message = {\r\n                _id: messageId,\r\n                channelId: channelId,\r\n                body : newMessage,\r\n                userId: _.get(currentUser, '_id'),\r\n                type:\"text\",\r\n                me: true,\r\n            };\r\n            \r\n            store.addMessage(messageId, message);\r\n            this.setState({newMessage: \"\"});\r\n        }\r\n        this.setState({\r\n            newMessage: \"\",\r\n            showEmoji: false\r\n        });\r\n\r\n    };\r\n    \r\n    _onResi = () => {\r\n        this.setState({height: window.innerHeight});\r\n    }\r\n    // addTestMessages = () => {\r\n    //     const {store} = this.props\r\n\r\n      \r\n    //     for(let i = 0; i < 20; i++){\r\n    //         let isMe = false;\r\n    //         if(i % 2 === 0) {\r\n    //             isMe = true;\r\n    //         }\r\n    //         const newMsg = {\r\n    //             _id: `${i}`,\r\n    //             author: `Author: ${i}`,\r\n    //             body: `The body of message ${i}`,\r\n    //             avatar: defaultImg,\r\n    //             me: isMe,\r\n    //             timing: '0:00'\r\n    //         }\r\n    //         store.addMessage(i, newMsg);\r\n\r\n    //     }\r\n\r\n    //     for (let c = 0; c<10; c++){\r\n    //         const newChannel ={\r\n    //             _id: `${c}`,\r\n    //             title: `Channel title ${c}`,\r\n    //             lastMessage: `Hey there is.. ${c}`,\r\n    //             members: new OrderedMap({\r\n    //                 '1': true,\r\n    //                 '2': true,\r\n    //             }),\r\n    //             messages: new OrderedMap(),\r\n    //             created: new Date(),\r\n    //         }\r\n    //         const moreMsgId =`${c + 1}`;\r\n    //         const msgId = `${c}`;\r\n    //         newChannel.messages = newChannel.messages.set(msgId, true);\r\n    //         newChannel.messages = newChannel.messages.set(moreMsgId, true);\r\n    //         store.addChannel(c, newChannel);\r\n    //     }\r\n\r\n    // }\r\n\r\n    componentDidUpdate(){\r\n        this.scrollMessagesToBottom();\r\n        // console.log(this.state.isDark)\r\n        // console.log(\"CDidUpdate\");\r\n       \r\n    }\r\n\r\n    componentDidMount(){\r\n        const { store } = this.props;\r\n        window.addEventListener('resize', this._onResi);\r\n        window.addEventListener('mousedown', this.onClickOutSide);\r\n        window.addEventListener('mousedown', this.onClickOutSide1);\r\n        window.addEventListener('mousedown', this.onClickOutSide2);\r\n        const theme = store.getThemeFromLocalStorage();\r\n        this.updateTheme(theme);\r\n        // this.addTestMessages();\r\n        // console.log(\"CDidMount\");\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        this.stopCheckingTyping()\r\n        window.removeEventListener('resize', this._onResi);\r\n        window.removeEventListener('mousedown', this.onClickOutSide);\r\n        window.removeEventListener('mousedown', this.onClickOutSide1);\r\n        window.removeEventListener('mousedown', this.onClickOutSide2);\r\n        // console.log(\"CWillUnMount\");\r\n    }\r\n    \r\n    render() {\r\n\r\n        const { height, newMessage, showEmoji, isShowGetAud, openToolChat, English, iShowConfig, redirect, isDark, isBarLeft, isBarRight } = this.state;\r\n        const { store } = this.props;\r\n        const isConnected = store.isConnected();\r\n        const activeChannel = store.getActiveChannel();\r\n        const messages = store.getMessagesFromChannel(activeChannel);\r\n        const members = store.getMembersFromChannel(activeChannel);\r\n        const channels = store.getChannels();\r\n        const usersList = store.getSearchUsers();\r\n        const me = store.getCurrentUser();\r\n      \r\n\r\n        const onEmojiClick = (event, emojiObject) => {\r\n            this.setState({newMessage:`${emojiObject.emoji}`});\r\n            // console.log(`${emojiObject.emoji}`);\r\n        }\r\n       \r\n        const style = {\r\n            height: height,\r\n        }\r\n        \r\n        const resultSearch = () => {\r\n\r\n                return (\r\n                    <div className=\"search-user\">\r\n                        <div className=\"user-list\">\r\n                        {usersList.map((user, index) =>{\r\n                            return <div onClick={() => this.handleOnClick(user)} key={index} className=\"user\">\r\n                            <img src={`${urlServer}/${user.avatar}` || defaultUserImg} alt={user.name} />\r\n                            <span>{user.name}</span>\r\n                        </div>\r\n                        })\r\n                        } \r\n                        </div>\r\n                    </div>\r\n                )\r\n        }\r\n        if(redirect){\r\n            return <Redirect to={\"/ndsappbeta/chat/Facemoment/\" \r\n            + this.state.idRoomChat\r\n            + '?' + _.get(me, '_id') + this.getRandomInt(9)\r\n        }/>\r\n        }\r\n\r\n        if(this.state.isRedirect){\r\n            return <Redirect to={\"/ndsappbeta/about/help\"} />\r\n        }\r\n\r\n        return (\r\n            \r\n            <div style={style} className=\"app3\">\r\n               <div className={className('chat-header', {'darkTheme': !isDark})}>\r\n                {_.get(activeChannel, 'isNew') ? null\r\n                :\r\n                <div className=\"header-left\">\r\n\r\n                    <div className=\"action\">\r\n                        <Link to='' onClick={(e) => this._onCreateChannel(e)} className=\"btn-primary\">AddNew</Link>\r\n                    </div>\r\n                    <div className=\"action-mini\">\r\n                    <Tooltip title=\"Add New Channel\" placement=\"left-start\">\r\n                        <IconButton  onClick={(e) => this._onCreateChannel(e)} style={{color: \"rgba(199, 159, 199, 0.9)\"}} >\r\n                            <BsPlus style={{fontSize:'2.2rem'}} />\r\n                        </IconButton>\r\n                    </Tooltip>\r\n                    </div>\r\n\r\n                </div>\r\n                }\r\n                {_.get(activeChannel, 'isNew') ? <div className=\"toolbar\">\r\n                    <form className=\"tool\">\r\n                        <textarea\r\n                        type=\"text\"\r\n                        value ={ this.state.searchUser }\r\n                        placeholder=\"Name/ID/Email\"\r\n                        autoFocus\r\n                        onChange = {(e) => {\r\n                            const searchTxt = _.get(e, 'target.value');\r\n                            this.setState({\r\n                                searchUser: searchTxt,\r\n                            }, () => {\r\n                                store.startSearchUsers(searchTxt);\r\n                            })\r\n                        }}\r\n                        />\r\n                    </form>\r\n\r\n                    {resultSearch()}\r\n                    </div> : null }\r\n\r\n                    <div className=\"header-mid\">\r\n                        { this.renderChannelTitle(activeChannel) }\r\n                    </div>\r\n                    <div className=\"header-right\">\r\n                            <UserBar store = { store } />\r\n                        {/* <div className=\"toolsRight-bar\" > */}\r\n                            <IconButton onClick={this.handleChangeTheme} style={{ color: \"rgba(199, 119, 199, 0.9)\"}}>\r\n                                { !isDark ? <FaSun /> : <FaMoon />}\r\n                            </IconButton>\r\n                        {/* </div>\r\n                        <div className=\"toolsRight-bar\" > */}\r\n                            <IconButton style={{ color: \"rgba(199, 119, 199, 0.9)\"}}>\r\n                                <AiOutlineQuestionCircle onClick={this.redirectPageHelp}></AiOutlineQuestionCircle>\r\n                            </IconButton>\r\n                        {/* </div> */}\r\n                    </div>\r\n                </div>\r\n\r\n\r\n                {/* main chat body */}\r\n                <div className='chat-main'>\r\n\r\n                    {/* side bar left with channel */}\r\n                    <div className={className('sidebar-left', {'darkTheme': !isDark}, {'openbarLeft': isBarLeft})}  ref = {(ref) => this.refSiderBar = ref}>\r\n                        <div className=\"chanels\">\r\n                            {channels.map((channel, index) => {\r\n                                return (\r\n                                    <div onClick= {(index) => {\r\n                                        store.setActiveChannelId(channel._id);\r\n                                    }} key={channel._id} className={className('chanel', {'active' : _.get(activeChannel, '_id') === _.get(channel, '_id', null)})}>\r\n                                        <div className=\"user-img\">\r\n                                            {this.renderChannelAvatar(channel)}\r\n                                        </div>\r\n                                        <div className={className('chanel-info',{'notify': _.get(channel, 'notify', null)})}>\r\n                                            {this.renderChannelTitle(channel)}\r\n                                            <p>{\r\n                                            (( `${channel.lastMessage}`).substring(0, 7) === 'uploads') ? 'An Attached file'\r\n                                            :\r\n                                            `${channel.lastMessage}`\r\n                                            }</p>\r\n                                        </div>\r\n                                    </div>\r\n                                )\r\n                            })}\r\n                            \r\n                        </div>\r\n                    </div>\r\n\r\n\r\n                    {\r\n                        iShowConfig ?  <Draggable style={{\r\n                            zIndex: 101,\r\n                            position: 'absolute',\r\n                            right: 0,\r\n                            cursor: 'move',\r\n                            maxHeight: '40rem',\r\n                        }}>\r\n                            <div className=\"conf-video\">\r\n                                 <ul className=\"form-container\">\r\n                                     <h4>\r\n                                        Config Face Moment\r\n                                     </h4>\r\n                                     <form onSubmit={this.handleCreateRoom} >\r\n                                     <li>\r\n                                        <label htmlFor=\"text\">\r\n                                        ID Room\r\n                                        </label>\r\n                                        <input\r\n                                        // onChange={(e) => this.onTxtfieldChange(e) } \r\n                                        placeholder=\"ndsRoom\" \r\n                                        required=\"true\" type=\"text\" name=\"room\"\r\n                                        value ={ this.state.idRoomChat }\r\n                                        onChange = {({target})=>{\r\n                                            this.setState({ idRoomChat: target.value })\r\n                                        }}\r\n                                        autoFocus\r\n                                        id=\"room\" ></input>\r\n                                    </li>\r\n                                    <li>\r\n                                        <div onClick = {this.handleCreateR} className=\"autofill-ID\">CreateRanDom</div>\r\n                                    </li>\r\n                                     </form>\r\n                                    \r\n                                    <div className=\"footer-conf-video\">\r\n                                       \r\n                                        <button type=\"button\"  onClick = { (e) => {this.setState({iShowConfig: false})}} className=\"login-btn\">CANCEL</button>\r\n                                        <button type=\"submit\"  onClick = {this.handleCreateRoom} className=\"login-btn\">CONTINUE</button>\r\n                                         \r\n                                    </div>\r\n\r\n                                    <div>\r\n                                        <h5>Instruction <SiConvertio onClick = {(e) => {this.setState({English: !English})}}/></h5>\r\n\r\n                                        {English ?  <p>\r\n                                            <li>Enter ID for the Face Moment room and choose continue</li>\r\n                                            <li>Continue means you accept access we using your account registered with the system. And all are confidential.</li>\r\n                                            <li>Make sure your friend knows <b>exactly</b> ID of the Face Moment room so they can re-enter and continue with it</li>\r\n                                            <li>After choosing to continue, the browser will open a Face Moment window consisting of people who have joined by the room name Face Moment</li>\r\n                                            <li style={{alignItems:'center'}}>To leave the Face Moment session you select the <CgCloseO /> icon, Face Moment will self-cancel when there is no member.</li>\r\n                                            <li>Shouldn't leaving Face Moment <b>the wrong way</b> to avoid affecting the connection of the other people.</li>\r\n                                            <span>ThankYou so much, according to nDs</span>\r\n                                        </p>\r\n                                        :\r\n                                        <p>\r\n                                            <li>Nhập ID phòng Face Moment và chọn tiếp tục</li>\r\n                                            <li>Tiếp tục đồng nghĩa bạn chấp nhận truy cập dùng tài khoản của bạn đã đăng kí với hệ thống. Và tất cả đều được bảo mật.</li>\r\n                                            <li>Đảm bảo rằng bạn của bạn biết <b>chính xác</b> ID của phòng Face Moment để họ có thể nhập lại và tiếp tục với nó</li>\r\n                                            <li>Sau khi chọn tiếp tục trình duyệt sẽ mở cửa sổ Face Moment gồm những người đã tham gia bằng tên phòng Face Moment</li>\r\n                                            <li style={{alignItems:'center'}}>Để rời khỏi phiên Face Moment bạn chọn vào biểu tượng <CgCloseO />, Face Moment sẽ tự huỷ khi không còn thành viên nào.</li>\r\n                                            <li>Hạn chế rời khỏi Face Moment <b>sai cách</b> để tránh ảnh hưởng đến kết nối của những người còn lại.</li>\r\n                                            <span>Cảm ơn mọi người, theo nDs</span>\r\n                                        </p>\r\n                                        }\r\n                                       \r\n                                        \r\n                                    </div>\r\n                                 </ul>\r\n                            </div>\r\n                        </Draggable>\r\n                        : null\r\n                    }\r\n\r\n\r\n                    {/* chat content main */}\r\n                   \r\n                    <div className={className(\"chat-content\", {'darkTheme': !isDark})}>\r\n                    {   me ? <div className={className(\"toolChat\", {'darkTheme': !isDark})}>\r\n                            <div className=\"controlSiderBar\">\r\n                                <Tooltip title=\"Channels\" placement=\"left-start\">\r\n                                <IconButton style={{ color: \"rgba(199, 119, 199, 0.9)\"}} onClick = {(e) => {this.setState({isBarLeft: !isBarLeft})}}>\r\n                                    <IoMdListBox />\r\n                                </IconButton>\r\n                                </Tooltip>\r\n\r\n                                <Tooltip title=\"Members\" placement=\"left-start\">\r\n                                <IconButton style={{ color: \"rgba(199, 119, 199, 0.9)\"}} onClick = {(e) => {this.setState({isBarRight: !isBarRight})}}>\r\n                                    <IoMdPeople />\r\n                                </IconButton>\r\n                                </Tooltip>\r\n                            </div>\r\n                            <div>\r\n                                {!openToolChat ?  <IconButton style={{ color: \"rgba(199, 119, 199, 0.9)\"}} onClick = {()=>this.setState({openToolChat: !openToolChat})}><CgMoreVerticalAlt /></IconButton> : <div className=\"toolChats\">\r\n                                    <IconButton style={{ color: \"rgba(199, 119, 199, 0.9)\"}} onClick = {()=>this.setState({iShowConfig: !iShowConfig})}>\r\n                                        <MdVideocam />\r\n                                    </IconButton>\r\n                                     <IconButton style={{ color: \"rgba(199, 119, 199, 0.9)\"}}>\r\n                                    <Dropzone onDrop={this.onDrop}>\r\n                                        {({getRootProps, getInputProps}) => (\r\n                                            <section>\r\n                                            <div {...getRootProps()}>\r\n                                                <input {...getInputProps()} />\r\n                                                    <CgSoftwareUpload />\r\n                                            </div>\r\n                                            </section>\r\n                                        )}\r\n                                    </Dropzone>\r\n                                    </IconButton >\r\n                                    <IconButton style={{ color: \"rgba(199, 119, 199, 0.9)\"}} onClick = {(e) => {this.setState({openToolChat: !openToolChat})}}>\r\n                                        <MdNavigateNext  />\r\n                                    </IconButton>\r\n                                </div>\r\n                                }\r\n                            </div>\r\n                           \r\n                        </div>\r\n                        : \r\n                        <div className={className(\"app-say\", {'darkTheme': !isDark})}>\r\n                            <h3>LOGIN to ACTIVE PAGE</h3>\r\n                            <div className=\"animation-wait\">\r\n                                <Loading></Loading>\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                        \r\n                        <div  className=\"messages\">\r\n                            <ul className=\"wrap-message\" ref={(ref) => this.messagesRef = ref}>\r\n                            { \r\n                                messages.map((mess, index) => { \r\n                                    const user = _.get(mess, 'user');\r\n                                    return (\r\n                                   \r\n                                        <li key={index} className={`${mess.me ? 'message-me' : 'message'}`}>\r\n\r\n                                        <img src={`${urlServer}/${_.get(user, 'avatar')}` || defaultUserImg} alt=\"user-img\" className=\"img-user\"></img>\r\n\r\n                                        <div className=\"message-body\">\r\n\r\n                                            <div className=\"username\">{`${mess.me ? 'You' : _.get(mess, 'user.name')}`} say: </div>\r\n                                            \r\n                                            <p className=\"message-text\">\r\n\r\n                                                    { (mess.type === `text`) ? <p>{mess.body}</p>\r\n                                                    // this will be either video or image \r\n                                                    :\r\n                                                    \r\n                                                    ((`${mess.body}`).substring((`${mess.body}`).length - 3, (`${mess.body}`).length) === 'mp3' ? \r\n                                            \r\n                                                        <div className=\"audio-message\" > <MdPlayCircleOutline style={{fontSize: '1.5rem', alignItems:'center'}} onClick= {() => this.handlePlayMusic(`https://ndschatserver.herokuapp.com/${mess.body}`)} /> Click to Play</div>\r\n                                                        :\r\n                                                        ((`${mess.body}`).substring((`${mess.body}`).length - 3, (`${mess.body}`).length) === 'mp4' ?\r\n                                                            <video style={{ maxWidth: '20rem' }} src={`${urlServer}/${mess.body}`} alt=\"video\" controls />\r\n                                                            :\r\n                                                            <img style={{ maxWidth: '20rem' }} src={`${urlServer}/${mess.body}`} alt=\"img\" />\r\n                                                        )\r\n                                                        )\r\n                                                } \r\n                                                {/* { this.renderMessage(mess) } */}\r\n                                                <p className=\"timing\"><Moment fromNow>{mess.created}</Moment></p>\r\n\r\n                                            </p>\r\n                                        </div>\r\n                                        </li>\r\n                                    \r\n                                    \r\n                                    );\r\n                                   \r\n                                })\r\n                            }\r\n                            </ul>\r\n                        </div>\r\n                        {\r\n                        isShowGetAud ? <div className=\"getAdi\">\r\n                                <div>\r\n                                {this.state.audio ? <AudioAnalyser audio={this.state.audio} /> : null}\r\n                                </div>\r\n                        </div> : null\r\n                        }\r\n\r\n                        {_.get(activeChannel, 'typing') && _.get(activeChannel, 'typier') !== _.get(me, '_id') ? <div  disabled = { newMessage.length > 1 } className=\"typing-status\">Is Typing..</div> : null}\r\n                        \r\n\r\n                        {   members.size > 0 ? <div className=\"message-input\">\r\n                            <form \r\n                                onSubmit= { this.handleSubmit }\r\n                                disabled = { newMessage.length < 1 }\r\n                                className=\"message-form\">\r\n\r\n                                {showEmoji ? <div className=\"emoji\" ref = {(ref) => this.ref = ref}>\r\n                                    <Picker  onEmojiClick={onEmojiClick} skinTone={SKIN_TONE_MEDIUM_DARK}/>\r\n                                </div> : null }\r\n\r\n                                <IconButton style={{ color: \"rgba(199, 119, 199, 0.9)\"}} onClick = {() => {this.setState({showEmoji: !showEmoji})}}>\r\n                                    <MdInsertEmoticon />\r\n                                </IconButton>\r\n\r\n                                <textarea  \r\n                                    id = \"message\"\r\n                                    ref={(input)=> this.input = input}\r\n                                    type = \"text\"\r\n                                    className = \"form-control\"\r\n                                    value = { newMessage }\r\n                                    autoComplete = {'off'}\r\n                                    placeholder = \"Type words\"\r\n                                    onKeyUp = { (e) => { \r\n                                        { if(e.keyCode === 13 && !e.shiftKey) \r\n                                            { this.handleSubmit(e); }}\r\n                                        { if( e.keyCode !== 13 ){ this.sendTyping() }}\r\n                                        }\r\n                                    }\r\n                                    onKeyDown={(e) => {\r\n                                        console.log(\"keycode\", e.keyCode);\r\n                                        console.log(\"value e\", e);\r\n                                    }}\r\n                                    onChange = {\r\n                                    \t({target})=>{\r\n                                    \t\tthis.setState({newMessage:target.value})\r\n                                    \t}\r\n                                    }\r\n                                    />\r\n\r\n                                \r\n                                    {/*onClick = {() => this.toggleMicrophone()} */}\r\n                                    <IconButton style={{ color: \"rgba(199, 119, 199, 0.9)\"}} >\r\n                                        <MdMic onMouseDown= {() => {this.startRecording()}} onMouseUp= {() => {this.stopRecording()}} />\r\n                                    </IconButton>\r\n                            \r\n                                <button\r\n                                    disabled = { newMessage.length < 1 }\r\n                                    type = \"submit\"\r\n                                    className = \"send\"\r\n                                    onClick = { this.handleSubmit }\r\n                                > Send </button>\r\n                            </form>\r\n\t\t\t                </div>\r\n                            :\r\n                            null\r\n                        }\r\n                    </div>\r\n                   \r\n\r\n                   {/* sidebar right with member list */}\r\n                    <div className={className(\"sidebar-right\", {'darkTheme': !isDark}, {'openbarRight': isBarRight} )} ref = {(ref) => this.refSiderBarRight = ref}>\r\n                        <div className=\"title-right\">Members</div>\r\n                        <div className=\"chanels\" ref = {(ref) => this.refSiderBarRight = ref}>\r\n                            { members.map((member, index) => {\r\n\r\n                                const isOnline = _.get(member, 'online', false);\r\n                                return (\r\n                                    <div key ={ index } className=\"chanel\">\r\n\r\n                                        <div className=\"user-img-channel\">\r\n                                            <img src={`${urlServer}/${_.get(member, 'avatar')}` || defaultUserImg} alt=\"user-img\" />\r\n                                            <span className={className('user-status', {'online': isOnline})}></span>\r\n                                        </div>\r\n                                        <div className=\"chanel-info\">\r\n                                            <h4>{ member.name }</h4>\r\n                                            <p><Moment fromNow>2020-10-23T23:28:11.746Z</Moment></p>\r\n                                        </div>\r\n                                        <div onClick = {() => {\r\n                                            store.removeMemberFromChannel(activeChannel, member);\r\n                                        }}\r\n                                         className=\"icon-DelUser\">\r\n                                        <IconButton  style={{ color: \"rgb(200, 68, 20)\", fontSize: \"20\"}}>\r\n                                            <MdDeleteForever />\r\n                                        </IconButton>\r\n                                        </div>\r\n\r\n                                    </div>\r\n                                )\r\n                            })}\r\n                            \r\n                        </div>\r\n                        \r\n                    </div>\r\n                    \r\n\r\n                </div>\r\n                \r\n                <div className={className(\"chat-footer\", {'darkTheme': !isDark})}>\r\n                    {/* <div className=\"footer-left\">\r\n                        <div className=\"action\">\r\n                            <Link to='' onClick={(e) => this._onCreateChannel(e)} className=\"btn-primary\">AddNew</Link>\r\n                        </div>\r\n                    </div> */}\r\n                \r\n                    <div className=\"footer-mid\">\r\n                       <h4><a href=\"https://ndscoop.github.io/ndsappbeta/\">AllRight nDs, 2022</a></h4>\r\n                    </div>\r\n                    <div className=\"footer-right\">\r\n                    {!me && !isConnected ? <div className=\"app-warning-state\">Reconnecting..</div> : <div className=\"app-success-state\">Connected</div>}\r\n                    </div>\r\n                </div>  \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\n","import React, { Component } from 'react';\r\nimport { MdVideocam, MdVideocamOff, MdMicOff, MdMic } from 'react-icons/md';\r\nclass Video extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      mic: true,\r\n      camera: true,\r\n      // currentStream: new MediaStream(),\r\n      // videoTrack: false,\r\n      videoVisible: true,\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.videoStream) {\r\n      this.video.srcObject = this.props.videoStream\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n\r\n    // console.log('1. nextProps', this.props.showMuteControls, nextProps.videoStream && nextProps.videoStream.getTracks())\r\n    console.log('1', this.props.videoType, nextProps.videoStream)\r\n\r\n    // This is done only once\r\n    if (nextProps.videoStream && nextProps.videoStream !== this.props.videoStream) {\r\n    // if (!this.props.videoStream) {\r\n      console.log('2', this.props.videoType, nextProps.videoStream)\r\n      this.video.srcObject = nextProps.videoStream\r\n    }\r\n\r\n    // This is done only once when we receive a video track\r\n    const videoTrack = nextProps.videoStream && nextProps.videoStream.getVideoTracks()\r\n    if (this.props.videoType === 'remoteVideo' && videoTrack && videoTrack.length) {\r\n\r\n      videoTrack[0].onmute = () => {\r\n        // alert('muted')\r\n        this.setState({\r\n          videoVisible: false,\r\n        })\r\n        this.props.videoMuted(nextProps.videoStream)\r\n      }\r\n\r\n      videoTrack[0].onunmute = () => {\r\n        this.setState({\r\n          videoVisible: true,\r\n        })\r\n        this.props.videoMuted(nextProps.videoStream)\r\n      }\r\n    }\r\n\r\n\r\n    const audioTrack = nextProps.videoStream && nextProps.videoStream.getAudioTracks()\r\n    if (this.props.videoType === 'remoteVideo' && audioTrack && audioTrack.length) {\r\n      audioTrack[0].onmute = () => {\r\n        alert('muted')\r\n        // this.setState({\r\n        //   videoVisible: false,\r\n        // })\r\n        // this.props.videoMuted(nextProps.videoStream)\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  mutemic = (e) => {\r\n    try{\r\n      const stream = this.video.srcObject.getTracks().filter(track => track.kind === 'audio')\r\n      this.setState(prevState => {\r\n        if (stream) stream[0].enabled = !prevState.mic\r\n        return {mic: !prevState.mic}\r\n      })\r\n    }\r\n    catch (err) {\r\n      console.error(err);\r\n    }\r\n  }\r\n\r\n  mutecamera = (e) => {\r\n    try{\r\n      const stream = this.video.srcObject.getTracks().filter(track => track.kind === 'video')\r\n      this.setState(prevState => {\r\n        if (stream) stream[0].enabled = !prevState.camera\r\n        return {camera: !prevState.camera}\r\n      })\r\n    }\r\n    catch(error){\r\n      console.error(error);\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const muteControls = this.props.showMuteControls && (\r\n      <div style={{display:'flex', justifyContent: 'flex-end'}}>\r\n        <i onClick={this.mutemic} style={{ cursor: 'pointer', padding: 5, fontSize: 20, color: this.state.mic ? 'white' : 'red' }}>{this.state.mic ? <MdMic /> : <MdMicOff />}</i>\r\n        <i onClick={this.mutecamera} style={{ cursor: 'pointer', padding: 5, fontSize: 20, color: this.state.camera ? 'white' : 'red' }}>{this.state.camera ? <MdVideocam /> : <MdVideocamOff />}</i>\r\n      </div>\r\n    )\r\n\r\n    return (\r\n      <div\r\n        style={{ ...this.props.frameStyle,  }}\r\n      >\r\n        {/* <audio id={this.props.id} muted={this.props.muted} ref={ (ref) => {this.video = ref }}></audio> */}\r\n        <video\r\n          id={this.props.id}\r\n          muted={this.props.muted}\r\n          autoPlay\r\n          style={{\r\n            visibility: this.state.videoVisible ? 'visible' : 'hidden',\r\n            ...this.props.videoStyles,\r\n          }}\r\n          // ref={ this.props.videoRef }\r\n          ref={ (ref) => {this.video = ref }}\r\n        ></video>\r\n        {muteControls}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Video","import React, {Component} from 'react'\r\nimport Video from './Video'\r\n\r\nclass Videos extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      rVideos: [],\r\n      remoteStreams: [],\r\n      selectedVideo: null,\r\n      videoVisible: false,\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (this.props.remoteStreams !== nextProps.remoteStreams) {\r\n\r\n      const NoOfRemoteStreams = nextProps.remoteStreams.length\r\n\r\n      let selectedVideo = {}\r\n\r\n      if (NoOfRemoteStreams === 1)\r\n        selectedVideo = { selectedVideo: nextProps.remoteStreams[0] }\r\n      else {\r\n        selectedVideo = (this.state.selectedVideo && nextProps.remoteStreams.filter(stream => stream.id === this.state.selectedVideo.id)) || []\r\n\r\n        selectedVideo = selectedVideo.length ? {} : { selectedVideo: nextProps.remoteStreams[NoOfRemoteStreams-1] }\r\n      }\r\n\r\n      let _rVideos = nextProps.remoteStreams.map((rVideo, index) => {\r\n\r\n        const _videoTrack = rVideo.stream.getTracks().filter(track => track.kind === 'video')\r\n        // if (_videoTrack.length)\r\n        //   _videoTrack[0].onmute = () => {\r\n        //     alert('muted')\r\n        //   }\r\n\r\n        let video = _videoTrack ? (\r\n          <Video\r\n            videoMuted={this.videoMuted}\r\n            videoType='remoteVideo'\r\n            videoStream={rVideo.stream}\r\n            frameStyle={{\r\n              backgroundColor: '#ffffff12',\r\n              maxWidth: 120, maxHeight: 120,\r\n              borderRadius: 5,\r\n              float: 'left', margin: '0 10px'\r\n            }}\r\n            videoStyles={{\r\n              objectFit: 'cover',\r\n              borderRadius: 5,\r\n              width: 120, height: 120,\r\n              maxWidth: 120, maxHeight: 120,\r\n            }}\r\n          ></Video>\r\n        ) : <div></div>\r\n\r\n        return (\r\n          <div\r\n            id={rVideo.id}\r\n            onClick={() => this.switchVideo(rVideo)}\r\n            style={{ \r\n              cursor: 'pointer', display: 'inline-block'\r\n            }}\r\n            key={index}\r\n          >\r\n            {video}\r\n            {/* {rVideo.name} */}\r\n           \r\n          </div>\r\n\r\n        )\r\n      })\r\n      this.setState({\r\n        remoteStreams: nextProps.remoteStreams,\r\n        rVideos: _rVideos,\r\n        ...selectedVideo,\r\n      })\r\n    \r\n    }\r\n  }\r\n\r\n  videoMuted = (rVideo) => {\r\n    const muteTrack = rVideo.getVideoTracks()[0]\r\n    const isSelectedVideo = rVideo.id === this.state.selectedVideo.stream.id\r\n    if (isSelectedVideo) {\r\n      this.setState({\r\n        videoVisible: !muteTrack.muted\r\n      })\r\n    }\r\n  }\r\n\r\n  switchVideo = (_video) => {\r\n    const muteTrack = _video.stream.getVideoTracks()[0]\r\n    this.setState({\r\n      selectedVideo: _video,\r\n      videoVisible: !muteTrack.muted\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Video\r\n          videoType='previewVideo'\r\n          frameStyle={{\r\n            zIndex: 1,\r\n            position: 'fixed',\r\n            bottom: 0,\r\n            top: 0,\r\n            minWidth: '100%', minHeight: '100%',\r\n            backgroundColor: 'black',\r\n            padding: '.2rem',\r\n          }}\r\n          videoStyles={{\r\n            minWidth: '100%', minHeight: '100%',\r\n            visibility: (this.state.videoVisible && 'visible') || 'hidden',\r\n          }}\r\n          videoStream={this.state.selectedVideo && this.state.selectedVideo.stream}\r\n        />\r\n        <div className=\"stream-list\"\r\n          style={{\r\n            zIndex: 3,\r\n            position: 'fixed',\r\n            padding: '6px 3px',\r\n            backgroundColor: 'rgba(0,0,0,0.3)',\r\n            maxHeight: 120,\r\n            top: 'auto',\r\n            right: 10,\r\n            left: 10,\r\n            bottom: 10,\r\n            overflowX: 'scroll',\r\n            overflowY: 'hidden',\r\n            whiteSpace: 'nowrap'\r\n          }}\r\n        >\r\n          { this.state.rVideos }\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nexport default Videos","import React, { useState, useEffect } from 'react'\r\nimport DragDrop from './DragDrop'\r\n\r\nconst Chat = props => {\r\n  const [message, setMessage] = useState('')\r\n  const [user, setUser] = useState({ uid: 0, })\r\n  const [imageZoom, setImageZoom] = useState(false)\r\n  const [selectedImage, setSelectedImage] = useState('')\r\n\r\n  const scrollToBottom = () => {\r\n    const chat = document.getElementById(\"chatList\");\r\n    chat.scrollTop = chat.scrollHeight\r\n  }\r\n\r\n  useEffect(() => {\r\n    scrollToBottom()\r\n    setUser({ \r\n      uid: props.user.uid,\r\n      name: props.user.name,\r\n     })\r\n  }, [props])\r\n\r\n  const sendMessage = (msg) => {\r\n    props.sendMessage(msg);\r\n    scrollToBottom()\r\n  }\r\n\r\n  const handleSubmit = event => {\r\n    if (message === '') return\r\n    event.preventDefault();\r\n    sendMessage({type:'text', message: { id: user.uid, sender: {uid: user.uid, name: user.name, }, data: { text: message } }})\r\n    setMessage('')\r\n  };\r\n\r\n  const handleChange = event => {\r\n    setMessage(event.target.value)\r\n  }\r\n\r\n  const renderMessage = (userType, data) => {\r\n    console.log('===========', data)\r\n    const message = data.message\r\n\r\n    const msgDiv = data.type === 'text' ? (\r\n      <div className=\"msg\">\r\n        <p>{message.sender.name}</p>\r\n        <div className=\"message\"> {message.data.text}</div>\r\n      </div>\r\n    ) : (\r\n      <div className=\"msg\">\r\n        <p>{message.sender.name}</p>\r\n        <img\r\n          onClick={() => {\r\n            setImageZoom(true)\r\n            setSelectedImage(message.data)\r\n          }}\r\n          className=\"message\"\r\n          style={{\r\n            width: 200,\r\n            // height: 100\r\n            cursor: 'pointer',\r\n          }}\r\n          src={message.data} alt=\"img\" />\r\n      </div>\r\n    )\r\n\r\n    return (<li className={userType} >{ msgDiv }</li>)\r\n\r\n  }\r\n\r\n  const showEnlargedImage = (data) => {\r\n    return (<img\r\n      src={data}\r\n      alt=\"img\"\r\n      style={{\r\n        backgroundColor: 'black',\r\n        position: 'relative',\r\n        zIndex: 100,\r\n        display: 'block',\r\n        cursor: 'pointer',\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n        padding: 20,\r\n        borderRadius: 20,\r\n      }}\r\n      onClick={() => setImageZoom(false)}\r\n    />)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {imageZoom && showEnlargedImage(selectedImage)}\r\n\r\n      <div className=\"chatWindow\" style={{\r\n        zIndex: 10,\r\n        position: 'absolute',\r\n        right: 5,\r\n        top: 190,\r\n        bottom: 140,\r\n        width: 350,\r\n        // height: 650,\r\n    }}>\r\n        <ul className=\"chat\" id=\"chatList\">\r\n          {props.messages.map(data => (\r\n            <div key={data.id}>\r\n              {user.uid === data.message.sender.uid ? renderMessage('self', data) : (renderMessage('other', data))}\r\n            </div>\r\n          ))}\r\n        </ul>\r\n        <DragDrop\r\n          className=\"chatInputWrapper\"\r\n          sendFiles={(files) => {\r\n            const reader = new FileReader()\r\n            reader.onload = (e) => {\r\n              //https://blog.mozilla.org/webrtc/large-data-channel-messages/\r\n              //https://lgrahl.de/articles/demystifying-webrtc-dc-size-limit.html\r\n              const maximumMessageSize = 262118 //65535 <=== 64KiB // 16384 <=== 16KiB to be safe\r\n              if (e.target.result.length <= maximumMessageSize)\r\n                sendMessage({ type: 'image', message: { id: user.uid, sender: { uid: user.uid, name: user.name, }, data: e.target.result } })\r\n              else\r\n                alert('Message exceeds Maximum Message Size!')\r\n            }\r\n\r\n            reader.readAsDataURL(files[0])\r\n          }}\r\n        >\r\n          <div>\r\n            <form onSubmit={handleSubmit}>\r\n              <input\r\n                className=\"textarea input\"\r\n                type=\"text\"\r\n                backgroundColor=\"rgba(0,0,0,0.3)\"\r\n                color=\"rgba(199, 159, 199, 0.9)\"\r\n                placeholder=\"Type your message..\"\r\n                onChange={handleChange}\r\n                value={message}\r\n              />\r\n            </form>\r\n          </div>\r\n        </DragDrop>\r\n      </div>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Chat","import React, { Component } from 'react'\r\n\r\nimport io from 'socket.io-client';\r\nimport Video from './Video';\r\nimport Videos from './Videos';\r\nimport Draggable from './Draggable';\r\nimport Chat from './Chat'; \r\nimport { CgCloseO } from 'react-icons/cg';\r\nimport { Redirect } from \"react-router-dom\";\r\nimport _ from 'lodash';\r\n \r\n\r\nexport class MainVideo extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n  \r\n      this.state = {\r\n        localStream: null,    // used to hold local stream object to avoid recreating the stream everytime a new offer comes\r\n        remoteStream: null,    // used to hold remote stream object that is displayed in the main screen\r\n       \r\n        remoteStreams: [],    // holds all Video Streams (all remote streams)\r\n        peerConnections: {},  // holds all Peer Connections\r\n        selectedVideo: null,\r\n  \r\n        status: 'Please wait...',\r\n  \r\n        pc_config: {\r\n          \"iceServers\": [\r\n            {\r\n              urls : 'stun:stun.l.google.com:19302'\r\n            }\r\n          ]\r\n        },\r\n  \r\n        sdpConstraints: {\r\n          'mandatory': {\r\n              'OfferToReceiveAudio': true,\r\n              'OfferToReceiveVideo': true\r\n          }\r\n        },\r\n  \r\n        messages: [],\r\n        sendChannels: [],\r\n        disconnected: false,\r\n      }\r\n  \r\n      // DONT FORGET TO CHANGE TO YOUR URL\r\n      this.serviceIP = 'https://ndsbirthdayserver.herokuapp.com/webrtcPeer'\r\n  \r\n      // https://reactjs.org/docs/refs-and-the-dom.html\r\n      // this.localVideoref = React.createRef()\r\n      // this.remoteVideoref = React.createRef()\r\n  \r\n      this.socket = null\r\n      // this.candidates = []\r\n    }\r\n  \r\n    getLocalStream = () => {\r\n      // called when getUserMedia() successfully returns - see below\r\n      // getUserMedia() returns a MediaStream object (https://developer.mozilla.org/en-US/docs/Web/API/MediaStream)\r\n      const success = (stream) => {\r\n        window.localStream = stream\r\n        // this.localVideoref.current.srcObject = stream\r\n        // this.pc.addStream(stream);\r\n        this.setState({\r\n          localStream: stream\r\n        })\r\n  \r\n        this.whoisOnline()\r\n      }\r\n  \r\n      // called when getUserMedia() fails - see below\r\n      const failure = (e) => {\r\n        console.log('getUserMedia Error: ', e)\r\n      }\r\n  \r\n      // https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia\r\n      // see the above link for more constraint options\r\n      const constraints = {\r\n        audio: true,\r\n        video: true,\r\n    \r\n        options: {\r\n          mirror: true,\r\n        }\r\n      }\r\n  \r\n      // https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia\r\n      navigator.mediaDevices.getUserMedia(constraints)\r\n        .then(success)\r\n        .catch(failure)\r\n    }\r\n  \r\n    whoisOnline = () => {\r\n      // let all peers know I am joining\r\n      this.sendToPeer('onlinePeers', null, {local: this.socket.id})\r\n    }\r\n  \r\n    sendToPeer = (messageType, payload, socketID) => {\r\n      this.socket.emit(messageType, {\r\n        socketID,\r\n        payload\r\n      })\r\n    }\r\n  \r\n    createPeerConnection = (socketID, callback) => {\r\n  \r\n      try {\r\n        let pc = new RTCPeerConnection(this.state.pc_config)\r\n  \r\n        // add pc to peerConnections object\r\n        const peerConnections = { ...this.state.peerConnections, [socketID]: pc }\r\n        this.setState({\r\n          peerConnections\r\n        })\r\n  \r\n        pc.onicecandidate = (e) => {\r\n          if (e.candidate) {\r\n            this.sendToPeer('candidate', e.candidate, {\r\n              local: this.socket.id,\r\n              remote: socketID\r\n            })\r\n          }\r\n        }\r\n  \r\n        pc.oniceconnectionstatechange = (e) => {\r\n          // if (pc.iceConnectionState === 'disconnected') {\r\n          //   const remoteStreams = this.state.remoteStreams.filter(stream => stream.id !== socketID)\r\n  \r\n          //   this.setState({\r\n          //     remoteStream: remoteStreams.length > 0 && remoteStreams[0].stream || null,\r\n          //   })\r\n          // }\r\n  \r\n        }\r\n  \r\n        pc.ontrack = (e) => {\r\n          let _remoteStream = null\r\n          let remoteStreams = this.state.remoteStreams\r\n          let remoteVideo = {}\r\n  \r\n  \r\n          // 1. check if stream already exists in remoteStreams\r\n          const rVideos = this.state.remoteStreams.filter(stream => stream.id === socketID)\r\n  \r\n          // 2. if it does exist then add track\r\n          if (rVideos.length) {\r\n            _remoteStream = rVideos[0].stream\r\n            _remoteStream.addTrack(e.track, _remoteStream)\r\n  \r\n            remoteVideo = {\r\n              ...rVideos[0],\r\n              stream: _remoteStream,\r\n            }\r\n            remoteStreams = this.state.remoteStreams.map(_remoteVideo => {\r\n              return (_remoteVideo.id === remoteVideo.id && remoteVideo) || _remoteVideo\r\n            })\r\n          } else {\r\n            // 3. if not, then create new stream and add track\r\n            _remoteStream = new MediaStream()\r\n            _remoteStream.addTrack(e.track, _remoteStream)\r\n  \r\n            remoteVideo = {\r\n              id: socketID,\r\n              // name: socketID.user,\r\n              stream: _remoteStream,\r\n            }\r\n            remoteStreams = [...this.state.remoteStreams, remoteVideo]\r\n          }\r\n  \r\n          // const remoteVideo = {\r\n          //   id: socketID,\r\n          //   name: socketID,\r\n          //   stream: e.streams[0]\r\n          // }\r\n  \r\n          this.setState(prevState => {\r\n  \r\n            // If we already have a stream in display let it stay the same, otherwise use the latest stream\r\n            // const remoteStream = prevState.remoteStreams.length > 0 ? {} : { remoteStream: e.streams[0] }\r\n            const remoteStream = prevState.remoteStreams.length > 0 ? {} : { remoteStream: _remoteStream }\r\n  \r\n            // get currently selected video\r\n            let selectedVideo = prevState.remoteStreams.filter(stream => stream.id === prevState.selectedVideo.id)\r\n            // if the video is still in the list, then do nothing, otherwise set to new video stream\r\n            selectedVideo = selectedVideo.length ? {} : { selectedVideo: remoteVideo }\r\n  \r\n            return {\r\n              // selectedVideo: remoteVideo,\r\n              ...selectedVideo,\r\n              // remoteStream: e.streams[0],\r\n              ...remoteStream,\r\n              remoteStreams, //: [...prevState.remoteStreams, remoteVideo]\r\n            }\r\n          })\r\n        }\r\n  \r\n        pc.close = () => {\r\n          // alert('GONE')\r\n          console.log(\"pc closed\");\r\n        }\r\n  \r\n        if (this.state.localStream)\r\n          // pc.addStream(this.state.localStream)\r\n  \r\n          this.state.localStream.getTracks().forEach(track => {\r\n            pc.addTrack(track, this.state.localStream)\r\n          })\r\n  \r\n        // return pc\r\n        callback(pc)\r\n  \r\n      } catch(e) {\r\n        console.log('Something went wrong! pc not created!!', e)\r\n        // return;\r\n        callback(null)\r\n      }\r\n    }\r\n  \r\n    componentDidMount = () => {\r\n      \r\n  \r\n      this.socket = io.connect(\r\n        this.serviceIP,\r\n        {\r\n          path: '/io/webrtc',\r\n          query: {\r\n            room: window.location.pathname.substr(18),\r\n            user: window.location.search,\r\n          }\r\n        }\r\n      )\r\n  \r\n      this.socket.on('connection-success', data => {\r\n  \r\n        this.getLocalStream()\r\n  \r\n        // console.log(data.success)\r\n        const status = data.peerCount > 1 ? <span>ID: {window.location.pathname.substr(18)} Connected: {data.peerCount}</span> : 'Waiting for other peers to connect'\r\n  \r\n        this.setState({\r\n          status: status,\r\n          messages: data.messages\r\n        })\r\n      })\r\n  \r\n      this.socket.on('joined-peers', data => {\r\n  \r\n        this.setState({\r\n          status: data.peerCount > 1 ? <span>Connected: {data.peerCount}</span> : 'Waiting for other peers to connect'\r\n        })\r\n      })\r\n      //************ ************//\r\n      this.socket.on('peer-disconnected', data => {\r\n        try {\r\n            // close peer-connection with this peer\r\n        this.state.peerConnections[data.socketID].close()\r\n  \r\n        // get and stop remote audio and video tracks of the disconnected peer\r\n        const rVideo = this.state.remoteStreams.filter(stream => stream.id === data.socketID)\r\n        rVideo && this.stopTracks(rVideo[0].stream)\r\n        }\r\n        catch (err) {\r\n          console.error(err)\r\n        }\r\n        // filter out the disconnected peer stream\r\n        const remoteStreams = this.state.remoteStreams.filter(stream => stream.id !== data.socketID)\r\n  \r\n        this.setState(prevState => {\r\n          // check if disconnected peer is the selected video and if there still connected peers, then select the first\r\n          const selectedVideo = prevState.selectedVideo.id === data.socketID && remoteStreams.length ? { selectedVideo: remoteStreams[0] } : null\r\n  \r\n          return {\r\n            // remoteStream: remoteStreams.length > 0 && remoteStreams[0].stream || null,\r\n            remoteStreams,\r\n            ...selectedVideo,\r\n            status: data.peerCount > 1 ? `Number of matches to ${window.location.pathname}: ${data.peerCount}` : 'Waiting for your friends to connect'\r\n          }\r\n          }\r\n        )\r\n      })\r\n  \r\n      // this.socket.on('offerOrAnswer', (sdp) => {\r\n  \r\n      //   this.textref.value = JSON.stringify(sdp)\r\n  \r\n      //   // set sdp as remote description\r\n      //   this.pc.setRemoteDescription(new RTCSessionDescription(sdp))\r\n      // })\r\n  \r\n      this.socket.on('online-peer', socketID => {\r\n        // const {store} = this.props;\r\n        // const me = store.getCurrentUser();\r\n        // const email = _.toString(_.get(me, 'email'));\r\n        // const name   = email.substring(0, email.lastIndexOf(\"@\"));\r\n        // console.log('connected peers ...', socketID)\r\n  \r\n        // create and send offer to the peer (data.socketID)\r\n        // 1. Create new pc\r\n        this.createPeerConnection(socketID, pc => {\r\n          // 2. Create Offer\r\n          if (pc) {\r\n        \r\n            // Send Channel\r\n            const handleSendChannelStatusChange = (event) => {\r\n              console.log('send channel status: ' + this.state.sendChannels[0].readyState)\r\n            }\r\n  \r\n            const sendChannel = pc.createDataChannel('sendChannel')\r\n            sendChannel.onopen = handleSendChannelStatusChange\r\n            sendChannel.onclose = handleSendChannelStatusChange\r\n          \r\n            this.setState(prevState => {\r\n              return {\r\n                sendChannels: [...prevState.sendChannels, sendChannel]\r\n              }\r\n            })\r\n  \r\n  \r\n            // Receive Channels\r\n            const handleReceiveMessage = (event) => {\r\n              const message = JSON.parse(event.data)\r\n              // console.log(message)\r\n              this.setState(prevState => {\r\n                return {\r\n                  messages: [...prevState.messages, message]\r\n                }\r\n              })\r\n            }\r\n  \r\n            const handleReceiveChannelStatusChange = (event) => {\r\n              if (this.receiveChannel) {\r\n                console.log(\"receive channel's status has changed to \" + this.receiveChannel.readyState);\r\n              }\r\n            }\r\n  \r\n            const receiveChannelCallback = (event) => {\r\n              const receiveChannel = event.channel\r\n              receiveChannel.onmessage = handleReceiveMessage\r\n              receiveChannel.onopen = handleReceiveChannelStatusChange\r\n              receiveChannel.onclose = handleReceiveChannelStatusChange\r\n            }\r\n  \r\n            pc.ondatachannel = receiveChannelCallback\r\n  \r\n  \r\n            pc.createOffer(this.state.sdpConstraints)\r\n              .then(sdp => {\r\n                pc.setLocalDescription(sdp)\r\n                // console.log(meObj);\r\n                this.sendToPeer('offer', sdp, {\r\n                  local:  this.socket.id,\r\n                  remote: socketID,\r\n                })\r\n              })\r\n          }\r\n        })\r\n      })\r\n  \r\n      this.socket.on('offer', data => {\r\n        this.createPeerConnection(data.socketID, pc => {\r\n          pc.addStream(this.state.localStream)\r\n  \r\n          // Send Channel\r\n          const handleSendChannelStatusChange = (event) => {\r\n            console.log('send channel status: ' + this.state.sendChannels[0].readyState)\r\n          }\r\n  \r\n          const sendChannel = pc.createDataChannel('sendChannel')\r\n          sendChannel.onopen = handleSendChannelStatusChange\r\n          sendChannel.onclose = handleSendChannelStatusChange\r\n          \r\n          this.setState(prevState => {\r\n            return {\r\n              sendChannels: [...prevState.sendChannels, sendChannel]\r\n            }\r\n          })\r\n  \r\n          // Receive Channels\r\n          const handleReceiveMessage = (event) => {\r\n            const message = JSON.parse(event.data)\r\n            // console.log(message)\r\n            this.setState(prevState => {\r\n              return {\r\n                messages: [...prevState.messages, message]\r\n              }\r\n            })\r\n          }\r\n  \r\n          const handleReceiveChannelStatusChange = (event) => {\r\n            if (this.receiveChannel) {\r\n              console.log(\"receive channel's status has changed to \" + this.receiveChannel.readyState);\r\n            }\r\n          }\r\n  \r\n          const receiveChannelCallback = (event) => {\r\n            const receiveChannel = event.channel\r\n            receiveChannel.onmessage = handleReceiveMessage\r\n            receiveChannel.onopen = handleReceiveChannelStatusChange\r\n            receiveChannel.onclose = handleReceiveChannelStatusChange\r\n          }\r\n  \r\n          pc.ondatachannel = receiveChannelCallback\r\n  \r\n          pc.setRemoteDescription(new RTCSessionDescription(data.sdp)).then(() => {\r\n            // 2. Create Answer\r\n            pc.createAnswer(this.state.sdpConstraints)\r\n              .then(sdp => {\r\n                pc.setLocalDescription(sdp)\r\n  \r\n                this.sendToPeer('answer', sdp, {\r\n                  local: this.socket.id,\r\n                  remote: data.socketID,\r\n                })\r\n              })\r\n          })\r\n        })\r\n      })\r\n  \r\n      this.socket.on('answer', data => {\r\n        // get remote's peerConnection\r\n        const pc = this.state.peerConnections[data.socketID]\r\n        // console.log(data.sdp)\r\n        pc.setRemoteDescription(new RTCSessionDescription(data.sdp)).then(()=>{})\r\n      })\r\n  \r\n      this.socket.on('candidate', (data) => {\r\n        // get remote's peerConnection\r\n        const pc = this.state.peerConnections[data.socketID]\r\n  \r\n        if (pc)\r\n          pc.addIceCandidate(new RTCIceCandidate(data.candidate))\r\n      })\r\n  \r\n      // const pc_config = null\r\n  \r\n      // const pc_config = {\r\n      //   \"iceServers\": [\r\n      //     // {\r\n      //     //   urls: 'stun:[STUN_IP]:[PORT]',\r\n      //     //   'credentials': '[YOR CREDENTIALS]',\r\n      //     //   'username': '[USERNAME]'\r\n      //     // },\r\n      //     {\r\n      //       urls : 'stun:stun.l.google.com:19302'\r\n      //     }\r\n      //   ]\r\n      // }\r\n  \r\n      // https://developer.mozilla.org/en-US/docs/Web/API/RTCPeerConnection\r\n      // create an instance of RTCPeerConnection\r\n      // this.pc = new RTCPeerConnection(this.state.pc_config)\r\n  \r\n      // triggered when a new candidate is returned\r\n      // this.pc.onicecandidate = (e) => {\r\n      //   // send the candidates to the remote peer\r\n      //   // see addCandidate below to be triggered on the remote peer\r\n      //   if (e.candidate) {\r\n      //     // console.log(JSON.stringify(e.candidate))\r\n      //     this.sendToPeer('candidate', e.candidate)\r\n      //   }\r\n      // }\r\n  \r\n      // triggered when there is a change in connection state\r\n      // this.pc.oniceconnectionstatechange = (e) => {\r\n      //   console.log(e)\r\n      // }\r\n  \r\n      // triggered when a stream is added to pc, see below - this.pc.addStream(stream)\r\n      // this.pc.onaddstream = (e) => {\r\n      //   this.remoteVideoref.current.srcObject = e.stream\r\n      // }\r\n  \r\n      // this.pc.ontrack = (e) => {\r\n      //   debugger\r\n      //   // this.remoteVideoref.current.srcObject = e.streams[0]\r\n  \r\n      //   this.setState({\r\n      //     remoteStream: e.streams[0]\r\n      //   })\r\n      // }\r\n  \r\n    }\r\n  \r\n    // ************************************* //\r\n    // NOT REQUIRED\r\n    // ************************************* //\r\n    disconnectSocket = (socketToDisconnect) => {\r\n      this.sendToPeer('socket-to-disconnect', null, {\r\n        local: this.socket.id,\r\n        remote: socketToDisconnect\r\n      })\r\n    }\r\n  \r\n    switchVideo = (_video) => {\r\n      // console.log(_video)\r\n      this.setState({\r\n        selectedVideo: _video\r\n      })\r\n    }\r\n  \r\n    // ************************************* //\r\n    // ************************************* //\r\n\r\n    stopTracks = (stream) => {\r\n      stream.getTracks().forEach(track => track.stop())\r\n    }\r\n        \r\n  \r\n    render() {\r\n      const {\r\n        status,\r\n        messages,\r\n        disconnected,\r\n        localStream,\r\n        peerConnections,\r\n        remoteStreams,\r\n      } = this.state\r\n      const {store} = this.props;\r\n      const me = store.getCurrentUser();\r\n      const name = _.get(me, 'name') || 'nds';\r\n      \r\n      if(!me){\r\n        return (\r\n          <Redirect to=\"/ndsweb/chat\" />\r\n        )\r\n      } \r\n      if (disconnected) {\r\n        // disconnect socket\r\n        this.socket.close()\r\n        // stop local audio & video tracks\r\n        this.stopTracks(localStream)\r\n  \r\n        // stop all remote audio & video tracks\r\n        remoteStreams.forEach(rVideo => this.stopTracks(rVideo.stream))\r\n  \r\n        // stop all remote peerconnections\r\n        peerConnections && Object.values(peerConnections).forEach(pc => pc.close())\r\n\r\n        // setTimeout(() => {\r\n          return (\r\n            <Redirect to=\"/ndsweb/chat\" />\r\n          ) \r\n          // }, 10000);\r\n        \r\n      }\r\n  \r\n      const statusText = <div style={{ color: 'rgba(199, 36, 199, 0.9)', padding: 5 }}>{status}</div>\r\n  \r\n      return (\r\n        <div>\r\n        <Draggable style={{\r\n          zIndex: 101,\r\n          position: 'absolute',\r\n          right: 0,\r\n          cursor: 'move',\r\n        }}>\r\n          <Video\r\n            videoType='localVideo'\r\n            videoStyles={{\r\n              width: 200,\r\n              marginTop: '-3.5rem',\r\n              marginRight: '.5rem',\r\n            }}\r\n            frameStyle={{\r\n              width: 200,\r\n              margin: 5,\r\n              borderRadius: '.2rem',\r\n              backgroundColor: 'rgba(0,0,0,0.9)',\r\n            }}\r\n            showMuteControls={true}\r\n            // ref={this.localVideoref}\r\n            videoStream={localStream}\r\n            autoPlay muted>\r\n          </Video>\r\n        </Draggable>\r\n        <br />\r\n          <div style={{\r\n            zIndex: 3,\r\n            position: 'absolute',\r\n            marginTop: '-.6rem',\r\n            // margin: 10,\r\n            // backgroundColor: '#cdc4ff4f',\r\n            // padding: 10,\r\n            // borderRadius: 5,\r\n          }}>\r\n           \r\n            <i  onClick={(e) => {this.setState({disconnected: true})}} style={{cursor: 'pointer', paddingLeft: 15, color: 'red', fontSize: '24px' }}><CgCloseO /></i>\r\n            <div style={{\r\n              backgroundColor: 'rgba(0, 0, 0, 0.07)',\r\n              padding: 10,\r\n              borderRadius: 5,\r\n            }}>{ statusText }</div>\r\n          </div>\r\n          <div>\r\n            <Videos\r\n              switchVideo={this.switchVideo}\r\n              remoteStreams={remoteStreams}\r\n              // videoStream={this.state.selectedVideo && this.state.selectedVideo.stream}\r\n            ></Videos>\r\n          </div>\r\n          <br />\r\n  \r\n          <Chat\r\n              user={{\r\n                uid: (this.socket && this.socket.id) || '',\r\n                name: name || 'ndsbug',\r\n            }}\r\n            messages={messages}\r\n            sendMessage={(message) => {\r\n              this.setState(prevState => {\r\n                return {messages: [...prevState.messages, message]}\r\n              })\r\n              this.state.sendChannels.map(sendChannel => {\r\n                sendChannel.readyState === 'open' && sendChannel.send(JSON.stringify(message))\r\n                return\r\n              })\r\n              this.sendToPeer('new-message', JSON.stringify(message), {local: this.socket.id})\r\n            }}\r\n          />\r\n  \r\n          {/* <div style={{zIndex: 1, position: 'fixed'}} >\r\n            <button onClick={this.createOffer}>Offer</button>\r\n            <button onClick={this.createAnswer}>Answer</button>\r\n            <br />\r\n            <textarea style={{ width: 450, height:40 }} ref={ref => { this.textref = ref }} />\r\n          </div> */}\r\n          {/* <br />\r\n          <button onClick={this.setRemoteDescription}>Set Remote Desc</button>\r\n          <button onClick={this.addCandidate}>Add Candidate</button> */}\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n  export default MainVideo","import React, {Component} from 'react'\r\nimport App3 from '../components/App3';\r\nimport Store from '../store';\r\nimport {Route, Switch} from 'react-router-dom';\r\n// import { Reconnect } from \"./Reconnect\";\r\nimport MainVideo from '../components/MainVideo';\r\nimport Errors from \"./Error\";\r\n// import Loading from '../components/Loading';\r\n\r\n// import Snow from '../components/Animation/Snow';\r\n// import Rain from '../components/Animation/Rain';\r\n// import Fancy from '../components/Animation/Fancy';\r\nimport {Helmet} from \"react-helmet\";\r\nimport {GreetingApp4} from '../components/GreetingApp4';\r\nimport {ChangePassword} from '../components/ChangePassword';\r\n\r\nexport default class Page3 extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            store: new Store(this),\r\n        }\r\n    }\r\n    render(){\r\n        const { store } = this.state;\r\n        return (\r\n            <Switch>\r\n                <Route exact path=\"/ndsweb/chat/login/:slug\">\r\n                    <>\r\n                    <App3 store = { store } />\r\n                    <Helmet>\r\n                        <title>Chat | nDsWeb</title>\r\n                    </Helmet>\r\n                    </>\r\n                </Route>\r\n                <Route exact path=\"/ndsweb/chat\">\r\n                    <>\r\n                    <App3 store = { store } />\r\n                    <Helmet>\r\n                        <title>Chat | nDsWeb</title>\r\n                    </Helmet>\r\n                    </>\r\n                </Route>\r\n                <Route exact path=\"/ndsweb/chat/change/password\">\r\n                    <>\r\n                    <ChangePassword store = { store } />\r\n                    <Helmet>\r\n                        <title>Chat | nDsWeb</title>\r\n                    </Helmet>\r\n                    </>\r\n                </Route>\r\n                <Route exact path=\"/ndsweb/chat/greeting/newuser&account\">\r\n                    <>\r\n                    <GreetingApp4 store = { store } />\r\n                    <Helmet>\r\n                        <title>Greetingt-ReTrille | nDsWeb</title>\r\n                    </Helmet>\r\n                    </>\r\n                </Route>\r\n               \r\n                <Route exact path=\"/ndsweb/chat/Facemoment/:slug\">\r\n                    <>\r\n                    <MainVideo store = { store } />\r\n                    <Helmet>\r\n                        <title>Face-moment | nDsWeb</title>\r\n                    </Helmet>\r\n                    </>\r\n                </Route>\r\n                {/* <Route exact path=\"/page3/snow\">\r\n                    <Snow />\r\n                </Route>\r\n                <Route exact path=\"/page3/rain\">\r\n                    <Rain />\r\n                </Route>\r\n                <Route exact path=\"/page3/fancy\">\r\n                    <Fancy />\r\n                </Route> */}\r\n                <Route component={Errors} />\r\n            </Switch>\r\n        )   \r\n        }\r\n   \r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Typography, Container } from \"@material-ui/core\";\r\n\r\nexport default class DescriApp extends Component {\r\n    render(){\r\n      const {isEnglish} = this.props\r\n        return (\r\n\r\n            <div className=\"privacy-app\">\r\n\r\n              <Container>\r\n              {/* header introduction */}\r\n              <header>\r\n                <Typography variant=\"h4\" gutterBottom={true}>\r\n                  {isEnglish ? 'Introductory' : 'Giới thiệu'} {\" \"} \r\n                </Typography>\r\n              </header>\r\n              <div className=\"deliver\"></div>\r\n              <br />\r\n\r\n              {/** body introduction */}\r\n              <section>\r\n                <Typography gutterBottom={true} variant=\"subtitle1\">\r\n                {isEnglish ? 'The nDsApp is a web application that simultaneously serves as a spiritual product built and operated by nDs Gruop in the present time and will continue to grow in the future.' \r\n                        : 'nDsApp là một ứng dụng web đồng thời đóng vai trò như một sản phẩm tinh thần được xây dựng và được vận hành bởi nhóm nDs trong thời điểm hiện tại và sẽ tiếp tục phát triển trong tương lai.'}\r\n\r\n                  <br />\r\n                  {isEnglish ? 'With a passionate about learning and passionate about programming, especially on Reactjs and Nodejs platforms, We built this app for community-serving purposes. It is also a turning point for pursuing your own passion. The App is not just an individual product but also a brainchild of us.' \r\n                        : 'Với sự say mê học hỏi và đam mê lập trình, đặc biệt trên nền tảng Reactjs và Nodejs, Chúng tôi xây dựng ứng dụng này nhằm mục đích phục vụ chung cho mọi người tham gia. Đồng thời cũng là một bước ngoặc cho việc theo đuổi đam mê của bản thân. App Không chỉ là một sản phẩm cá nhân mà còn là một đứa con tinh thần của chúng tôi.'}\r\n\r\n                  <br />\r\n                  {isEnglish ? 'From the initial idea and after nearly 2 months, the App was officially put into operation by the host platform from Heroku / Ocean with 3 servers operating simultaneously, including 1 Front-End and 2 Back-End. We are always looking for the best way to improve the speed and information security for both parties.' \r\n                        : 'Từ ý tưởng ban đầu và sau thời gian gần 2 tháng  App được đưa vào hoạt động chính thức công khai nhờ nền nản host từ Heroku/Ocean với 3 server hoạt động đồng thời gồm 1 Front-End và 2 Back-End. Chúng tôi luôn tìm cách tốt nhất để cải thiện tốc độ cũng như độ an toàn thông tin cho cả đôi bên.'}\r\n                \r\n                  <br />\r\n                </Typography>\r\n                <Typography variant=\"h6\">  Basic Information of nDsApp </Typography>\r\n                <Typography gutterBottom={true}>\r\n                  {isEnglish ? ' nDs App is built with a main color tone and common wallpaper on many pages to create a unified monochrome feel for the application theme interface.' \r\n                        : 'nDs App được xây dựng với một tông màu chủ đạo và hình nền chung trên nhiều trang để tạo cảm giác đơn sắc thống nhất cho giao diện chủ đề ứng dụng.'}\r\n      \r\n                  <br />\r\n                  {isEnglish ? ' At the beginning of the app operation, there were 3 active applications including Music mp3, Weather search for cities in the world and the main application was online chat and video chat room individuals or groups with your friends. At the same time 2 active servers also provide the main environment for 2 large applications to operate.' \r\n                        : 'Tại thời gian đầu đi vào hoạt động app hiện có 3 ứng dụng đang hoạt động gồm Music mp3, Tra cứu thời tiết các thành phố thế giới và ứng dụng chính là chat online và tạo phòng chat video cá nhân hoặc nhóm cùng bạn bè của bạn. Đồng thời 2 server đang hoạt động  cũng cũng cấp môi trường chính cho 2 app lớn hoạt động'}\r\n                 \r\n                </Typography>\r\n                <Typography variant=\"h6\">Continued To Grow</Typography>\r\n                <Typography gutterBottom={true}>\r\n                {isEnglish ? 'Currently we have the application running on the host platform with the server being free and their main server is not located in Vietnam, so there will be a lot of influence on the application operation as well as the user experience. But nDs always ensure the confidentiality and safety of the information you provide us. And this issue will be resolved soon.' \r\n                        : 'Hiện tại chúng tôi cho ứng dụng đang hoạt động trên nền host với máy chủ là miễn phí và máy chủ chính của họ không đặt tại Việt Nam nên sẽ còn nhiều ảnh hưởng cho hoạt động của ứng dụng cũng như là trải nghiệm của người dùng. Nhưng phía nDs luôn đảm bảo tính bảo mật và an toàn về thông tin mà bạn cung cấp cho chúng tôi. Và vấn đề này sẽ sớm được giải quyết.'}\r\n                </Typography>\r\n               \r\n                <Typography variant=\"h6\">Changes to Introductory</Typography>\r\n                <Typography gutterBottom={true}>\r\n                {isEnglish ? 'nDsApp will be monitored and updated continuously by the development team. That is why introductions can be changed from time to time and they will be rapidly updated by the group as there are any new releases to provide you with our app information in total. most important possible.' \r\n                        : 'nDsApp sẽ được nhóm phát triển theo dõi và cập nhật liên tục. Đó là lí do lời giới thiệu có thể được thay đổi theo thời gian và chúng sẽ được nhóm cập nhật liên tục khi có bất kì bản phát hành mới nào để cung cấp cho bạn các thông tin ứng dụng của chúng tôi một cách tổng quan nhất có thể.'}\r\n                </Typography>\r\n                    \r\n\r\n                  {/** End intruction */}\r\n                <Typography variant=\"h6\">Current Version</Typography>\r\n                    Version 0.1.1 | Official\r\n                    <br />\r\n                    Accept Login User Account at 3 Pages\r\n                    <br />\r\n                    Listen MP3 music | Get Weather, Forecast weather any where and save loction | Chat text, img, wav, mp3, mp4, files message | Get Face moment One or One person group in a Room\r\n                    <br />\r\n                    Update in latest version: Improved interface, added some effects,..\r\n              </section>\r\n            </Container>\r\n            </div>\r\n          );\r\n        }\r\n   \r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Typography, Container } from \"@material-ui/core\";\r\nimport img from \"../../images/svgnds.png\";\r\n\r\nexport default class ContributorsApp extends Component {\r\n\r\n    render(){\r\n      const {isEnglish} = this.props\r\n      console.log(isEnglish)\r\n        return (\r\n\r\n            <div className=\"privacy-app\">\r\n              <Container>\r\n              {/* header contribute app */}\r\n              <header>\r\n                <Typography variant=\"h4\" gutterBottom={true}>\r\n                    Contributors{\" \"}\r\n                </Typography>\r\n              </header>\r\n\r\n              <div className=\"deliver\"></div>\r\n              <br />\r\n\r\n              {/* body contribute app */}\r\n              <section>\r\n                <Typography gutterBottom={true} variant=\"subtitle1\">\r\n                  {isEnglish ? 'nDsApp gets great contributions from the many individuals the development team has contacted with. A difficult solution, we always need that donation. Thanks again for the help building and developing nDsApp' \r\n                  : 'nDsApp được sự đóng góp lớn từ nhiều cá nhân tổ chức mà nhóm phát triển đã liên hệ.Một giải pháp khó, chúng tôi luôn cần sự đóng góp đó. Một lần nữa cảm ơn sự giúp đỡ cho việc xây dựng và phát triển nDsApp'}\r\n                  <br />\r\n                </Typography>\r\n                <div className=\"list-contributes\">\r\n                  \r\n                  {/* Reactjs */}\r\n                  <div className=\"contribute\">\r\n                    <div className=\"contri-img\">\r\n                      <img src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/React-icon.svg/512px-React-icon.svg.png\" alt=\"logo Reactjs\" ></img>\r\n                    </div>\r\n                    <div className=\"contri-info\">\r\n                      <div className=\"contri-name\">\r\n                        <h4><a href=\"https://reactjs.org/\">ReactJs</a> | a library written in javascript</h4>\r\n                      </div>\r\n                      <div className=\"contri-text\">\r\n                        <p>\r\n                        {isEnglish ? 'ReactJs is the main platform the development team uses to build the frontend for the App. We received advice from a very important and influential person, then the team decided to use ReactJs as the primary medium for future App development. We appreciate the optimization of this platform and will continue to develop more' \r\n                        : 'ReactJs là nền tảng chính mà nhóm phát triển dùng để xây dựng phần frontend cho App. Chúng tôi nhận được lời khuyên từ một người rất quan trọng và có sức ảnh hưởng lớn, sau đó nhóm quyết định dùng ReactJs làm môi trường chính cho sự phát triển App về sau. Chúng tôi đánh giá cao sự tối ưu của nền tản này và sẽ tiếp tục phát triển nhiều hơn thế nữa'}\r\n                        <br />\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Nodejs */}\r\n                  <div className=\"contribute\">\r\n                    <div className=\"contri-img\">\r\n                      <img src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d9/Node.js_logo.svg/590px-Node.js_logo.svg.png\" alt=\"logo Nodejs\"></img>\r\n                    </div>\r\n                    <div className=\"contri-info\">\r\n                      <div className=\"contri-name\">\r\n                        <h4><a href=\"https://nodejs.org/en/\">NodeJs</a> | an open-source, cross-platform</h4>\r\n                      </div>\r\n                      <div className=\"contri-text\">\r\n\r\n                        <p>{isEnglish ? 'The nDs application is running on 2 servers and the Backend commands are written in JavaScript on top of NodeJs. This helps the system to have unified in terms of programming languages ​​used throughout the App.' \r\n                        : 'Ứng dụng nDsApp đang chạy trên 2 máy chủ và các lệnh phía Backend được viết bằng JavaScript trên nền của NodeJs. Việc làm này giúp cho hệ thống có sự thống nhất về mặt ngôn ngữ lập trình được dùng trên toàn App.'}</p>\r\n      \r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* GitHub */}\r\n                  <div className=\"contribute\">\r\n                    <div className=\"contri-img\">\r\n                      <img src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/a/ae/Github-desktop-logo-symbol.svg/800px-Github-desktop-logo-symbol.svg.png\" alt=\"logo GitHub\"></img>\r\n                    </div>\r\n                    <div className=\"contri-info\">\r\n                      <div className=\"contri-name\">\r\n                        <h4><a href=\"https://github.com/\">GitHub</a> | safe storage for source code</h4>\r\n                      </div>\r\n                      <div className=\"contri-text\">\r\n                        <p>{isEnglish ? 'We use GitHub to host the source code for the application. This is a tool that is familiar to any software programmer, with security handy and easy to restore projects via cmd or terminal on Linux We have a number of other apps that are still hosted on this app' \r\n                        : 'Chúng tôi sử dụng GitHub để lưu trữ mã nguồn cho ứng dụng. Đây là một công cụ quen thuộc với bất kỳ lập trình viên phần mềm nào, với tính năng bảo mật tiện dụng và dễ dàng khôi phục các dự án thông qua cmd hoặc terminal trên Linux. Hiện chúng tôi có một số ứng dụng khác vẫn được lưu trữ trên ứng dụng này'}</p>\r\n                       \r\n                      </div>\r\n                    </div>                  \r\n                  </div>\r\n\r\n                  {/* MongoDB */}\r\n                  <div className=\"contribute\">\r\n                    {/* <svg class=\"h-25\" height=\"25\" viewBox=\"0 0 100 25\">\r\n                      <g><path d=\"M11.71 10.41C10.31 4.33 7.39 2.71 6.65 1.57 6.34 1.06 6.07 0.54 5.84 0 5.8 0.54 5.73 0.88 5.26 1.29 4.32 2.11 0.35 5.3 0.01 12.21 -0.3 18.65 4.82 22.62 5.5 23.03 6.02 23.28 6.65 23.03 6.96 22.8 9.43 21.13 12.8 16.69 11.71 10.41\" fill=\"#10AA50\"></path>//leaf\r\n                      <path d=\"M5.95 19.5C5.82 21.08 5.72 22 5.38 22.9 5.38 22.9 5.61 24.41 5.76 26L6.32 26C6.45 24.88 6.65 23.76 6.92 22.66 6.21 22.33 5.98 20.89 5.95 19.5Z\" fill=\"#B8C4C2\"></path>//bottom leaf\r\n                      <path d=\"M7.03 22.75L7.03 22.75C6.34 22.43 6.14 20.94 6.11 19.55 6.28 17.25 6.33 14.95 6.26 12.64 6.22 11.44 6.28 1.46 5.96 0 6.18 0.49 6.43 0.97 6.7 1.44 7.44 2.59 10.33 4.21 11.71 10.32 12.79 16.61 9.47 21.06 7.03 22.75Z\" fill=\"#12924F\"></path>\r\n                      <path d=\"M98.46 20.65C97.61 20.65 96.93 19.97 96.92 19.12 96.92 18.28 97.6 17.6 98.45 17.59 99.29 17.58 99.99 18.25 100 19.1 100.01 19.51 99.85 19.9 99.56 20.2 99.27 20.49 98.87 20.65 98.46 20.65L98.46 20.65ZM98.46 17.73C97.89 17.72 97.38 18.06 97.16 18.58 96.94 19.1 97.06 19.7 97.46 20.1 97.86 20.5 98.46 20.62 98.98 20.41 99.51 20.19 99.85 19.69 99.85 19.12 99.86 18.75 99.72 18.39 99.45 18.13 99.19 17.87 98.83 17.72 98.46 17.73L98.46 17.73ZM98.83 20.08L98.44 19.23 98.12 19.23 98.12 20.08 97.88 20.08 97.88 18.15 98.46 18.15C98.88 18.15 99.06 18.33 99.06 18.69 99.06 18.97 98.93 19.15 98.68 19.21L99.09 20.08 98.83 20.08ZM98.12 19.03L98.46 19.03C98.73 19.03 98.84 18.94 98.84 18.69 98.84 18.45 98.74 18.36 98.43 18.36L98.12 18.36 98.12 19.03Z\" fill=\"#21313C\"></path>//R right\r\n                      <path d=\"M75.97 19.27C76.38 19.59 77.2 19.73 77.92 19.73 78.85 19.73 79.76 19.55 80.65 18.75 81.56 17.92 82.19 16.66 82.19 14.64 82.19 12.71 81.45 11.13 79.94 10.21 79.08 9.68 77.97 9.47 76.71 9.47 76.35 9.47 75.97 9.48 75.76 9.58 75.67 9.65 75.61 9.75 75.59 9.85 75.55 10.2 75.55 12.83 75.55 14.38 75.55 15.97 75.55 18.19 75.59 18.46 75.61 18.7 75.72 19.1 75.97 19.27M72.1 8.6C72.43 8.6 73.68 8.66 74.27 8.66 75.36 8.66 76.11 8.6 78.15 8.6 79.86 8.6 81.29 9.06 82.32 9.94 83.57 11.02 84.23 12.52 84.23 14.34 84.23 16.93 83.05 18.42 81.86 19.27 80.68 20.15 79.14 20.65 76.95 20.65 75.79 20.65 73.79 20.61 72.12 20.59L72.09 20.59C72.01 20.44 72.23 19.84 72.36 19.82 72.82 19.77 72.94 19.75 73.15 19.67 73.5 19.52 73.58 19.34 73.62 18.71 73.68 17.52 73.66 16.1 73.66 14.49 73.66 13.34 73.68 11.1 73.64 10.39 73.58 9.79 73.33 9.64 72.82 9.52 72.46 9.45 72.1 9.39 71.73 9.35 71.7 9.24 71.99 8.72 72.09 8.6\" fill=\"#21313C\"></path> //D\r\n                      <path d=\"M89 9.54C88.93 9.56 88.83 9.75 88.83 9.85 88.81 10.54 88.79 12.34 88.79 13.58 88.8 13.63 88.84 13.67 88.89 13.68 89.14 13.7 89.76 13.72 90.28 13.72 91.01 13.72 91.43 13.62 91.67 13.51 92.28 13.2 92.57 12.53 92.57 11.8 92.57 10.13 91.41 9.5 89.69 9.5 89.46 9.5 89.23 9.51 89 9.54M93.38 17.2C93.38 15.52 92.14 14.56 89.89 14.56 89.79 14.56 89.07 14.54 88.9 14.58 88.85 14.6 88.79 14.63 88.79 14.67 88.79 15.88 88.77 17.81 88.83 18.58 88.87 18.9 89.1 19.36 89.39 19.5 89.69 19.67 90.39 19.71 90.87 19.71 92.2 19.71 93.38 18.96 93.38 17.2M85.52 8.6C85.69 8.6 86.21 8.66 87.52 8.66 88.75 8.66 89.75 8.62 90.95 8.62 92.43 8.62 94.48 9.16 94.48 11.38 94.48 12.47 93.71 13.35 92.7 13.77 92.65 13.79 92.65 13.83 92.7 13.85 94.13 14.21 95.38 15.09 95.38 16.78 95.38 18.43 94.36 19.46 92.88 20.11 91.97 20.51 90.85 20.65 89.72 20.65 88.85 20.65 86.52 20.56 85.23 20.57 85.1 20.51 85.35 19.9 85.47 19.8 85.77 19.8 86.06 19.75 86.34 19.67 86.81 19.55 86.86 19.4 86.92 18.71 86.96 18.12 86.96 15.99 86.96 14.48 86.96 12.41 86.98 11.02 86.96 10.33 86.94 9.79 86.75 9.62 86.38 9.52 86.09 9.46 85.61 9.41 85.22 9.35 85.13 9.25 85.42 8.68 85.52 8.6\" fill=\"#21313C\"></path>//B\r\n                      <path d=\"M15.95 20.65C15.9 20.52 15.88 20.39 15.89 20.26 15.89 20.17 15.91 20.08 15.95 20 16.2 19.96 16.45 19.91 16.7 19.85 17.05 19.76 17.18 19.57 17.2 19.13 17.25 18.09 17.26 16.15 17.24 14.78L17.24 14.74C17.24 14.59 17.24 14.39 17.05 14.25 16.73 14.05 16.38 13.89 16.02 13.79 15.86 13.74 15.76 13.66 15.77 13.56 15.77 13.46 15.88 13.34 16.09 13.3 16.66 13.24 18.14 12.89 18.72 12.62 18.78 12.7 18.81 12.79 18.8 12.89 18.8 12.95 18.79 13.02 18.78 13.08 18.76 13.27 18.75 13.49 18.75 13.71 18.75 13.77 18.79 13.81 18.84 13.83 18.89 13.85 18.95 13.83 18.99 13.8 20.1 12.93 21.09 12.62 21.6 12.62 22.44 12.62 23.09 13.02 23.59 13.84 23.62 13.88 23.66 13.91 23.71 13.91 23.75 13.91 23.79 13.89 23.81 13.85 24.83 13.08 25.84 12.62 26.52 12.62 28.11 12.62 29.07 13.81 29.07 15.81 29.07 16.38 29.06 17.11 29.06 17.79 29.05 18.39 29.05 18.95 29.05 19.33 29.05 19.43 29.17 19.69 29.36 19.74 29.6 19.85 29.93 19.91 30.36 19.99L30.38 19.99C30.41 20.1 30.34 20.55 30.28 20.64 30.17 20.64 30.02 20.63 29.84 20.62 29.51 20.6 29.05 20.58 28.53 20.58 27.46 20.58 26.91 20.6 26.38 20.63 26.34 20.5 26.33 20.08 26.38 19.99 26.59 19.95 26.81 19.9 27.03 19.84 27.36 19.73 27.46 19.58 27.48 19.13 27.49 18.81 27.55 16.01 27.44 15.35 27.34 14.66 26.82 13.85 25.68 13.85 25.26 13.85 24.58 14.02 23.93 14.52 23.89 14.56 23.86 14.62 23.86 14.68L23.86 14.69C23.94 15.05 23.94 15.47 23.94 16.11 23.94 16.47 23.94 16.85 23.94 17.23 23.93 18 23.93 18.73 23.94 19.29 23.94 19.66 24.17 19.75 24.35 19.82 24.45 19.85 24.53 19.86 24.61 19.88 24.76 19.92 24.92 19.96 25.16 20 25.19 20.16 25.19 20.32 25.15 20.48 25.14 20.54 25.11 20.6 25.08 20.65 24.49 20.63 23.88 20.61 23.01 20.61 22.75 20.61 22.31 20.62 21.93 20.63 21.62 20.64 21.33 20.65 21.16 20.65 21.12 20.54 21.1 20.43 21.1 20.31 21.1 20.2 21.12 20.09 21.17 20L21.4 19.96C21.61 19.92 21.78 19.89 21.95 19.85 22.24 19.75 22.35 19.6 22.37 19.23 22.42 18.37 22.47 15.9 22.35 15.29 22.14 14.29 21.57 13.79 20.66 13.79 20.13 13.79 19.46 14.05 18.91 14.46 18.8 14.56 18.74 14.71 18.75 14.85 18.75 15.15 18.75 15.5 18.75 15.87 18.75 17.11 18.74 18.66 18.77 19.33 18.79 19.53 18.86 19.78 19.25 19.86 19.33 19.89 19.48 19.91 19.65 19.94 19.75 19.96 19.85 19.98 19.96 20 20 20.21 19.98 20.44 19.91 20.65 19.74 20.65 19.53 20.64 19.29 20.63 18.93 20.61 18.47 20.59 17.95 20.59 17.34 20.59 16.92 20.61 16.58 20.63 16.35 20.64 16.15 20.65 15.95 20.65\" fill=\"#21313C\"></path>\r\n                      <path d=\"M35.36 13.42C35.04 13.41 34.72 13.5 34.44 13.68 33.77 14.08 33.43 14.88 33.43 16.07 33.43 18.28 34.55 19.83 36.16 19.83 36.59 19.84 37.01 19.69 37.34 19.41 37.83 19.02 38.1 18.2 38.1 17.07 38.1 14.89 37 13.42 35.36 13.42M35.67 20.65C32.77 20.65 31.73 18.54 31.73 16.58 31.73 15.2 32.3 14.13 33.42 13.38 34.21 12.9 35.11 12.64 36.04 12.62 38.26 12.62 39.81 14.19 39.81 16.44 39.81 17.98 39.19 19.18 38.02 19.94 37.46 20.28 36.48 20.65 35.67 20.65\" fill=\"#21313C\"></path><path d=\"M65.17 13.42C64.84 13.41 64.52 13.5 64.25 13.68 63.57 14.08 63.23 14.88 63.23 16.07 63.23 18.28 64.35 19.83 65.96 19.83 66.4 19.84 66.82 19.69 67.15 19.41 67.64 19.02 67.9 18.2 67.9 17.07 67.9 14.89 66.81 13.42 65.17 13.42M65.48 20.65C62.57 20.65 61.54 18.54 61.54 16.58 61.54 15.2 62.11 14.13 63.23 13.38 64.02 12.9 64.92 12.64 65.85 12.62 68.07 12.62 69.62 14.19 69.62 16.44 69.62 17.98 69 19.18 67.83 19.94 67.26 20.28 66.29 20.65 65.48 20.65\" fill=\"#21313C\"></path><path d=\"M55.3 13.35C54.4 13.35 53.81 14.06 53.81 15.14 53.81 16.22 54.31 17.51 55.73 17.51 55.98 17.51 56.42 17.41 56.64 17.17 56.97 16.87 57.19 16.26 57.19 15.61 57.19 14.2 56.49 13.35 55.31 13.35M55.19 20.84C54.93 20.84 54.68 20.9 54.46 21.02 53.74 21.47 53.4 21.92 53.4 22.44 53.4 22.92 53.6 23.31 54.01 23.66 54.52 24.08 55.2 24.28 56.09 24.28 57.86 24.28 58.64 23.35 58.64 22.44 58.64 21.8 58.32 21.37 57.64 21.13 57.12 20.94 56.25 20.84 55.19 20.84M55.31 25.24C54.25 25.24 53.49 25.02 52.84 24.53 52.21 24.05 51.92 23.34 51.92 22.85 51.93 22.54 52.05 22.23 52.27 22 52.45 21.8 52.88 21.41 53.87 20.75 53.9 20.74 53.92 20.71 53.92 20.67 53.92 20.64 53.89 20.6 53.86 20.59 53.04 20.29 52.8 19.79 52.72 19.52 52.72 19.51 52.72 19.49 52.72 19.48 52.69 19.37 52.67 19.27 52.82 19.17 52.93 19.09 53.11 18.98 53.31 18.87 53.58 18.72 53.85 18.55 54.1 18.37 54.12 18.34 54.14 18.3 54.13 18.26 54.12 18.22 54.1 18.19 54.06 18.17 52.86 17.78 52.26 16.9 52.26 15.57 52.25 14.73 52.66 13.93 53.37 13.44 53.85 13.07 55.06 12.62 55.85 12.62L55.9 12.62C56.7 12.64 57.16 12.8 57.79 13.03 58.15 13.16 58.53 13.22 58.91 13.2 59.58 13.2 59.87 13 60.13 12.76 60.17 12.86 60.19 12.98 60.19 13.09 60.21 13.37 60.13 13.64 59.97 13.87 59.84 14.06 59.51 14.19 59.22 14.19 59.19 14.19 59.16 14.19 59.13 14.19 58.97 14.18 58.82 14.15 58.67 14.11L58.59 14.14C58.57 14.17 58.58 14.21 58.6 14.26 58.61 14.27 58.61 14.28 58.61 14.29 58.67 14.53 58.71 14.77 58.72 15.02 58.72 16.41 58.16 17.02 57.55 17.47 56.97 17.9 56.27 18.17 55.53 18.23L55.53 18.23C55.52 18.23 55.44 18.24 55.3 18.25 55.21 18.26 55.09 18.27 55.07 18.27L55.05 18.27C54.92 18.31 54.58 18.47 54.58 18.77 54.58 19.01 54.73 19.32 55.48 19.38L55.96 19.41C56.94 19.48 58.17 19.56 58.75 19.75 59.54 20.02 60.06 20.76 60.04 21.57 60.04 22.82 59.13 24 57.61 24.72 56.89 25.05 56.1 25.23 55.31 25.22\" fill=\"#21313C\"></path>\r\n                      <path d=\"M50.73 19.89C50.3 19.83 49.99 19.77 49.63 19.6 49.55 19.53 49.51 19.44 49.49 19.33 49.45 18.75 49.45 17.04 49.45 15.92 49.45 15.01 49.3 14.21 48.91 13.64 48.45 13 47.79 12.62 46.94 12.62 46.19 12.62 45.19 13.13 44.36 13.83 44.34 13.85 44.21 13.97 44.21 13.78 44.22 13.6 44.25 13.22 44.26 12.98 44.28 12.85 44.23 12.71 44.14 12.62 43.6 12.89 42.08 13.25 41.51 13.31 41.1 13.39 41 13.78 41.44 13.92L41.44 13.92C41.79 14.01 42.13 14.16 42.44 14.35 42.61 14.48 42.59 14.67 42.59 14.82 42.61 16.1 42.61 18.05 42.55 19.11 42.53 19.53 42.42 19.68 42.11 19.76L42.14 19.75C41.9 19.81 41.66 19.85 41.42 19.88 41.33 19.98 41.33 20.53 41.42 20.64 41.62 20.64 42.6 20.59 43.41 20.59 44.53 20.59 45.11 20.64 45.4 20.64 45.51 20.51 45.55 20 45.47 19.88 45.21 19.87 44.94 19.83 44.68 19.77 44.37 19.69 44.3 19.54 44.28 19.2 44.24 18.31 44.24 16.41 44.24 15.12 44.24 14.76 44.33 14.59 44.45 14.49 44.84 14.15 45.47 13.92 46.03 13.92 46.57 13.92 46.94 14.09 47.21 14.32 47.52 14.59 47.72 14.98 47.76 15.39 47.84 16.11 47.82 17.56 47.82 18.81 47.82 19.49 47.76 19.66 47.51 19.74 47.39 19.79 47.08 19.85 46.72 19.89 46.6 20 46.64 20.53 46.72 20.65 47.22 20.65 47.8 20.59 48.65 20.59 49.71 20.59 50.38 20.65 50.65 20.65 50.77 20.51 50.81 20.02 50.73 19.89\" fill=\"#21313C\"></path> //n\r\n                      </g>\r\n                    </svg> */}\r\n                     <div className=\"contri-img\">\r\n                       {/* <img src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/9/93/MongoDB_Logo.svg/512px-MongoDB_Logo.svg.png\" alt=\"logo MongoDb\"/> */}\r\n                      <svg height=\"10rem\" width=\"10rem\" viewBox=\"0 0 13 26\">\r\n                        <path d=\"M11.7 10.4C10.3 4.3 7.4 2.7 6.7 1.6 6.3 1.1 6.1 0.5 5.8 0 5.8 0.5 5.7 0.9 5.3 1.3 4.3 2.1 0.4 5.3 0 12.2-0.3 18.7 4.8 22.6 5.5 23 6 23.3 6.7 23 7 22.8 9.4 21.1 12.8 16.7 11.7 10.4\" fill=\"#10AA50\"></path>\r\n                        <path d=\"M6 19.5C5.8 21.1 5.7 22 5.4 22.9 5.4 22.9 5.6 24.4 5.8 26L6.3 26C6.5 24.9 6.7 23.8 6.9 22.7 6.2 22.3 6 20.9 6 19.5Z\" fill=\"#B8C4C2\"></path>\r\n                        <path d=\"M7 22.8L7 22.8C6.3 22.4 6.1 20.9 6.1 19.6 6.3 17.3 6.3 15 6.3 12.6 6.2 11.4 6.3 1.5 6 0 6.2 0.5 6.4 1 6.7 1.4 7.4 2.6 10.3 4.2 11.7 10.3 12.8 16.6 9.5 21.1 7 22.8Z\" fill=\"#12924F\"></path>\r\n                      </svg>\r\n                    </div>\r\n                    <div className=\"contri-info\">\r\n                      <div className=\"contri-name\">\r\n                        <h4><a href=\"https://www.mongodb.com/\">MongoDB</a> | trusted by millions of users</h4>\r\n                      </div>\r\n                      <div className=\"contri-text\">\r\n                        <p>{isEnglish ? 'Regardless of data integrity in return for query flexibility and speed, we need a NoSql repository for the application. So MongoDB is our choice. They guarantee speed and also come with some risks but with nDsApp this is the database we use.' \r\n                        : 'Bỏ qua tính toàn vẹn của dữ liệu đổi lại sự linh hoạt và tốc độ truy vấn, chúng tôi cần một nơi lưu trữ NoSql cho ứng dụng. Vì thế MongoDB là sự lựa chọn của chúng tôi. Chúng đảm bảo về tốc độ và cũng gặp một số rủi ro nhưng với nDsApp thì đây là cơ sở dữ liệu chúng tôi tin dùng'}</p>\r\n                       \r\n                      </div>\r\n                    </div>  \r\n                  </div>\r\n\r\n                  {/* Visual Code */}\r\n                  <div className=\"contribute\">\r\n                    <div className=\"contri-img\">\r\n                      <img src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/9/9a/Visual_Studio_Code_1.35_icon.svg/800px-Visual_Studio_Code_1.35_icon.svg.png\" alt=\"logo Visual Code\"></img>\r\n                    </div>\r\n                    <div className=\"contri-info\">\r\n                      <div className=\"contri-name\">\r\n                        <h4><a href=\"https://code.visualstudio.com/\">Visual Code</a> | Open source-fast and full-featured</h4>\r\n                      </div>\r\n                      <div className=\"contri-text\">\r\n                        <p>{isEnglish ? 'Visual Studio Code (VS Code or VSC) is one of the most popular source code editors. Its fast, lightweight, cross-platform support, lots of features, and our development team used it for coding.' \r\n                        : 'Visual Studio Code (VS Code hay VSC) là một trong những trình soạn thảo mã nguồn phổ biến nhất. Nhanh, nhẹ, hỗ trợ đa nền tảng, nhiều tính năng và nhóm phát triển chúng tôi đã dùng nó để phục vụ cho việc code'}</p>\r\n\r\n                      </div>\r\n                    </div>     \r\n                   \r\n                  </div>\r\n\r\n                  {/* StackOverflow */}\r\n                  <div className=\"contribute\">\r\n                    <div className=\"contri-img\">\r\n                      <img src=\"https://upload.wikimedia.org/wikipedia/commons/8/81/Stackoverflow_icon.png\" alt=\"logo StackOverflow\"></img>\r\n                    </div>\r\n                    <div className=\"contri-info\">\r\n                      <div className=\"contri-name\">\r\n                        <h4><a href=\"https://stackoverflow.com/\">StackOverflow</a> | the best place to find and debug</h4>\r\n                      </div>\r\n                      <div className=\"contri-text\">\r\n                        <p>{!isEnglish ? 'Là một môi trường trao đổi thông tin về lỗi và khắc phục lỗi của mọi lập trình viên trên khắp thế giới. Không ngoại lệ, trong quá trình triển khai dự án chúng tôi gặp rất nhiều vấn đề và StackOverflow là nơi nhóm chúng tôi tìm kiếm thông tin về các lỗi. Hầu hết tất cả đều được giải quyết.' \r\n                        : 'An environment for exchanging error information and correcting errors for developers around the world. No exception, during project implementation we ran into a lot of problems, and StackOverflow was where our team was looking for information about bugs. Almost all are resolved.'}</p>\r\n                        \r\n                      </div>\r\n                    </div>  \r\n                  </div>\r\n\r\n                  {/* Google Chrome */}\r\n                  <div className=\"contribute\">\r\n                    <div className=\"contri-img\">\r\n                      <img src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a5/Google_Chrome_icon_%28September_2014%29.svg/800px-Google_Chrome_icon_%28September_2014%29.svg.png\" alt=\"logo Google Chrome\"></img>\r\n                    </div>\r\n                    <div className=\"contri-info\">\r\n                      <div className=\"contri-name\">\r\n                        <h4><a href=\"https://www.google.com/chrome/\">Google Chrome</a> | find infinite information</h4>\r\n                      </div>\r\n                      <div className=\"contri-text\">\r\n                        <p>{isEnglish ? 'As a program to search and access information pages on the Internet, all provided by Google and they are completely free. We looked for a lot of information in app building and more. Chrome is also the environment for us to test generated pages.' \r\n                        : 'Là một chương trình tìm kiếm và truy cập các trang thông tin trên mạng Internet, tất cả đều được Google cung cấp và chúng hoàn toàn miễn phí. Chúng tôi đã tìm kiếm rất nhiều thông tin trong việc xây dựng app và hơn thế nữa. Chrome cũng là môi trường để chúng tôi chạy thử nghiệm các trang được tạo ra.'}</p>\r\n\r\n                      </div>\r\n                    </div>  \r\n                  </div>\r\n\r\n                  {/* Heroku Server*/}\r\n                  <div className=\"contribute\">\r\n                    <div className=\"contri-img\">\r\n                      <img src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d1/Cib-heroku_%28CoreUI_Icons_v1.0.0%29.svg/120px-Cib-heroku_%28CoreUI_Icons_v1.0.0%29.svg.png\" alt=\"logo Heroku\"></img>\r\n                    </div>\r\n                    <div className=\"contri-info\">\r\n                      <div className=\"contri-name\">\r\n                        <h4><a href=\"https://www.heroku.com/\">Heroku Server</a> | Cloud platform for your projects</h4>\r\n                      </div>\r\n                      <div className=\"contri-text\">\r\n                        <p>{isEnglish ? 'As a cloud application in the form of PaaS provides an environment for developers the simplest way to bring their application to market. Allows developers to freely focus on their core product without distraction in maintaining server, hardware, or infrastructure. nDsApp is operated on this cloud platform. There are paid and free versions available, depending on user needs.' \r\n                        : 'Là một ứng dụng đám mây dưới dạng PaaS cung cấp môi trường cho các nhà phát triển con đường đơn giản nhất để đưa ứng dụng của họ ra thị trường. Cho phép các nhà phát triển tự do tập trung vào sản phẩm cốt lõi của họ mà không bị phân tâm trong việc duy trì máy chủ, phần cứng hoặc cơ sở hạ tầng. Ứng dụng của chúng tôi được hoạt động trên nền tảng đám mây này. Hiện có phiên bản trả phí và miễn phí, tuỳ vào nhu cầu người dùng.'}</p>\r\n                      </div>\r\n                    </div>  \r\n                  </div>\r\n\r\n                  {/* Opensky Server*/}\r\n                  <div className=\"contribute\">\r\n                    <div className=\"contri-img\">\r\n                      <img src=\"https://opensky-network.org/images/opensky_logo.png\" alt=\"logo Heroku\"></img>\r\n                    </div>\r\n                    <div className=\"contri-info\">\r\n                      <div className=\"contri-name\">\r\n                        <h4><a href=\"https://www.heroku.com/\">Opensky</a> | Provide data planes of the air space</h4>\r\n                      </div>\r\n                      <div className=\"contri-text\">\r\n                        <p>{isEnglish ? 'The OpenSky Network is a non-profit association based in Switzerland. It aims at improving the security, reliability and efficiency of the air space usage by providing open access of real-world air traffic control data to the public. The OpenSky Network consists of a multitude of sensors connected to the Internet by volunteers, industrial supporters, and academic/governmental organizations' \r\n                        : 'OpenSky Network là một hiệp hội phi lợi nhuận có trụ sở tại Thụy Sĩ. Nó nhằm mục đích cải thiện an ninh, độ tin cậy và hiệu quả của việc sử dụng không gian bằng cách cung cấp cho công chúng quyền truy cập mở vào dữ liệu kiểm soát không lưu trong thế giới thực. Mạng OpenSky bao gồm vô số cảm biến được kết nối với Internet bởi các tình nguyện viên, những người ủng hộ công nghiệp và các tổ chức học thuật / chính phủ.'}.</p>\r\n                      \r\n                      </div>\r\n                    </div>  \r\n                  </div>\r\n\r\n                  {/* nDs Group */}\r\n                  <div className=\"contribute\">\r\n                    <div className=\"contri-img\">\r\n                      <img src={img} alt=\"logo nDs group\"></img>\r\n                    </div>\r\n                    <div className=\"contri-info\">\r\n                      <div className=\"contri-name\">\r\n                        <h4><a href=\"https://reactjs.org/\">Other contributions & nDs Group</a> | Exclusion Limit </h4>\r\n                      </div>\r\n                      <div className=\"contri-text\">\r\n                        <p>{isEnglish ? 'A great contribution to a few other personal or organizational components that we cannot fully mention. At the same time, the dedication of our development team to nDsApp is a cherished achievement, our team continues to improve the App gradually and continuously into the future.' \r\n                        : 'Một đóng góp không nhỏ từ những thành phần cá nhân hoặc tổ chức khác mà chúng tôi không thể nêu hết. Đồng thời, một sự cống hiến của nhóm phát triển của chúng tôi vào nDsApp là một thành tựu đáng trân trọng, Nhóm chúng tôi tiếp tục hoàn thiện App dần dần và liên tục trong tương lai'}</p>\r\n                      \r\n                      </div>\r\n                    </div>  \r\n        \r\n                  </div>\r\n                  <Typography gutterBottom={true} variant=\"subtitle1\">\r\n                  {isEnglish ? ' Once again, the app management board respectfully sends to the members and organizations that make a very important contribution to the construction and development of this application. To me it is a spiritual pleasure a pride for the team to develop. Marking an invaluable product for participating in software programming - the Development Teams website./ .' \r\n                        : ' Một lần nữa ban quản lí app trân trọng gửi đến các  thành viên, tổ chức có đóng góp rất là quan trọng vào việc xấy dựng và phát triển ứng dụng này. Với tôi đó là một niềm vui tinh thần một niềm tự hào cho nhóm phát triển. Đánh dấu một sản phẩm vô giá cho việc tham gia vào lập trình phần mềm  - website của Nhóm Phát Triển./ .'}\r\n                  \r\n                  </Typography>\r\n                  <span className=\"writer-Contri\">According to nDs</span>\r\n                </div>\r\n              </section>\r\n            </Container>\r\n            </div>\r\n          );\r\n        }\r\n   \r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Typography, Container } from \"@material-ui/core\";\r\nimport className from 'classnames';\r\nimport _ from 'lodash'\r\n\r\n\r\nconst ref = React.createRef();\r\nexport default class PrivacyApp extends Component {\r\n        constructor(props){\r\n            super(props)\r\n            this.state = {\r\n                showBtnBackToTop: false,\r\n                linkActive: null\r\n            }\r\n\r\n        }\r\n\r\n        componentDidMount() {\r\n            window.addEventListener('scroll', this.toggleVisibility);\r\n            \r\n        }\r\n        componentDidUpdate(){\r\n            console.log(\"link active: \", this.state.linkActive)\r\n        }\r\n\r\n      \r\n        toggleVisibility = () => {\r\n           if(window.pageYOffset > 440){\r\n               this.setState({\r\n                   showBtnBackToTop: true\r\n               })\r\n           }else{\r\n            this.setState({\r\n                showBtnBackToTop: false\r\n            })\r\n           }\r\n        }\r\n      \r\n        scrollToTop() {\r\n            console.log(this.state.showBtnBackToTop, window.pageYOffset, typeof(window.pageYOffset))\r\n            ref.current.scrollIntoView({\r\n                behavior: 'smooth',\r\n                block: 'start',\r\n            })\r\n            \r\n        }\r\n\r\n    render(){\r\n        const {isEnglish} = this.props\r\n        const listsContent = [\r\n            {\r\n                id:1,\r\n                link: '#list1',\r\n                name: 'Privacy Highlights',\r\n                nameNotEng: 'Chính sách nổi bật'\r\n            },\r\n            {\r\n                id:2,\r\n                link: '#list2',\r\n                name: 'nDsApp Collects',\r\n                nameNotEng: 'Ứng dụng thu thập'\r\n            },\r\n            {\r\n                id:3,\r\n                link: '#list3',\r\n                name: 'Purposes Using Info',\r\n                nameNotEng: 'Mục tiêu Thu thập'\r\n            },\r\n            {\r\n                id:4,\r\n                link: '#list4',\r\n                name: 'Sharing of Personal',\r\n                nameNotEng: 'Chia sẻ thông tin cá nhân'\r\n            },\r\n            {\r\n                id:5,\r\n                link: '#list5',\r\n                name: 'Cookie Policy',\r\n                nameNotEng: 'Chính sác Cookie'\r\n            },\r\n            {\r\n                id:6,\r\n                link: '#list6',\r\n                name: 'Data Security',\r\n                nameNotEng: 'Bảo mật dữ liệu'\r\n            },\r\n            {\r\n                id:7,\r\n                link: '#list7',\r\n                name: 'Retention of Info',\r\n                nameNotEng: 'Lưu giữ thông tin'\r\n\r\n            },\r\n            {\r\n                id:8,\r\n                link: '#list8',\r\n                name: 'Children’s Privacy',\r\n                nameNotEng: 'Quyền trẻ em'\r\n            },\r\n            {\r\n                id:9,\r\n                link: '#list9',\r\n                name: 'Third Party Sites',\r\n                nameNotEng: 'Bên thứ ba'\r\n            },\r\n            {\r\n                id:10,\r\n                link: '#list10',\r\n                name: 'Your Rights',\r\n                nameNotEng: 'Quyền của bạn'\r\n            },\r\n            {\r\n                id:11,\r\n                link: '#list11',\r\n                name: 'California Privacy',\r\n                nameNotEng: 'Quyền khu vưc Mỹ'\r\n            },\r\n            {\r\n                id:12,\r\n                link: '#list12',\r\n                name: 'Brazil Privacy',\r\n                nameNotEng: 'Quyền khu vực Brazil'\r\n            },\r\n            {\r\n                id:'12b',\r\n                link: '#list12b',\r\n                name: 'Updates Privacy',\r\n                nameNotEng: 'Chính sách Cập nhật'\r\n            },\r\n            {\r\n                id:14,\r\n                link: '#list14',\r\n                name: 'Contact nDsGroup',\r\n                nameNotEng: 'Liên hệ nDsGroup'\r\n            }\r\n\r\n        ]\r\n        return (\r\n\r\n        <div className=\"privacy-app-main\" ref={ref}>\r\n            \r\n            <div className=\"left-privacy-app\">\r\n                <ul className=\"links-content\">\r\n                    {\r\n                        listsContent.map((list) => {\r\n                            return <li key={list.id}>\r\n                                <a onClick={() => this.setState({linkActive: list.id})} \r\n                                    href={list.link}  className={className('scroll-link', {'activelink-content' : _.get(list, 'id') === this.state.linkActive})}>\r\n                                        {isEnglish ? list.name : list.nameNotEng}\r\n                                </a>\r\n                            </li>\r\n                        })\r\n                    }\r\n                </ul>\r\n            </div>\r\n            <div className=\"right-privacy-app\">\r\n            {this.state.showBtnBackToTop && (\r\n            <div className=\"btn-back-to-top\">\r\n                <div className=\"btn-inside\" onClick={() => this.scrollToTop()}>\r\n                   <span></span>\r\n                </div>\r\n            </div>)}\r\n            <section id='list1' className=\"section-content\">\r\n                <Container>\r\n                    <header>\r\n                        <Typography variant=\"h4\" gutterBottom={true}>\r\n                        {isEnglish ? 'Privacy Statement Highlights' : 'Chính sách nổi bật'}{\" \"}\r\n                        </Typography>\r\n                    </header>\r\n                    <div className=\"deliver\"></div>\r\n                    <br />\r\n                    <section>\r\n                        <Typography gutterBottom={true} variant=\"subtitel1\" style={{color: 'rgb(218, 226, 236)', marginLeft: '1rem'}}>\r\n                        {isEnglish ? 'When you use and interact with our websites or services, communicate with or otherwise contact us, we may collect, use, share and process information relating to you (\"Personal Data\"). These Privacy Statement Highlights summarize our Personal Data processing practices and your related rights.' \r\n                        : 'Khi bạn sử dụng và tương tác với các trang web hoặc dịch vụ của chúng tôi, liên lạc với hoặc liên hệ với chúng tôi, chúng tôi có thể thu thập, sử dụng, chia sẻ và xử lý thông tin liên quan đến bạn (\"Dữ liệu Cá nhân\"). Những điểm nổi bật của Tuyên bố về Quyền riêng tư này tóm tắt các phương pháp xử lý Dữ liệu Cá nhân của chúng tôi và các quyền liên quan của bạn.'}\r\n                        \r\n                        <br />\r\n                        {isEnglish ? 'In this Privacy Policy, \"personal information\" includes references to \"personal data\" as defined under applicable laws. Your use of our Sites and Services, and any dispute over privacy, is subject to this Policy and the relevant Terms, including the applicable limitations on damages and the resolution of disputes. The Terms are incorporated by reference into this Policy.' \r\n                        : 'Trong Chính sách Bảo mật này, \"thông tin cá nhân\" bao gồm các tham chiếu đến \"dữ liệu cá nhân\" như được định nghĩa theo luật hiện hành. Việc bạn sử dụng các Trang web và Dịch vụ của chúng tôi cũng như bất kỳ tranh chấp nào về quyền riêng tư, đều phải tuân theo Chính sách này và các Điều khoản có liên quan, bao gồm các giới hạn hiện hành về thiệt hại và giải quyết tranh chấp. Các Điều khoản được kết hợp bằng cách tham chiếu vào Chính sách này.'}\r\n                        \r\n                        </Typography>\r\n                    </section>\r\n                </Container>\r\n            </section>\r\n            <section id='list2' className=\"section-content\">\r\n                <Container>\r\n                    <header>\r\n                        <Typography variant=\"h4\" gutterBottom={true}>\r\n                        {isEnglish ? 'Personal Information That nDsApp Collects' : 'nDsApp thu thập thông tin các nhân'}{\" \"}\r\n                        </Typography>\r\n                    </header>\r\n                    <div className=\"deliver\"></div>\r\n                    <br />\r\n                    <section>\r\n                        <Typography gutterBottom={true} variant=\"subtitel1\" style={{color: 'rgb(218, 226, 236)', marginLeft: '1rem'}}>\r\n                        {isEnglish ?'We collect personal information when visit to App or you register for an account.'\r\n                        :'Chúng tôi thu thập thông tin cá nhân khi bạn truy cập vào Ứng dụng hoặc bạn đăng ký tài khoản.'}\r\n                        <br />\r\n                        {isEnglish ? 'Personal information collected on the Sites includes community forum content, profiles, photographs, names, unique identifiers (e.g., social media handles or usernames), contact and billing information (e.g., email address, postal address, telephone, fax), and transaction information. Also, in order to tailor subsequent communications to users and continuously improve the Sites’ operations and services, nDsApp also ask users to provide additional optional information regarding their interests, demographics, experience and detailed contact preferences.'\r\n                        : 'Thông tin cá nhân được thu thập trên Trang web bao gồm nội dung diễn đàn cộng đồng, hồ sơ, ảnh, tên, số nhận dạng duy nhất (ví dụ: xử lý phương tiện truyền thông xã hội hoặc tên người dùng), thông tin liên hệ và thanh toán (ví dụ: địa chỉ email, địa chỉ bưu điện, điện thoại, fax), và thông tin giao dịch. Ngoài ra, để điều chỉnh các giao tiếp tiếp theo cho người dùng và liên tục cải thiện hoạt động và dịch vụ của Sites, nDsApp cũng yêu cầu người dùng cung cấp thông tin tùy chọn bổ sung liên quan đến sở thích, nhân khẩu học, kinh nghiệm và sở thích liên hệ chi tiết của họ.'}\r\n                        <br />\r\n\r\n                        {isEnglish ? 'Communications. When you communicate with us (via email, phone, through the Sites or otherwise), we may maintain a record of your communication.' \r\n                        : 'Thông tin liên lạc. Khi bạn liên lạc với chúng tôi (qua email, điện thoại, qua Trang web hoặc cách khác), chúng tôi có thể duy trì hồ sơ liên lạc của bạn.'}\r\n                        <br />\r\n                        {isEnglish ? ' Automatically Collected Information. In addition, nDsApp may automatically collect the following information about users’ use of the Sites or Services through cookies, web beacons, and other technologies: your domain name; your browser type and operating system; web pages you view; links you click; your IP address; the length of time you visit our Sites and or use our Services; and the referring URL, or the webpage that led you to our Sites. We may combine this information with other information that we have collected about you, including, where applicable, your user name, name, and other personal information. Please see our Cookie Policy for more information about our use of cookies.'\r\n                        : 'Thông tin được thu thập tự động. Ngoài ra, nDsApp có thể tự động thu thập thông tin sau về việc sử dụng Trang web hoặc Dịch vụ của người dùngthông qua cookie, đèn hiệu web và các công nghệ khác: tên miền của bạn; loại trình duyệt và hệ điều hành của bạn; các trang web bạn xem; liên kết bạn nhấp vào; địa chỉ IP của bạn;khoảng thời gian bạn truy cập Trang web của chúng tôi và hoặc sử dụng Dịch vụ của chúng tôi; và URL giới thiệu hoặc trang web đã dẫn bạn đến các Trang web của chúng tôi. Chúng tôi có thể kết hợp thông tin này vớithông tin khác mà chúng tôi đã thu thập về bạn, bao gồm, nếu có, tên người dùng, tên của bạn và thông tin cá nhân khác. Vui lòng xem Chính sách Cookie của chúng tôi để biết thêm thông tin về việc sử dụng cookie của chúng tôi.'}\r\n                        <br />\r\n                        {isEnglish ? 'De-identified Information. We may de-identify and aggregate certain personal information we collect such that the information no longer identifies or can be linked to a particular user or an individual data subject (“De-identified Information”), subject to the terms of any applicable user agreements. We may use this information to improve our Services, analyze trends, publish market research, and for other marketing, research or statistical purposes, and may disclose such information to third parties for these specific purposes.' \r\n                        : 'Thông tin được xác định danh tính. Chúng tôi có thể xóa danh tính và tổng hợp thông tin cá nhân nhất định mà chúng tôi thu thập để thông tin đó không còn nhận dạng hoặc có thể được liên kếtcho một người dùng cụ thể hoặc một chủ thể dữ liệu riêng lẻ (“Thông tin được xác định danh tính”), tuân theo các điều khoản của bất kỳ thỏa thuận người dùng hiện hành nào. Chúng tôi có thể sử dụng thông tin nàyđể cải thiện Dịch vụ của chúng tôi, phân tích xu hướng, xuất bản nghiên cứu thị trường và cho các mục đích tiếp thị, nghiên cứu hoặc thống kê khác và có thể tiết lộ thông tin đó cho các bên thứ ba cho các mục đích cụ thể này.'}\r\n                        </Typography>\r\n                    </section>\r\n                </Container>\r\n            </section>\r\n            <section id='list3' className=\"section-content\">\r\n                <Container>\r\n                    <header>\r\n                        <Typography variant=\"h4\" gutterBottom={true}>\r\n                        {isEnglish? 'Purposes and Legal Bases for Our Using of Your Personal Information' : 'Mục đích và Cơ sở pháp lý để Chúng tôi Sử dụng Thông tin Cá nhân của Bạn'}{\" \"}\r\n                        </Typography>\r\n                    </header>\r\n                    <div className=\"deliver\"></div>\r\n                    <br />\r\n                    <section>\r\n                        <Typography gutterBottom={true} variant=\"subtitel1\" style={{color: 'rgb(218, 226, 236)', marginLeft: '1rem'}}>\r\n                        {isEnglish ? 'Purposes and Legitimate Interests nDsApp use the personal information we collect for our legitimate operate interests, which include the following purposes:' \r\n                        : 'Mục đích và lợi ích hợp pháp nDsApp sử dụng thông tin cá nhân mà chúng tôi thu thập cho các lợi ích hoạt động hợp pháp của chúng tôi, bao gồm các mục đích sau:'}\r\n                        <br />\r\n                        {isEnglish ? 'Providing our Sites and Services. To provide the Services and our Sites (including Project Sites), to communicate with you about your use of our Sites and Services, to respond to your inquiries, provide troubleshooting of the Sites and for other purposes to support users and the community.' \r\n                        : 'Cung cấp các Trang web và Dịch vụ của chúng tôi. Để cung cấp Dịch vụ và Trang web của chúng tôi (bao gồm Trang web dự án), để trao đổi với bạn về việc bạn sử dụng Trang web và Dịch vụ của chúng tôi, để trả lời các câu hỏi của bạn, cung cấp cách khắc phục sự cố của Trang web và cho các mục đích khác để hỗ trợ người dùng và cộng đồng.'}\r\n                        <br />\r\n                        {isEnglish ? \"In addition, to ensure the safety of the system, the way it works properly, ensure the security of resources and information that we collect from people, and ensure the stability you interact with. application. We don't know for sure who you are so we need to collect every possible information from users accessing and authorized users, making sure they are all confidential only you and we know, and a The amount of information is encoded according to the pattern that we generate, we may not even be able to know without deep intervention, except in special cases where it is necessary to decode that information.\"\r\n                        : 'Ngoài ra, để đảm bảo an toàn cho hệ thống, cách thức hoạt động của hệ thống, đảm bảo an toàn cho tài nguyên và thông tinmà chúng tôi thu thập từ mọi người và đảm bảo sự ổn định mà bạn tương tác. ứng dụng. Chúng tôi không biết chắc chắn bạn là aichúng tôi cần thu thập mọi thông tin có thể có từ người dùng truy cập và người dùng được ủy quyền, đảm bảo rằng tất cả chúng chỉ được bảo mậtbạn và chúng tôi biết, và một lượng thông tin được mã hóa theo mẫu mà chúng tôi tạo ra, chúng tôi thậm chí có thể không biết nếu không có sự can thiệp sâu,trừ những trường hợp đặc biệt cần thiết phải giải mã thông tin đó.'}\r\n                        <br />\r\n                        {isEnglish ? 'Prevent Misuse. Where we believe necessary to investigate, prevent or take action regarding illegal activities, suspected fraud, situations involving potential threats to the safety of any person or violations of the relevant Terms or this Privacy Policy.' \r\n                        : 'Ngăn chặn việc sử dụng sai. Trường hợp chúng tôi tin rằng cần thiết để điều tra, ngăn chặn hoặc thực hiện hành động liên quan đến các hoạt động bất hợp pháp, nghi ngờ gian lận, các tình huống liên quan đến các mối đe dọa tiềm ẩn đối với sự an toàn của bất kỳ người nào hoặc vi phạm Điều khoản liên quan hoặc Chính sách quyền riêng tư này.'}\r\n                        </Typography>\r\n                    </section>\r\n                </Container>\r\n            </section>\r\n            <section id='list4' className=\"section-content\">\r\n                <Container>\r\n                    <header>\r\n                        <Typography variant=\"h4\" gutterBottom={true}>\r\n                        {isEnglish ? ' Sharing of Personal Information' : 'Chia sẻ thông tin cá nhân'}{\" \"}\r\n                        </Typography>\r\n                    </header>\r\n                    <div className=\"deliver\"></div>\r\n                    <br />\r\n                    <section>\r\n                        <Typography gutterBottom={true} variant=\"subtitel1\" style={{color: 'rgb(218, 226, 236)', marginLeft: '1rem'}}>\r\n                        {isEnglish ? ' We may share personal information with third parties who provide services to nDsApp, such as payment processors, email delivery services, software providers and when we enter into product integrations with Software providers. Additionally, to improve user experience, we offer single sign-on solutions for account login and these third parties (including Facebook and Google) may receive information from these services when you elect to use them. When nDsApp shares your personal information and other collected information with third party service providers, we require that they use your information only for the purpose of providing services to us and consistent with this privacy policy.'\r\n                        : 'Chúng tôi có thể chia sẻ thông tin cá nhân với các bên thứ ba cung cấp dịch vụ cho nDsApp, chẳng hạn như bộ xử lý thanh toán,dịch vụ gửi email, nhà cung cấp phần mềm và khi chúng tôi tham gia tích hợp sản phẩm với nhà cung cấp Phần mềm.Ngoài ra, để cải thiện trải nghiệm người dùng, chúng tôi cung cấp các giải pháp đăng nhập một lần để đăng nhập tài khoản và các bên thứ ba này (bao gồm Facebook và Google) có thểnhận thông tin từ các dịch vụ này khi bạn chọn sử dụng chúng. Khi nDsApp chia sẻ thông tin cá nhân của bạn và các thông tin đã thu thập khác với các nhà cung cấp dịch vụ bên thứ ba,chúng tôi yêu cầu họ chỉ sử dụng thông tin của bạn cho mục đích cung cấp dịch vụ cho chúng tôi và nhất quán với chính sách bảo mật này.'}\r\n                        <br />\r\n                        {isEnglish ? 'Legally Required. We may disclose your information if we are required to do so by law (including to law enforcement in the U.S. and other jurisdictions).Protection of Rights. We may disclose information where we believe it necessary to respond to claims asserted against us or, comply with legal process (e.g., subpoenas or warrants), enforce or administer our agreements and terms, for fraud prevention, risk assessment, investigation, and protect the rights, property or safety of nDsApp, its Users, participants in its events or Projects, or others.Anonymized and Aggregated Information. We may share aggregate or De-identified information with third parties for research, marketing, analytics and other purposes, provided such information does not identify a particular individual.' \r\n                        : 'Bắt buộc về mặt pháp lý. Chúng tôi có thể tiết lộ thông tin của bạn nếu luật pháp yêu cầu chúng tôi làm như vậy (bao gồm cả đối với cơ quan thực thi pháp luật ở Hoa Kỳ và các khu vực pháp lý khác).Bảo vệ Quyền. Chúng tôi có thể tiết lộ thông tin mà chúng tôi tin rằng cần thiết để phản hồi các tuyên bố chống lại chúng tôi hoặc tuân thủ quy trình pháp lý (ví dụ: trát đòi hầu tòa hoặc trát),thực thi hoặc quản lý các thỏa thuận và điều khoản của chúng tôi, để ngăn ngừa gian lận, đánh giá rủi ro, điều tra và bảo vệ các quyền, tài sản hoặcsự an toàn của nDsApp, Người dùng của nó, những người tham gia vào các sự kiện hoặc Dự án của nó, hoặc những người khác.Thông tin được ẩn danh và tổng hợp. Chúng tôi có thể chia sẻ thông tin tổng hợp hoặc thông tin chưa được xác định với các bên thứ ba để nghiên cứu, tiếp thị, phân tích vàcác mục đích khác, miễn là thông tin đó không xác định một cá nhân cụ thể.'}\r\n                        <br />\r\n                        {isEnglish ? 'We absolutely do not use your information for commercial purposes or have any related problems for the unauthorized use of your personal information without the consent of the user. However, with some core activities such as brand development, traffic usage evaluation of information storage system we may use a few small points in your information that we store (About They are basically all public when operating on the app) and make sure that the information is used with strict, closed communication between us and third parties, ensuring user privacy and placing give them the legal status if they use the information.'\r\n                        : 'Chúng tôi tuyệt đối không sử dụng thông tin của bạn cho mục đích thương mại hoặc có bất kỳ vấn đề gì liên quan đến việc sử dụng trái phép thông tin cá nhân của bạn khi chưa được sự đồng ý của người dùng.Tuy nhiên, với một số hoạt động cốt lõi như phát triển thương hiệu, đánh giá lưu lượng sử dụng hệ thống lưu trữ thông tin, chúng tôi có thể sử dụng một vài điểm nhỏ trong thông tin của bạn mà chúng tôi lưu trữ(Về cơ bản Tất cả đều công khai khi hoạt động trên ứng dụng) và đảm bảo rằng thông tin được sử dụng với sự trao đổi chặt chẽ, kín giữa chúng tôi vàbên thứ ba, đảm bảo quyền riêng tư của người dùng và đặt cho họ tư cách pháp lý nếu họ sử dụng thông tin.'}\r\n                        </Typography>\r\n                    </section>\r\n                </Container>\r\n            </section>\r\n            <section id='list5' className=\"section-content\">\r\n                <Container>\r\n                    <header>\r\n                        <Typography variant=\"h4\" gutterBottom={true}>\r\n                        {isEnglish ? 'Cookie Policy' : 'Chính sách Cookie'}{\" \"}\r\n                        </Typography>\r\n                    </header>\r\n                    <div className=\"deliver\"></div>\r\n                    <br />\r\n                    <section>\r\n                        <Typography gutterBottom={true} variant=\"subtitel1\" style={{color: 'rgb(218, 226, 236)', marginLeft: '1rem'}}>\r\n                        {isEnglish ? 'A cookie is a small piece of text that allows a website to recognize your device and maintain a consistent, cohesive experience throughout multiple sessions. If you use the nDsApp Network, both nDsApp and third parties will use cookies to track and monitor some of your activities on and off the nDsApp Network, and store and access some data about you, your browsing history, and your using.' \r\n                        : 'Cookie là một đoạn văn bản nhỏ cho phép trang web nhận ra thiết bị của bạn và duy trì trải nghiệm nhất quán, gắn kết trong nhiều phiên.Nếu bạn sử dụng Mạng nDsApp, cả nDsApp và các bên thứ ba sẽ sử dụng cookie để theo dõi và giám sát một số hoạt động của bạn trên và ngoài Mạng nDsApp,và lưu trữ và truy cập một số dữ liệu về bạn, lịch sử duyệt web và việc sử dụng của bạn.'}\r\n                        <br />\r\n                        {isEnglish ? 'This policy describes how both nDsApp and other third parties use cookies both within and without the nDsApp network and how you can exercise a greater degree of control over cookies. Please keep in mind that this may alter your experience with our platform, and may limit certain features (including being logged in as a user).' \r\n                        : 'Chính sách này mô tả cách cả nDsApp và các bên thứ ba khác sử dụng cookie cả bên trong và không có mạng nDsApp và cách bạn có thể thực hiện mức độ kiểm soát cao hơn đối với cookie. Hãy nhớ rằng điều này có thể thay đổi trải nghiệm của bạn với nền tảng của chúng tôi và có thể hạn chế một số tính năng nhất định (bao gồm cả việc đăng nhập với tư cách người dùng).'}\r\n                        <br />\r\n                        {isEnglish ? ' General Browsing: We use cookies that are important for certain technical features of our website, like logging into user accounts and implementing fixes and improvements to our platform.'\r\n                        : 'Duyệt web chung: Chúng tôi sử dụng các cookie quan trọng đối với các tính năng kỹ thuật nhất định của trang web của chúng tôi, như đăng nhập vào tài khoản người dùng và triển khai các bản sửa lỗi và cải tiến cho nền tảng của chúng tôi.'}\r\n                        <br />\r\n                        {isEnglish ? 'These cookies:' : 'Các cookie gồm:'}<br />\r\n                            <li>{isEnglish ? 'Enable behavior in our Products and/or Services that is tailored to the activity or preferences of a person visiting our properties'\r\n                            :'Cho phép hành vi trong Sản phẩm và / hoặc Dịch vụ của chúng tôi được điều chỉnh cho phù hợp với hoạt động hoặc sở thích của một người đến thăm các sản phẩm của chúng tôi'}</li>\r\n                            <li>{isEnglish ? 'Allow users to opt out of certain types of modeling, tailoring, or personalization in our products'\r\n                            :'Cho phép người dùng chọn không tham gia một số loại mô hình hóa, thiết kế riêng hoặc cá nhân hóa trong các sản phẩm của chúng tôi'}</li>\r\n                            <li>{isEnglish ? 'Collect information on our users’ preferences in order to create more useful products'\r\n                            :'Thu thập thông tin về sở thích của người dùng để tạo ra nhiều sản phẩm hữu ích hơn'}</li>\r\n                            <li>{isEnglish ? 'Maintain the regular business operations of our Advertising and Marketing departments'\r\n                            :'Duy trì hoạt động kinh doanh thường xuyên của các bộ phận Quảng cáo và Tiếp thị của chúng tôi (chẳng hạn như cửa sổ bật lên một lần hoặc hiển thị \"anh hùng\" khi lần đầu tiên truy cập vào một trang web và để thu thập số lần hiển thị và nhấp chuột)'}</li>\r\n                            <li>{isEnglish ? 'Help to diagnose and correct downtime, bugs, and errors in our code to ensure that our products are operating efficiently':'Giúp chẩn đoán và sửa thời gian chết, lỗi và lỗi trong mã của chúng tôi để đảm bảo rằng các sản phẩm của chúng tôi đang hoạt động hiệu quả'}</li>\r\n                        </Typography>\r\n                    </section>\r\n                </Container>\r\n            </section>\r\n            <section id='list6' className=\"section-content\">\r\n                <Container>\r\n                    <header>\r\n                        <Typography variant=\"h4\" gutterBottom={true}>\r\n                        {isEnglish ? 'Data Security' : 'Bảo mật dữ liệu'}{\" \"}\r\n                        </Typography>\r\n                    </header>\r\n                    <div className=\"deliver\"></div>\r\n                    <br />\r\n                    <section>\r\n                        <Typography gutterBottom={true} variant=\"subtitel1\" style={{color: 'rgb(218, 226, 236)', marginLeft: '1rem'}}>\r\n                        {isEnglish ? 'We have implemented commercially reasonable precautions designed to protect the information we collect from loss, misuse, and unauthorized access, disclosure, alteration, and destruction. Please be aware that despite our best efforts, no data security measures can guarantee 100% security.'\r\n                        :'Chúng tôi đã thực hiện các biện pháp phòng ngừa hợp lý về mặt thương mại được thiết kế để bảo vệ thông tin chúng tôi thu thập khỏi bị mất mát, lạm dụng, và truy cập, tiết lộ, thay đổi và phá hủy trái phép. Xin lưu ý rằng mặc dù chúng tôi đã cố gắng hết sức, nhưng không có biện pháp bảo mật dữ liệu nào có thể đảm bảo an toàn 100%.'}\r\n                        <br />\r\n                        {isEnglish ? 'You should take steps to protect against unauthorized access to your passwords, phone, and computer by, among other things, signing off after using a shared computer, choosing robust passwords that nobody else knows or can easily guess, not using a password for more than one site or service, and keeping your log-ins and passwords private. We are not responsible for any lost, stolen, or compromised passwords or for any activity on your account via unauthorized password activity. We ask you to promptly notify us if you become aware that any information provided by or submitted to our Sites or through our S is lost, stolen, or used without permission at'\r\n                        :'Bạn nên thực hiện các bước để bảo vệ khỏi truy cập trái phép vào mật khẩu, điện thoại và máy tính của mình bằng cách đăng xuất sau khi sử dụng máy tính dùng chung,chọn mật khẩu mạnh mà không ai khác biết hoặc có thể dễ dàng đoán được, không sử dụng mật khẩu cho nhiều trang web hoặc dịch vụ và giữ bí mật thông tin đăng nhập và mật khẩu của bạn.Chúng tôi không chịu trách nhiệm về bất kỳ mật khẩu nào bị mất, bị đánh cắp hoặc bị xâm phạm hoặc đối với bất kỳ hoạt động nào trên tài khoản của bạn thông qua hoạt động mật khẩu trái phép. Chúng tôi yêu cầu bạn nhanh chóng thông báo cho chúng tôinếu bạn biết rằng bất kỳ thông tin nào được cung cấp bởi hoặc được gửi đến các Trang web của chúng tôi hoặc thông qua S của chúng tôi đều bị mất, bị đánh cắp hoặc được sử dụng mà không được phép tại'}\r\n                        <a style={{color: \"hsl(185, 57%, 50%)\"}} href=\"/about/feedback\">{isEnglish ? ' Feedback-Support' : ' Hỗ trợ-Phản hồi'}</a>.\r\n                        </Typography>\r\n                    </section>\r\n                </Container>\r\n            </section>\r\n            <section id='list7' className=\"section-content\">\r\n                <Container>\r\n                    <header>\r\n                        <Typography variant=\"h4\" gutterBottom={true}>\r\n                        {isEnglish ? 'Retention of Your Personal Information' : 'Lưu giữ thông tin cá nhân của bạn'}{\" \"}\r\n                        </Typography>\r\n                    </header>\r\n                    <div className=\"deliver\"></div>\r\n                    <br />\r\n                    <section>\r\n                        <Typography gutterBottom={true} variant=\"subtitel1\" style={{color: 'rgb(218, 226, 236)', marginLeft: '1rem'}}>\r\n                        {isEnglish ? 'We generally keep personal information only for as long as required to fulfill the purposes for which it was collected. However, in some circumstances, we may retain personal information for other periods of time, for instance where we are required to do so in accordance with legal, tax and accounting requirements, or if required to do so by a legal process, legal authority, or other governmental entity having authority to make the request, for so long as required. In specific circumstances, we may also retain your personal information for longer periods of time corresponding to a statute of limitation, so that we have an accurate record of your dealings with us in the event of any complaints or challenges.' \r\n                        :'Chúng tôi thường chỉ lưu giữ thông tin cá nhân chừng nào được yêu cầu để thực hiện các mục đích mà thông tin đó được thu thập. Tuy nhiên, trong một số trường hợp, chúng tôi có thể lưu giữ thông tin cá nhân trong những khoảng thời gian khác, chẳng hạn như khi chúng tôi buộc phải làm như vậy theo các yêu cầu pháp lý, thuế và kế toán, hoặc nếu được yêu cầu làm như vậy bởi một quy trình pháp lý, cơ quan pháp lý hoặc tổ chức chính phủ khác có thẩm quyền đưa ra yêu cầu, trong thời gian dài nếu được yêu cầu. Trong những trường hợp cụ thể, chúng tôi cũng có thể lưu giữ thông tin cá nhân của bạn trong thời gian dài hơn tương ứng với quy chế giới hạn, để chúng tôi có hồ sơ chính xác về các giao dịch của bạn với chúng tôi trong trường hợp có bất kỳ khiếu nại hoặc thách thức nào.'}\r\n                        </Typography>\r\n                    </section>\r\n                </Container>\r\n            </section>\r\n            <section id='list8' className=\"section-content\">\r\n                <Container>\r\n                    <header>\r\n                        <Typography variant=\"h4\" gutterBottom={true}>\r\n                        {isEnglish ? 'Children’s Privacy' : 'Quyền riêng tư của trẻ em'}{\" \"}\r\n                        </Typography>\r\n                    </header>\r\n                    <div className=\"deliver\"></div>\r\n                    <br />\r\n                    <section>\r\n                        <Typography gutterBottom={true} variant=\"subtitel1\" style={{color: 'rgb(218, 226, 236)', marginLeft: '1rem'}}>\r\n                        {isEnglish ? ' Except as specifically indicated within a Site, we do not knowingly collect or solicit personal information from anyone under the age of sixteen (16), or knowingly allow such persons to register. If we become aware that we have collected personal information from a child under the relevant age without parental consent, we take steps to delete that information. Where we specifically indicate that we collect personal information from children under 16, we will obtain the parent or guardian’s consent and provide adequate notice.' \r\n                        : 'Trừ khi được chỉ định cụ thể trong một Trang web, chúng tôi không cố ý thu thập hoặc cố tình thu thập thông tin cá nhân từ bất kỳ ai dưới mười sáu (16) tuổi, hoặc cố ý cho phép những người đó đăng ký.Nếu chúng tôi biết rằng chúng tôi đã thu thập thông tin cá nhân từ một đứa trẻ dưới độ tuổi có liên quan mà không có sự đồng ý của cha mẹ, chúng tôi sẽ thực hiện các bước để xóa thông tin đó. Trường hợp chúng tôi chỉ rõ rằng chúng tôi thu thập thông tin cá nhân từ trẻ em dưới 16 tuổi,chúng tôi sẽ nhận được sự đồng ý của cha mẹ hoặc người giám hộ và cung cấp thông báo đầy đủ.'}\r\n                        </Typography>\r\n                    </section>\r\n                </Container>\r\n            </section>\r\n            <section id='list9' className=\"section-content\">\r\n                <Container>\r\n                    <header>\r\n                        <Typography variant=\"h4\" gutterBottom={true}>\r\n                        {isEnglish ? 'Links to Third Party Sites and Services' : 'Liên kết đến các trang web và dịch vụ của bên thứ ba'}{\" \"}\r\n                        </Typography>\r\n                    </header>\r\n                    <div className=\"deliver\"></div>\r\n                    <br />\r\n                    <section>\r\n                        <Typography gutterBottom={true} variant=\"subtitel1\" style={{color: 'rgb(218, 226, 236)', marginLeft: '1rem'}}>\r\n                        {isEnglish ? 'The Sites may contain links to third party sites or online services. Please refer to the privacy policies of the relevant third party websites or services to find out more about how they process and handle personal information.'\r\n                        : 'Các Trang web có thể chứa các liên kết đến các trang web của bên thứ ba hoặc các dịch vụ trực tuyến. Vui lòng tham khảo chính sách bảo mật của các trang web hoặc dịch vụ của bên thứ ba có liên quan để tìm hiểu thêm về cách họ xử lý và xử lý thông tin cá nhân.'}\r\n                        </Typography>\r\n                    </section>\r\n                </Container>\r\n            </section>\r\n            <section id='list10' className=\"section-content\">\r\n                <Container>\r\n                    <header>\r\n                        <Typography variant=\"h4\" gutterBottom={true}>\r\n                        {isEnglish ? 'You Rights' : 'Quyền của bạn'}{\" \"}\r\n                        </Typography>\r\n                    </header>\r\n                    <div className=\"deliver\"></div>\r\n                    <br />\r\n                    <section>\r\n                        <Typography gutterBottom={true} variant=\"subtitel1\" style={{color: 'rgb(218, 226, 236)', marginLeft: '1rem'}}>\r\n                        {isEnglish ? 'Access and Amendment. You may contact our privacy coordinator, as set forth below, to access or amend your personal information.'\r\n                        : 'Truy cập và Sửa đổi. Bạn có thể liên hệ với điều phối viên về quyền riêng tư của chúng tôi, như được nêu dưới đây, để truy cập hoặc sửa đổi thông tin cá nhân của bạn.'}\r\n                        <br />\r\n                        {isEnglish ? 'Submitting a Request. To exercise the above rights or contact us with questions or complaints regarding our treatment of your personal information, contact us at'\r\n                        : 'Gửi yêu cầu. Để thực hiện các quyền trên hoặc liên hệ với chúng tôi nếu có thắc mắc hoặc khiếu nại về chúng tôi xử lý thông tin cá nhân của bạn, liên hệ với chúng tôi tại'}\r\n                        <a style={{color: \"hsl(185, 57%, 50%)\"}} href=\"/about/feedback\">{isEnglish ? 'Feedback-Support' : 'Hỗ trợ-Phản hồi'}</a>.\r\n                        {isEnglish ? 'Please note that we may request proof of identity, and we reserve the right to charge a fee where permitted by law, especially if your request is manifestly unfounded or excessive. We will respond to your request within the applicable timeframes set out by law.'\r\n                        : 'Xin lưu ý rằng chúng tôi có thể yêu cầu bằng chứng nhận dạng, và chúng tôi có quyền tính phí nếu pháp luật cho phép, đặc biệt nếu yêu cầu của bạn rõ ràng là không có cơ sở hoặc quá mức. Chúng tôi sẽ trả lời yêu cầu của bạn trong khung thời gian hiện hành do luật định.'}\r\n                        <br />\r\n                       {isEnglish ? ' Only applies to basic information that you provide publicly when registering with us. For the information in the account verification request, after we have authenticated to exchange them, you need to have other documents with equal value to the information you previously submitted to be able to request changes.' \r\n                       : 'Chỉ áp dụng cho những thông tin cơ bản mà bạn cung cấp công khai khi đăng ký với chúng tôi. Đối với thông tin trong yêu cầu xác minh tài khoản, sau khi chúng tôi xác thực để trao đổi, bạn cần có những giấy tờ khác có giá trị tương đương với thông tin bạn đã gửi trước đó để có thể yêu cầu thay đổi.'}\r\n                        </Typography>\r\n                    </section>\r\n                </Container>\r\n            </section>\r\n            <section id='list11' className=\"section-content\">\r\n                <Container>\r\n                    <header>\r\n                        <Typography variant=\"h4\" gutterBottom={true}>\r\n                        California Privacy{\" \"}\r\n                        </Typography>\r\n                    </header>\r\n                    <div className=\"deliver\"></div>\r\n                    <br />\r\n                    <section>\r\n                        <Typography gutterBottom={true} variant=\"subtitel1\" style={{color: 'rgb(218, 226, 236)', marginLeft: '1rem'}}>\r\n                        Under the CCPA, you have the right to access the Personal Information we’ve collected about you during the past 12 months and information about our data practices. \r\n                        You also have the right to request that we delete the Personal Information that we have collected from you.\r\n                        To request manual access or deletion of your Personal Information, please contact us here.\r\n                        <br />\r\n                        Under the CCPA, you have the right to access the Personal Information we’ve collected about you during the past 12 months and information about our data practices. You also have the right to request that we delete the Personal Information that we have collected from you.\r\n                        To request manual access or deletion of your Personal Information, please contact us <a style={{color: \"hsl(185, 57%, 50%)\"}} href=\"/about/feedback\">Feedback-Support</a>.\r\n                        Please note, for all manual requests, you will need to verify your identity by providing us with the following information:\r\n                        <br />\r\n                        <li>Your full name</li>\r\n                        <li>Your email address</li>\r\n                        <li>Your nDsApp phone number</li>\r\n                        <li>Whether you are a California consumer pursuant to Cal. Civ. Code Sec. 1798.140(g)</li>\r\n                        <br />\r\n                        nDsApp will not be able to respond to your request unless you provide us with all of the above information. You can also designate an authorized agent to make a manual request on your behalf. If you decide to use an authorized agent, \r\n                        please also include written permission that you have designated that agent to make this request, or proof of the agent’s power of attorney. We may also follow-up with you to verify your identity before processing your authorized agent’s request.\r\n                        <br />\r\n                        Lastly, you have the right to be free from any discrimination for exercising your rights to access or delete your Personal Information. We will not discriminate against you for exercising any of these rights.\r\n                        <br />\r\n                        If you have additional questions about this Notice or how to exercise your rights under the CCPA, please contact us.\r\n                        </Typography>\r\n                    </section>\r\n                </Container>\r\n            </section>\r\n            <section id='list12' className=\"section-content\">\r\n                <Container>\r\n                    <header>\r\n                        <Typography variant=\"h4\" gutterBottom={true}>\r\n                        This Brazil Privacy Notice{\" \"}\r\n                        </Typography>\r\n                    </header>\r\n                    <div className=\"deliver\"></div>\r\n                    <br />\r\n                    <section>\r\n                        <Typography gutterBottom={true} variant=\"subtitel1\" style={{color: 'rgb(218, 226, 236)', marginLeft: '1rem'}}>\r\n                        This Brazil Privacy Notice (“Notice”) applies to \r\n                        personal data processing activities under Brazilian law and supplements our Privacy Policy.\r\n                        <br />\r\n                        Under the Brazilian General Data Protection Law (the “LGPD”), you have the right to access, rectify, port, erase, and confirm that we process your data. \r\n                        Learn more about your rights and find out how you can exercise your rights by visiting our iPhone, Android and KaiOS articles in our Help Center. \r\n                        In certain circumstances, you also have the right to object to and to restrict the processing of your personal data. Our Privacy Policy provides information about how we share data with third parties.\r\n                        <br />\r\n                        The data controller responsible for your information is nDsApp. To contact the Data Protection Officer for nDsApp.\r\n                        You also have the right to petition the Brazilian Data Protection Authority (“DPA”) by contacting the DPA directly.\r\n                        <br />\r\n                        If you have additional questions about this Notice or how to exercise your rights under the CCPA, please contact us.\r\n                        </Typography>\r\n                    </section>\r\n                </Container>\r\n            </section>\r\n            <section id='list12b' className=\"section-content\">\r\n                <Container>\r\n                    <header>\r\n                        <Typography variant=\"h4\" gutterBottom={true}>\r\n                        {isEnglish ? 'Updates Privacy & Policy' : 'Chính sách & Quyền riêng tư'}{\" \"}\r\n                        </Typography>\r\n                    </header>\r\n                    <div className=\"deliver\"></div>\r\n                    <br />\r\n                    <section>\r\n                        <Typography gutterBottom={true} variant=\"subtitel1\" style={{color: 'rgb(218, 226, 236)', marginLeft: '1rem'}}>\r\n                        {isEnglish ? 'We may amend or update our Privacy Policy. We will provide you notice of amendments to this Privacy Policy, as appropriate, and update the “Last Modified” date at the top of this Privacy Policy. Your continued use of our Services confirms your acceptance of our Privacy Policy, as amended. If you do not agree to our Privacy Policy, as amended, you must stop using our Services. Please review our Privacy Policy from time to time.' \r\n                        : 'Chúng tôi có thể sửa đổi hoặc cập nhật Chính sách Bảo mật của chúng tôi. Chúng tôi sẽ cung cấp cho bạn thông báo về các sửa đổi đối với Chính sách Bảo mật này, nếu thích hợp, và cập nhật ngày “Sửa đổi lần cuối” ở đầu Chính sách Bảo mật này. Việc bạn tiếp tục sử dụng Dịch vụ của chúng tôi xác nhận rằng bạn chấp nhận Chính sách Bảo mật của chúng tôi, đã được sửa đổi. Nếu bạn không đồng ý với Chính sách Bảo mật của chúng tôi, như đã được sửa đổi, bạn phải ngừng sử dụng Dịch vụ của chúng tôi. Vui lòng xem lại Chính sách Bảo mật của chúng tôi theo thời gian.'}\r\n                        </Typography>\r\n                    </section>\r\n                </Container>\r\n            </section>\r\n            <section id='list14' className=\"section-content\">\r\n            <Container>\r\n                    <header>\r\n                        <Typography variant=\"h4\" gutterBottom={true}>\r\n                        Contact with us{\" \"}\r\n                        </Typography>\r\n                    </header>\r\n                    <div className=\"deliver\"></div>\r\n                    <br />\r\n                    <section>\r\n                        <Typography gutterBottom={true} variant=\"subtitel1\" style={{color: 'rgb(218, 226, 236)', marginLeft: '1rem'}}>\r\n                        If you have questions about our Privacy Policy, please contact us via <a href=\"/about/feedback\">Feedback-Support</a>.\r\n                        <br />\r\n\r\n                            nDsApp DSG<br />\r\n                            Privacy Policy<br />\r\n                            LeVanQuoi / Number14 / 74 Road<br />\r\n                            BHHA, Tan Binh<br />\r\n                            Ho Chi Minh City, Viet Nam<br />\r\n\r\n                        </Typography>\r\n                    </section>\r\n                </Container>\r\n            </section>\r\n                \r\n            </div>\r\n           \r\n          </div>\r\n        );\r\n      }\r\n   \r\n}\r\n","export default  [\r\n    {\r\n        title: \"What is ReTrille\",\r\n        resolve: \"_#ReTrille is a web-app that group nDs research and development\",\r\n        resolve1: \"_#You can TALK with ReTriable through microphones that are SUPPORTED by ReTrille languages\",\r\n        resolve2: \"_#Writing Voice can CONVERT the language you speak into TEXT\",\r\n        resolve3: \"_#You can TEACH ReTrille, It will answer when the question is CLOSE TO you teach, there are many answers from MANY others, it LIKES which answer will answer you that question\"\r\n    },\r\n    {\r\n        title: \"How to talk to ReTrille\",\r\n        resolve: `_#An account is required to Register atCHAP APP`,\r\n        resolve1: \"_#At ReTrille interface CLICK the microphone in the bottom corner to SPEAK\",\r\n        resolve2: \"_#Other supporting tools are in the RIGHT toolbar\",\r\n    },\r\n    {\r\n        title: \"How to use Writting Voice\",\r\n        resolve: \"_#At the Writting Voice interface CLICK the microphone and SAY\",\r\n        resolve1: \"_#Remember to configure the microphone language at ReTrille\",\r\n        resolve2: \"_#Other supporting tools are in the RIGHT toolbar\",\r\n    },\r\n    {\r\n        title: \"How to teach ReTrille to answer new questions\",\r\n        resolve: `_#An account is required to Register at CHAP APP`,\r\n        resolve1: \"_#At the Add Message interface, SELECT the available Topic or ENTER a new Topic (minimum 2 characters). Default language is English, can be changed to resemble your language\",\r\n        resolve2: \"_#Next enter the KEY word, which is the phrase to COMPARE with the question you or anyone talking to ReTrille, so that ReTrille can choose an answer it likes to answer the questioner\",\r\n        resolve3: \"_#Finally, Enter the answer you WANT ReTrille to reply everyone when asking about the topic you taught. Click Add Message and wait a few seconds\",\r\n        resolve4: \"_#Make sure TOPIC, KEY word are appeared in question with the same topic and you taught CORRECT spelling, ReTrille doesn't learn misspelled words, It's smart\"\r\n    },\r\n    {\r\n        title: \"This is title of the question\",\r\n        resolve: \"This is body of question we will add some info replay here to users can see it and doing follow\"\r\n    },\r\n    {\r\n        title: \"This is title of the question\",\r\n        resolve: \"This is body of question we will add some info replay here to users can see it and doing follow\"\r\n    },\r\n\r\n]\r\n","export default  [\r\n    {\r\n        title: \"What is ReTrille\",\r\n        resolve: \"_#ReTrille is a web-app that group nDs research and development\",\r\n        resolve1: \"_#You can TALK with ReTriable through microphones that are SUPPORTED by ReTrille languages\",\r\n        resolve2: \"_#Writing Voice can CONVERT the language you speak into TEXT\",\r\n        resolve3: \"_#You can TEACH ReTrille, It will answer when the question is CLOSE TO you teach, there are many answers from MANY others, it LIKES which answer will answer you that question\"\r\n    },\r\n    {\r\n        title: \"How to talk to ReTrille\",\r\n        resolve: `_#An account is required to Register atCHAP APP`,\r\n        resolve1: \"_#At ReTrille interface CLICK the microphone in the bottom corner to SPEAK\",\r\n        resolve2: \"_#Other supporting tools are in the RIGHT toolbar\",\r\n    },\r\n    {\r\n        title: \"How to use Writting Voice\",\r\n        resolve: \"_#At the Writting Voice interface CLICK the microphone and SAY\",\r\n        resolve1: \"_#Remember to configure the microphone language at ReTrille\",\r\n        resolve2: \"_#Other supporting tools are in the RIGHT toolbar\",\r\n    },\r\n    {\r\n        title: \"How to teach ReTrille to answer new questions\",\r\n        resolve: `_#An account is required to Register at CHAP APP`,\r\n        resolve1: \"_#At the Add Message interface, SELECT the available Topic or ENTER a new Topic (minimum 2 characters). Default language is English, can be changed to resemble your language\",\r\n        resolve2: \"_#Next enter the KEY word, which is the phrase to COMPARE with the question you or anyone talking to ReTrille, so that ReTrille can choose an answer it likes to answer the questioner\",\r\n        resolve3: \"_#Finally, Enter the answer you WANT ReTrille to reply everyone when asking about the topic you taught. Click Add Message and wait a few seconds\",\r\n        resolve4: \"_#Make sure TOPIC, KEY word are appeared in question with the same topic and you taught CORRECT spelling, ReTrille doesn't learn misspelled words, It's smart\"\r\n    },\r\n    {\r\n        title: \"This is title of the question\",\r\n        resolve: \"This is body of question we will add some info replay here to users can see it and doing follow\"\r\n    },\r\n    {\r\n        title: \"This is title of the question\",\r\n        resolve: \"This is body of question we will add some info replay here to users can see it and doing follow\"\r\n    },\r\n\r\n]\r\n","export default  [\r\n    {\r\n        title: \"What is ReTrille\",\r\n        resolve: \"_#ReTrille is a web-app that group nDs research and development\",\r\n        resolve1: \"_#You can TALK with ReTriable through microphones that are SUPPORTED by ReTrille languages\",\r\n        resolve2: \"_#Writing Voice can CONVERT the language you speak into TEXT\",\r\n        resolve3: \"_#You can TEACH ReTrille, It will answer when the question is CLOSE TO you teach, there are many answers from MANY others, it LIKES which answer will answer you that question\"\r\n    },\r\n    {\r\n        title: \"How to talk to ReTrille\",\r\n        resolve: `_#An account is required to Register atCHAP APP`,\r\n        resolve1: \"_#At ReTrille interface CLICK the microphone in the bottom corner to SPEAK\",\r\n        resolve2: \"_#Other supporting tools are in the RIGHT toolbar\",\r\n    },\r\n    {\r\n        title: \"How to use Writting Voice\",\r\n        resolve: \"_#At the Writting Voice interface CLICK the microphone and SAY\",\r\n        resolve1: \"_#Remember to configure the microphone language at ReTrille\",\r\n        resolve2: \"_#Other supporting tools are in the RIGHT toolbar\",\r\n    },\r\n    {\r\n        title: \"How to teach ReTrille to answer new questions\",\r\n        resolve: `_#An account is required to Register at CHAP APP`,\r\n        resolve1: \"_#At the Add Message interface, SELECT the available Topic or ENTER a new Topic (minimum 2 characters). Default language is English, can be changed to resemble your language\",\r\n        resolve2: \"_#Next enter the KEY word, which is the phrase to COMPARE with the question you or anyone talking to ReTrille, so that ReTrille can choose an answer it likes to answer the questioner\",\r\n        resolve3: \"_#Finally, Enter the answer you WANT ReTrille to reply everyone when asking about the topic you taught. Click Add Message and wait a few seconds\",\r\n        resolve4: \"_#Make sure TOPIC, KEY word are appeared in question with the same topic and you taught CORRECT spelling, ReTrille doesn't learn misspelled words, It's smart\"\r\n    },\r\n    {\r\n        title: \"This is title of the question\",\r\n        resolve: \"This is body of question we will add some info replay here to users can see it and doing follow\"\r\n    },\r\n    {\r\n        title: \"This is title of the question\",\r\n        resolve: \"This is body of question we will add some info replay here to users can see it and doing follow\"\r\n    },\r\n\r\n]\r\n","export default  [\r\n    {\r\n        title: \"What is ReTrille\",\r\n        resolve: \"_#ReTrille is a web-app that group nDs research and development\",\r\n        resolve1: \"_#You can TALK with ReTriable through microphones that are SUPPORTED by ReTrille languages\",\r\n        resolve2: \"_#Writing Voice can CONVERT the language you speak into TEXT\",\r\n        resolve3: \"_#You can TEACH ReTrille, It will answer when the question is CLOSE TO you teach, there are many answers from MANY others, it LIKES which answer will answer you that question\"\r\n    },\r\n    {\r\n        title: \"How to talk to ReTrille\",\r\n        resolve: `_#An account is required to Register atCHAP APP`,\r\n        resolve1: \"_#At ReTrille interface CLICK the microphone in the bottom corner to SPEAK\",\r\n        resolve2: \"_#Other supporting tools are in the RIGHT toolbar\",\r\n    },\r\n    {\r\n        title: \"How to use Writting Voice\",\r\n        resolve: \"_#At the Writting Voice interface CLICK the microphone and SAY\",\r\n        resolve1: \"_#Remember to configure the microphone language at ReTrille\",\r\n        resolve2: \"_#Other supporting tools are in the RIGHT toolbar\",\r\n    },\r\n    {\r\n        title: \"How to teach ReTrille to answer new questions\",\r\n        resolve: `_#An account is required to Register at CHAP APP`,\r\n        resolve1: \"_#At the Add Message interface, SELECT the available Topic or ENTER a new Topic (minimum 2 characters). Default language is English, can be changed to resemble your language\",\r\n        resolve2: \"_#Next enter the KEY word, which is the phrase to COMPARE with the question you or anyone talking to ReTrille, so that ReTrille can choose an answer it likes to answer the questioner\",\r\n        resolve3: \"_#Finally, Enter the answer you WANT ReTrille to reply everyone when asking about the topic you taught. Click Add Message and wait a few seconds\",\r\n        resolve4: \"_#Make sure TOPIC, KEY word are appeared in question with the same topic and you taught CORRECT spelling, ReTrille doesn't learn misspelled words, It's smart\"\r\n    },\r\n    {\r\n        title: \"This is title of the question\",\r\n        resolve: \"This is body of question we will add some info replay here to users can see it and doing follow\"\r\n    },\r\n    {\r\n        title: \"This is title of the question\",\r\n        resolve: \"This is body of question we will add some info replay here to users can see it and doing follow\"\r\n    },\r\n\r\n]\r\n","export default  [\r\n    {\r\n        title: \"What is ReTrille\",\r\n        resolve: \"_#ReTrille is a web-app that group nDs research and development\",\r\n        resolve1: \"_#You can TALK with ReTriable through microphones that are SUPPORTED by ReTrille languages\",\r\n        resolve2: \"_#Writing Voice can CONVERT the language you speak into TEXT\",\r\n        resolve3: \"_#You can TEACH ReTrille, It will answer when the question is CLOSE TO you teach, there are many answers from MANY others, it LIKES which answer will answer you that question\"\r\n    },\r\n    {\r\n        title: \"How to talk to ReTrille\",\r\n        resolve: `_#An account is required to Register atCHAP APP`,\r\n        resolve1: \"_#At ReTrille interface CLICK the microphone in the bottom corner to SPEAK\",\r\n        resolve2: \"_#Other supporting tools are in the RIGHT toolbar\",\r\n    },\r\n    {\r\n        title: \"How to use Writting Voice\",\r\n        resolve: \"_#At the Writting Voice interface CLICK the microphone and SAY\",\r\n        resolve1: \"_#Remember to configure the microphone language at ReTrille\",\r\n        resolve2: \"_#Other supporting tools are in the RIGHT toolbar\",\r\n    },\r\n    {\r\n        title: \"How to teach ReTrille to answer new questions\",\r\n        resolve: `_#An account is required to Register at CHAP APP`,\r\n        resolve1: \"_#At the Add Message interface, SELECT the available Topic or ENTER a new Topic (minimum 2 characters). Default language is English, can be changed to resemble your language\",\r\n        resolve2: \"_#Next enter the KEY word, which is the phrase to COMPARE with the question you or anyone talking to ReTrille, so that ReTrille can choose an answer it likes to answer the questioner\",\r\n        resolve3: \"_#Finally, Enter the answer you WANT ReTrille to reply everyone when asking about the topic you taught. Click Add Message and wait a few seconds\",\r\n        resolve4: \"_#Make sure TOPIC, KEY word are appeared in question with the same topic and you taught CORRECT spelling, ReTrille doesn't learn misspelled words, It's smart\"\r\n    },\r\n    {\r\n        title: \"This is title of the question\",\r\n        resolve: \"This is body of question we will add some info replay here to users can see it and doing follow\"\r\n    },\r\n    {\r\n        title: \"This is title of the question\",\r\n        resolve: \"This is body of question we will add some info replay here to users can see it and doing follow\"\r\n    },\r\n\r\n]\r\n","import React, { Component } from \"react\";\r\nimport { Typography, Container, IconButton } from \"@material-ui/core\";\r\n// import img from \"../../images/svgnds.png\";\r\nimport _ from 'lodash'\r\n\r\nimport home from '../data.js/dataListQuestionsHome'\r\nimport music from '../data.js/dataListQuestionsMusic'\r\nimport weather from '../data.js/dataListQuestionsWeather'\r\nimport chat from '../data.js/dataListQuestionsChat'\r\nimport retrille from '../data.js/dataListQuestionsReTrille'\r\n\r\nimport { RiSubtractLine } from \"react-icons/ri\";\r\nimport { BsPlus } from \"react-icons/bs\";\r\n\r\n\r\nconst ref = React.createRef();\r\nexport default class ContributorsApp extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            questKeyHome: [],\r\n            questKeyMusic: [],\r\n            questKeyWeather: [],\r\n            questKeyChat: [],\r\n            questKeyRetrille: [],\r\n            showBtnBackToTop: false,\r\n            linkActive: null\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        window.addEventListener('scroll', this.toggleVisibility);\r\n        \r\n    }\r\n    componentDidUpdate(){\r\n        console.log(\"link active: \", this.state.linkActive)\r\n    }\r\n\r\n  \r\n    toggleVisibility = () => {\r\n       if(window.pageYOffset > 440){\r\n           this.setState({\r\n               showBtnBackToTop: true\r\n           })\r\n       }else{\r\n        this.setState({\r\n            showBtnBackToTop: false\r\n        })\r\n       }\r\n    }\r\n  \r\n    scrollToTop() {\r\n        console.log(this.state.showBtnBackToTop, window.pageYOffset, typeof(window.pageYOffset))\r\n        ref.current.scrollIntoView({\r\n            behavior: 'smooth',\r\n            block: 'start',\r\n        })\r\n        \r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    toggleActiveQuestion = (key, app) => {\r\n       \r\n        switch (app) {\r\n            case 0:\r\n                this.helpActiveQuestion(key, this.state.questKeyHome, 0);\r\n                break;\r\n\r\n            case 1:\r\n                this.helpActiveQuestion(key, this.state.questKeyRetrille, 1);\r\n                break;\r\n\r\n            case 2:\r\n                this.helpActiveQuestion(key, this.state.questKeyChat, 2);\r\n                break;\r\n\r\n            case 3:\r\n                this.helpActiveQuestion(key, this.state.questKeyMusic, 3);\r\n                break;\r\n\r\n            case 4:\r\n                this.helpActiveQuestion(key, this.state.questKeyWeather, 4);\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n        \r\n    }\r\n\r\n    helpActiveQuestion = (key, questKeyArray, typeKey) => {\r\n        //console.log(key, questKeyArray, typeKey)\r\n        // console.log(\"here0\")\r\n      \r\n        if(questKeyArray.includes(key.toString())){\r\n\r\n            let temps = _.difference(questKeyArray, [key.toString()])\r\n            console.log(\"here1\", temps)\r\n\r\n            switch (typeKey) {\r\n                case 0:\r\n                    this.setState({\r\n                        questKeyHome: temps  // need fix here\r\n                    }) \r\n                    break;\r\n                case 1:\r\n                    this.setState({\r\n                        questKeyRetrille: temps  // need fix here\r\n                    }) \r\n                    break;\r\n                case 2:\r\n                    this.setState({\r\n                        questKeyChat: temps  // need fix here\r\n                    }) \r\n                    break;\r\n                case 3:\r\n                    this.setState({\r\n                        questKeyMusic: temps  // need fix here\r\n                    }) \r\n                    break;\r\n                case 4:\r\n                    this.setState({\r\n                        questKeyWeather: temps  // need fix here\r\n                    }) \r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n\r\n        }else{\r\n\r\n            let temps = _.uniq([...questKeyArray, key.toString()]);\r\n            // console.log(\"here2\", temp)\r\n            switch (typeKey) {\r\n                case 0:\r\n                    this.setState({\r\n                        questKeyHome: temps  // need fix here\r\n                    }) \r\n                    break;\r\n                case 1:\r\n                    this.setState({\r\n                        questKeyRetrille: temps  // need fix here\r\n                    }) \r\n                    break;\r\n                case 2:\r\n                    this.setState({\r\n                        questKeyChat: temps  // need fix here\r\n                    }) \r\n                    break;\r\n                case 3:\r\n                    this.setState({\r\n                        questKeyMusic: temps  // need fix here\r\n                    }) \r\n                    break;\r\n                case 4:\r\n                    this.setState({\r\n                        questKeyWeather: temps  // need fix here\r\n                    }) \r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n\r\n        }\r\n        \r\n    }\r\n\r\n    render(){\r\n        let listQuestionsHome = [];\r\n        let listQuestionsMusic = [];\r\n        let listQuestionsWeather = [];\r\n        let listQuestionsChat = [];\r\n        let listQuestionsReTrille = [];\r\n        Object.keys(home).forEach(function(key) {\r\n            listQuestionsHome.push(home[key])\r\n        });\r\n        Object.keys(music).forEach(function(key) {\r\n            listQuestionsMusic.push(music[key])\r\n        });\r\n        Object.keys(weather).forEach(function(key) {\r\n            listQuestionsWeather.push(weather[key])\r\n        });\r\n        Object.keys(chat).forEach(function(key) {\r\n            listQuestionsChat.push(chat[key])\r\n        });\r\n        Object.keys(retrille).forEach(function(key) {\r\n            listQuestionsReTrille.push(retrille[key])\r\n        });\r\n      \r\n        return (\r\n\r\n            <div className=\"privacy-app\" >\r\n                  <Container>\r\n              <header>\r\n                <Typography variant=\"h4\" gutterBottom={true}>\r\n                    Help-Instruction{\" \"}\r\n                </Typography>\r\n              </header>\r\n              <div className=\"deliver\"></div>\r\n              <br />\r\n\r\n              <section>\r\n              {this.state.showBtnBackToTop && (\r\n            <div className=\"btn-back-to-top\">\r\n                <div className=\"btn-inside\" onClick={() => this.scrollToTop()}>\r\n                   <span></span>\r\n                </div>\r\n            </div>)}\r\n                <Typography gutterBottom={true} variant=\"subtitle1\">\r\n                You have questions or don't know how to use this app! Please look for a solution in the list below.\r\n                In case there isn't any solution, please contact us <a href='http://localhost:3000/about/feedback' ><b>here</b></a> for support.\r\n                (Bạn có thắc mắc hoặc không biết cách sử dụng ứng dụng này! hãy tìm kiếm một giải pháp trong danh sách dưới đây.\r\n                Trường hợp không có bất kỳ giải pháp nào, làm ơn liên hệ với chúng tôi <a href='http://localhost:3000/about/feedback' ><b>tại đây</b></a> để được hỗ trợ)\r\n                  <br />\r\n                </Typography>\r\n                <div className=\"list-instruction\">\r\n                <Typography variant=\"h6\" gutterBottom={true}>\r\n                    General{\" \"}\r\n                </Typography>\r\n                <div className=\"instruction-App\" ref={ref}>\r\n                    {listQuestionsHome.map((quest, key) =>{\r\n                        \r\n                        return <div key={key} className={`instruction ${(this.state.questKeyHome.includes(key.toString()) ? 'active' : null)}`}>\r\n                            <div onClick={() => this.toggleActiveQuestion(key, 0)} className=\"header-quest\">\r\n                                <span>{quest.title}</span>\r\n                                <span>\r\n                                    <IconButton>\r\n                                        { (this.state.questKeyHome.includes(key.toString())) ? <RiSubtractLine /> : <BsPlus /> }\r\n                                    </IconButton>\r\n                                </span>\r\n                            </div>\r\n                            {/* <div className={`body-quest ${this.state.activeQuestTxt ? \"active\" : \"\"}`}> */}\r\n                            <div className={`body-quest ${(this.state.questKeyHome.includes(key.toString()) ? 'active' : null)}`}>\r\n                                {quest.resolve}<br />{quest.resolve1}<br />{quest.resolve2}<br />{quest.resolve3}<br />{quest.resolve4}\r\n                            </div>\r\n                        </div>\r\n\r\n                    })}\r\n                </div>\r\n                <Typography variant=\"h6\" gutterBottom={true}>\r\n                    Topic ReTrille{\" \"}\r\n                </Typography>\r\n                <div className=\"instruction-App\">\r\n                    {listQuestionsReTrille.map((quest, key) =>{\r\n                        \r\n                        return <div key={key} className={`instruction ${(this.state.questKeyRetrille.includes(key.toString()) ? 'active' : null)}`}>\r\n                            <div onClick={() => this.toggleActiveQuestion(key, 1)} className=\"header-quest\">\r\n                                <span>{quest.title}</span>\r\n                                <span>\r\n                                    <IconButton>\r\n                                        { (this.state.questKeyRetrille.includes(key.toString())) ? <RiSubtractLine /> : <BsPlus /> }\r\n                                    </IconButton>\r\n                                </span>\r\n                            </div>\r\n                            {/* <div className={`body-quest ${this.state.activeQuestTxt ? \"active\" : \"\"}`}> */}\r\n                            <div className={`body-quest ${(this.state.questKeyRetrille.includes(key.toString()) ? 'active' : null)}`}>\r\n                                {quest.resolve}<br />{quest.resolve1}<br />{quest.resolve2}<br />{quest.resolve3}<br />{quest.resolve4}\r\n                            </div>\r\n                        </div>\r\n\r\n                    })}\r\n                </div>\r\n                <Typography variant=\"h6\" gutterBottom={true}>\r\n                    Topic Chat{\" \"}\r\n                </Typography>\r\n                <div className=\"instruction-App\">\r\n                    {listQuestionsChat.map((quest, key) =>{\r\n                        \r\n                        return <div key={key} className={`instruction ${(this.state.questKeyChat.includes(key.toString()) ? 'active' : null)}`}>\r\n                            <div onClick={() => this.toggleActiveQuestion(key, 2)} className=\"header-quest\">\r\n                                <span>{quest.title}</span>\r\n                                <span>\r\n                                    <IconButton>\r\n                                        { (this.state.questKeyChat.includes(key.toString())) ? <RiSubtractLine /> : <BsPlus /> }\r\n                                    </IconButton>\r\n                                </span>\r\n                            </div>\r\n                            {/* <div className={`body-quest ${this.state.activeQuestTxt ? \"active\" : \"\"}`}> */}\r\n                            <div className={`body-quest ${(this.state.questKeyChat.includes(key.toString()) ? 'active' : null)}`}>\r\n                                {quest.resolve}<br />{quest.resolve1}<br />{quest.resolve2}<br />{quest.resolve3}<br />{quest.resolve4}\r\n                            </div>\r\n                        </div>\r\n\r\n                    })}\r\n                </div>\r\n                <Typography variant=\"h6\" gutterBottom={true}>\r\n                    Topic Music{\" \"}\r\n                </Typography>\r\n                <div className=\"instruction-App\">\r\n                    {listQuestionsMusic.map((quest, key) =>{\r\n                        \r\n                        return <div key={key} className={`instruction ${(this.state.questKeyMusic.includes(key.toString()) ? 'active' : null)}`}>\r\n                            <div onClick={() => this.toggleActiveQuestion(key, 3)} className=\"header-quest\">\r\n                                <span>{quest.title}</span>\r\n                                <span>\r\n                                    <IconButton>\r\n                                        { (this.state.questKeyMusic.includes(key.toString())) ? <RiSubtractLine /> : <BsPlus /> }\r\n                                    </IconButton>\r\n                                </span>\r\n                            </div>\r\n                            {/* <div className={`body-quest ${this.state.activeQuestTxt ? \"active\" : \"\"}`}> */}\r\n                            <div className={`body-quest ${(this.state.questKeyMusic.includes(key.toString()) ? 'active' : null)}`}>\r\n                                {quest.resolve}<br />{quest.resolve1}<br />{quest.resolve2}<br />{quest.resolve3}<br />{quest.resolve4}\r\n                            </div>\r\n                        </div>\r\n\r\n                    })}\r\n                </div>\r\n                <Typography variant=\"h6\" gutterBottom={true}>\r\n                    Topic Weather{\" \"}\r\n                </Typography>\r\n                <div className=\"instruction-App\">\r\n                    {listQuestionsWeather.map((quest, key) =>{\r\n                        \r\n                        return <div key={key} className={`instruction ${(this.state.questKeyWeather.includes(key.toString()) ? 'active' : null)}`}>\r\n                            <div onClick={() => this.toggleActiveQuestion(key, 4)} className=\"header-quest\">\r\n                                <span>{quest.title}</span>\r\n                                <span>\r\n                                    <IconButton>\r\n                                        { (this.state.questKeyWeather.includes(key.toString())) ? <RiSubtractLine /> : <BsPlus /> }\r\n                                    </IconButton>\r\n                                </span>\r\n                            </div>\r\n                            {/* <div className={`body-quest ${this.state.activeQuestTxt ? \"active\" : \"\"}`}> */}\r\n                            <div className={`body-quest ${(this.state.questKeyWeather.includes(key.toString()) ? 'active' : null)}`}>\r\n                                {quest.resolve}<br />{quest.resolve1}<br />{quest.resolve2}<br />{quest.resolve3}<br />{quest.resolve4}\r\n                            </div>\r\n                        </div>\r\n\r\n                    })}\r\n                </div>\r\n                  \r\n                </div>\r\n              </section>\r\n            </Container>\r\n            </div>\r\n          );\r\n        }\r\n   \r\n}\r\n","import React, { Component } from 'react';\r\nimport {Link, Route, Switch } from 'react-router-dom'\r\nimport {Helmet} from \"react-helmet\";\r\nimport DescriApp from \"../../src/components/aboutApp/DescriApp\" ;\r\nimport FeedbackApp from \"../../src/components/aboutApp/FeedbackApp\" ;\r\nimport ContributorsApp from \"../../src/components/aboutApp/ContributorsApp\" ;\r\nimport PrivateApp from \"../../src/components/aboutApp/PrivateApp\" ;\r\nimport HelpApp from \"../../src/components/aboutApp/HelpApp\" ;\r\nimport img from \"../images/logoMain.svg\";\r\nimport { Grid } from '@material-ui/core';\r\nimport { IoLogoFacebook, IoLogoTwitter, IoLogoLinkedin, IoLogoGithub } from 'react-icons/io';\r\nimport { VscGrabber, VscChromeClose } from 'react-icons/vsc';\r\nexport default class About extends Component {\r\n\tstate={\r\n\t\tisOpen: false,\r\n\t\tisEnglish: false\r\n\t}\r\n\thandleToggle = () => {\r\n\t\tthis.setState({isOpen: !this.state.isOpen})\r\n\t\r\n\t};\r\n\thandleToggleEnglish = () => {\r\n\t\tthis.setState({isEnglish: !this.state.isEnglish})\r\n\t};\r\n\r\n\topenNewTab = (link) => {\r\n\t\t\r\n\t\t\t// window.location.assign(link);\r\n\t\t\twindow.open(link, '_blank', 'noopener,noreferrer')\r\n\t\t\r\n\t}\r\n\r\n\trender() {\r\n\t\t\r\n\t \treturn(\r\n\r\n\t\t\t<div className=\"about-app\">\r\n\t\t\t\t<Helmet>\r\n\t\t\t\t\t<title>About | nDsWeb</title>\r\n\t\t\t\t</Helmet>\r\n\r\n\t\t\t\t<div className=\"video-hero jquery-background-video-wrapper demo-video-wrapper\">\r\n\t\t\t\t\t<video className=\"jquery-background-video\" muted autoPlay loop poster=\"https://images.pexels.com/photos/316093/pexels-photo-316093.jpeg?auto=compress&cs=tinysrgb&h=750&w=1260\">\r\n\t\t\t\t\t\t<source src=\"https://static.videezy.com/system/resources/previews/000/038/963/original/190816-samutprakarn.mp4\"/>\r\n\t\t\t\t\t\t<source src=\"https://static.videezy.com/system/resources/previews/000/022/198/original/underwater-effect-background.mp4\" />\r\n\t\t\t\t\t</video>\r\n\t\t\t\r\n\t\t\t\t<div className=\"page-width\">\r\n\t\t\t\t\t<div className=\"video-hero--content\">\r\n\t\t\t\t\t<h2>nDs-Website</h2>\r\n\t\t\t\t\t<p>operate according to the universe</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\r\n\t\t\r\n\t\t\t<div className=\"content\">\r\n\r\n\t\t\t\t<div className=\"about-navbar\">\r\n\t\t\t\t\t<div className=\"nav-header\">\r\n\r\n\t\t\t\t\t\t<button type=\"button\" \r\n\t \t\t\t\t\t\tclassName=\"nav-btn\"\r\n\t\t\t\t\t\t\tonClick={this.handleToggle}\r\n\t\t\t\t\t\t>\r\n\t \t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthis.state.isOpen ? <VscChromeClose className=\"nav-icon\" /> : <VscGrabber className=\"nav-icon\" />\r\n\t\t\t\t\t\t\t}\r\n\t \t\t\t\t\t</button>\r\n\t\t\t\t\t\t<div onClick={this.handleToggleEnglish} className=\"toggle-lang\">\r\n\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" width=\"25\" height=\"25\" aria-hidden=\"true\" focusable=\"false\" fill=\"currentColor\">\r\n\t\t\t\t\t\t\t<path d=\"M217.982 201.586h-64.499c-5.537 0-10.026 4.489-10.026 10.026s4.489 10.026 10.026 10.026h53.547c-4.72 25.263-26.935 44.446-53.547 44.446-30.037 0-54.473-24.436-54.473-54.473s24.436-54.473 54.473-54.473c14.55 0 28.229 5.667 38.518 15.955 3.916 3.916 10.264 3.916 14.178 0 3.916-3.916 3.916-10.264 0-14.178-14.077-14.077-32.791-21.829-52.697-21.829-41.094 0-74.525 33.431-74.525 74.525 0 41.094 33.431 74.525 74.525 74.525s74.525-33.431 74.525-74.525c.001-5.536-4.488-10.025-10.025-10.025z\"></path>\r\n\t\t\t\t\t\t\t<path d=\"M470.331 92.24H269.728l-26.935-81.355a10.025 10.025 0 00-9.518-6.875H41.669C18.693 4.01 0 22.703 0 45.679v332.412c0 22.976 18.693 41.669 41.669 41.669h203.145l27.073 81.369a10.026 10.026 0 009.513 6.861h188.932c22.976 0 41.669-18.693 41.669-41.669V133.909c-.001-22.976-18.694-41.669-41.67-41.669zM41.669 399.708c-11.919 0-21.616-9.697-21.616-21.616V45.679c0-11.919 9.697-21.616 21.616-21.616h184.364l70.691 213.516a.366.366 0 00.015.043l53.664 162.086H41.669zm295.78-116.433c.805 1.11 10.824 14.877 26.355 34.066-4.377 5.756-9.015 11.474-13.91 17.036l-29.712-89.74h87.441c-6.196 13.031-16.938 33.813-31.692 55.736-13.553-16.921-22.069-28.622-22.249-28.87-3.251-4.482-9.519-5.481-14.002-2.23-4.482 3.25-5.48 9.518-2.231 14.002zM265.946 419.76h75.162l-55.503 59.084-19.659-59.084zm226.002 46.561c0 11.919-9.697 21.616-21.616 21.616H304.575l67.015-71.339-.004-.003c.293-.312.571-.64.823-.991a10.025 10.025 0 001.39-9.022l-16.688-50.402c7.073-7.406 13.68-15.143 19.805-22.965 13.299 15.772 29.037 33.446 45.778 50.187 1.957 1.957 4.524 2.937 7.089 2.937s5.132-.979 7.089-2.937c3.916-3.916 3.916-10.264 0-14.178-17.461-17.461-34.013-36.244-47.687-52.632 21.251-30.503 35.033-59.504 40.535-71.954h21.454c5.537 0 10.026-4.489 10.026-10.026s-4.489-10.026-10.026-10.026h-66.173v-18.047c0-5.537-4.489-10.026-10.026-10.026s-10.026 4.489-10.026 10.026v18.046h-51.406l-37.178-112.292H470.33c11.919 0 21.616 9.697 21.616 21.616v332.412z\"></path>\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className={this.state.isOpen ? \"nav-items show-nav-items\" : \"nav-items\"} >\r\n\t\t\t\t\t\t<Link to=\"/ndsweb/about\">\r\n\t\t\t\t\t\t\t<div className=\"nav-item\">\r\n\t\t\t\t\t\t\t\tDescription\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<Link to=\"/ndsweb/about/contributors\">\r\n\t\t\t\t\t\t\t<div className=\"nav-item\">\r\n\t\t\t\t\t\t\t\tContributors\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<Link to=\"/ndsweb/about/feedback\">\r\n\t\t\t\t\t\t\t<div className=\"nav-item\">\r\n\t\t\t\t\t\t\t\tFeedbackApp\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<Link to=\"/ndsweb/about/privacy\">\r\n\t\t\t\t\t\t\t<div className=\"nav-item\">\r\n\t\t\t\t\t\t\t\tPrivacy & Policy\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<Link to=\"/ndsweb/about/help\">\r\n\t\t\t\t\t\t\t<div className=\"nav-item\">\r\n\t\t\t\t\t\t\t\tInstruction-Help\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"about-main\">\r\n\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t<Route exact path=\"/ndsweb/about\">\r\n\t\t\t\t\t\t\t<DescriApp isEnglish = {this.state.isEnglish} />\r\n\t\t\t\t\t\t</Route>\r\n\r\n\t\t\t\t\t\t<Route exact path=\"/ndsweb/about/privacy\">\r\n\t\t\t\t\t\t\t<PrivateApp isEnglish = {this.state.isEnglish} />\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Route exact path=\"/ndsweb/about/feedback\">\r\n\t\t\t\t\t\t\t<FeedbackApp />\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t{/*<Route path=\"/about/Otherlink\" component={DonatePage} /> */}\r\n\t\t\t\t\t\t<Route exact path=\"/ndsweb/about/contributors\">\r\n\t\t\t\t\t\t\t<ContributorsApp isEnglish = {this.state.isEnglish}/>\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t<Route exact path=\"/ndsweb/about/help\">\r\n\t\t\t\t\t\t\t<HelpApp />\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</Switch>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"footer-app\">\r\n\t\t\t\t<div className=\"footer-app-left\">\r\n\t\t\t\t\t<Grid\r\n\t\t\t\t\t\t// className={\"playlistHeader\"}\r\n\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\tdirection=\"column\"\r\n\t\t\t\t\t\talignItems=\"center\"\r\n\t\t\t\t\t\tjustify=\"space-between\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div onContextMenu={(e)=> e.preventDefault()} className=\"logo-left\">\r\n\t\t\t\t\t\t\t<img src={img} alt=\"logo Footer\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Link to={\"\"}>\r\n\t\t\t\t\t\t\t<IoLogoTwitter className=\"cssIcons\" />\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<Link to={\"\"}>\r\n\t\t\t\t\t\t\t<IoLogoFacebook className=\"cssIcons\" />\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<Link to={\"\"}>\r\n\t\t\t\t\t\t\t<IoLogoLinkedin className=\"cssIcons\" />\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<Link to={\"\"}>\r\n\t\t\t\t\t\t\t<IoLogoGithub className=\"cssIcons\" />\r\n\t\t\t\t\t\t</Link>\r\n\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"footer-app-mid\">\r\n\t\t\t\t\t<div className=\"list-footer\">\r\n\t\t\t\t\t\t<div className=\"title-list-footer\">nDsWeb</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/ndsweb/\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\tHome\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/ndsweb/music\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\tMusic\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/ndsweb/chat\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\tChat\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/ndsweb/weather\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\tWeather\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/ndsweb/retrille\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\tRetrille\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"list-footer\">\r\n\t\t\t\t\t\t<div className=\"title-list-footer\">External</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/ndsweb/about\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"\" onClick={() => this.openNewTab(\"https://github.com\")}>\r\n\t\t\t\t\t\t\t\t\t\t\tGitHub\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/ndsweb/about\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"\" onClick={() => this.openNewTab(\"https://www.mongodb.com\")}>\r\n\t\t\t\t\t\t\t\t\t\t\tMongoDB\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/ndsweb/about\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"\" onClick={() => this.openNewTab(\"https://reactjs.org\")}>\r\n\t\t\t\t\t\t\t\t\t\t\tReactJs\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/ndsweb/about\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"\" onClick={() => this.openNewTab(\"https://nodejs.org\")}>\r\n\t\t\t\t\t\t\t\t\t\t\tNodeJs\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/ndsweb/about\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"\" onClick={() => this.openNewTab(\"https://id.heroku.com\")}>\r\n\t\t\t\t\t\t\t\t\t\t\tHeroku\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"list-footer\">\r\n\t\t\t\t\t\t<div className=\"title-list-footer\">About</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/ndsweb/about\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\tDescription\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/ndsweb/about/feedback\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\tFeedback\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/ndsweb/about/contributors\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\tContributors\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/ndsweb/about/privacy\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\tPrivacy & Policy\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/ndsweb/about/help\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\tHelp-Instruction\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"footer-app-light\">\r\n\t\t\t\t<div className=\"footer-app-left-light\">\r\n\t\t\t\t\t<p>Allowed to build and develop under the management of nDs</p>\r\n\t\t\t\t\t<p>14 Road/74 - Le Van Quoi, BHHA, TanBinh, HCMC</p>\r\n\t\t\t\t\t<p>Publicly Released Oldest: ThuDuc, November 20th 2020</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"footer-app-right-light\">\r\n\t\t\t\t\tnDsWebsite © 2022 nDs..,npHưng. All rights Unreserved\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"mess-nds\">\r\n\t\t\t\t<p>THANK YOU FOR COMING TO US</p>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t</div>\r\n\t \t);\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\n// import Hero from \"../components/Hero\";\r\n// import {Link} from 'react-router-dom';\r\n// import Banner from '../components/Banner';\r\nimport {Helmet} from \"react-helmet\";\r\n// import Loading from '../components/Loading';\r\nimport LoadingMini from '../components/Loading-mini';\r\n\r\n//import {Grid, Cell, ProgressBar} from 'react-mdl';\r\nclass Maintenance extends Component {\r\n\t render() {\r\n\t \treturn(\r\n\t\t\t<>\r\n            <Helmet>\r\n\t\t\t\t<title>Maintenance | nDsWeb</title>\r\n\t\t\t</Helmet>\r\n            <div className=\"main-maintenance\">\r\n                <div className=\"header-maintenance\">\r\n                <LoadingMini />\r\n               \r\n                <div className=\"container-maintenance\">\r\n                    <div className=\"yellow-maintenance\"></div>\r\n                    <div className=\"red-maintenance\"></div>\r\n                    <div className=\"blue-maintenance\"></div>\r\n                    <div className=\"violet-maintenance\"></div>\r\n                </div>\r\n                \r\n                <span>\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100\" height=\"70\" viewBox=\"0 0 100 68\">\r\n                    <g id=\"large\">\r\n                    <path fill=\"none\" stroke=\"#F44\" d=\"M55.8 38.5l6.2-1.2c0-1.8-.1-3.5-.4-5.3l-6.3-.2c-.5-2-1.2-4-2.1-6l4.8-4c-.9-1.6-1.9-3-3-4.4l-5.6 3c-1.3-1.6-3-3-4.7-4.1l2-6A30 30 0 0 0 42 8l-3.3 5.4c-2-.7-4.2-1-6.2-1.2L31.3 6c-1.8 0-3.5.1-5.3.4l-.2 6.3c-2 .5-4 1.2-6 2.1l-4-4.8c-1.6.9-3 1.9-4.4 3l3 5.6c-1.6 1.3-3 3-4.1 4.7l-6-2A32.5 32.5 0 0 0 2 26l5.4 3.3c-.7 2-1 4.2-1.2 6.2L0 36.7c0 1.8.1 3.5.4 5.3l6.3.2c.5 2 1.2 4 2.1 6l-4.8 4c.9 1.6 1.9 3 3 4.4l5.6-3c1.4 1.6 3 3 4.7 4.1l-2 6A30.5 30.5 0 0 0 20 66l3.4-5.4c2 .7 4 1 6.1 1.2l1.2 6.2c1.8 0 3.5-.1 5.3-.4l.2-6.3c2-.5 4-1.2 6-2.1l4 4.8c1.6-.9 3-1.9 4.4-3l-3-5.6c1.6-1.3 3-3 4.1-4.7l6 2A32 32 0 0 0 60 48l-5.4-3.3c.7-2 1-4.2 1.2-6.2zm-13.5 4a12.5 12.5 0 1 1-22.6-11 12.5 12.5 0 0 1 22.6 11z\"/>\r\n                    <animateTransform attributeName=\"transform\" begin=\"0s\" dur=\"3s\" from=\"0 31 37\" repeatCount=\"indefinite\" to=\"360 31 37\" type=\"rotate\"/>\r\n                    </g>\r\n                    <g id=\"small\">\r\n                    <path fill=\"none\" stroke=\"#F44\" d=\"M93 19.3l6-3c-.4-1.6-1-3.2-1.7-4.8L90.8 13c-.9-1.4-2-2.7-3.4-3.8l2.1-6.3A21.8 21.8 0 0 0 85 .7l-3.6 5.5c-1.7-.4-3.4-.5-5.1-.3l-3-5.9c-1.6.4-3.2 1-4.7 1.7L70 8c-1.5 1-2.8 2-3.9 3.5L60 9.4a20.6 20.6 0 0 0-2.2 4.6l5.5 3.6a15 15 0 0 0-.3 5.1l-5.9 3c.4 1.6 1 3.2 1.7 4.7L65 29c1 1.5 2.1 2.8 3.5 3.9l-2.1 6.3a21 21 0 0 0 4.5 2.2l3.6-5.6c1.7.4 3.5.5 5.2.3l2.9 5.9c1.6-.4 3.2-1 4.8-1.7L86 34c1.4-1 2.7-2.1 3.8-3.5l6.3 2.1a21.5 21.5 0 0 0 2.2-4.5l-5.6-3.6c.4-1.7.5-3.5.3-5.1zM84.5 24a7 7 0 1 1-12.8-6.2 7 7 0 0 1 12.8 6.2z\"/>\r\n                    <animateTransform attributeName=\"transform\" begin=\"0s\" dur=\"2s\" from=\"0 78 21\" repeatCount=\"indefinite\" to=\"-360 78 21\" type=\"rotate\"/>\r\n                    </g>\r\n                </svg>\r\n                </span>\r\n                </div>\r\n                <div className=\"body-maintanance\">\r\n                \r\n                <div className=\"desc-maintenance\">\r\n                    <h2>Oops! We are under maintenance</h2>\r\n                    <h5>Our Group are currently performing scheduled maintenance on this App. Sorry for this inconvenience.</h5>\r\n                    <p>And we can't wait for you to see it</p> \r\n                    <p>Feel free to get in touch and visit again soon</p>\r\n                </div>\r\n                </div>\r\n                <div className=\"footer-maintenance\">\r\n                    Production & Operation by nDs.,SDG\r\n                </div>\r\n            </div>\r\n \t\t\t\t\r\n\t\t\t</>\r\n\t \t\t);\r\n\t }\r\n}\r\nexport default Maintenance;","export default  [\r\n\r\n    {\r\n        title: \"Một năm mới đầy hứa hẹn, hiền lành một cách khôn ngoan và nhớ rằng lòng người luôn khó đoán..\",\r\n        promise: \"Thuỳ phải nghĩ bản thân trụ cột là niềm khiêu hãnh là cảm giác an toàn cho gia đình\",\r\n        src: \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQg0xQBIbI2Z_SF2M_b8_Tr1UJPAmlp5DyKuw&usqp=CAU\"\r\n    },\r\n    {\r\n        title: \"Thông minh là nắm được cảm xúc của bản thân, quyến rũ là thấu hiểu được người khác, chăm chút cho bản thân, ai cũng khác nhau nên không cần so sánh..\",\r\n        promise: \"Không có lời hứa cho phần quà này\",\r\n        src: \"https://img.huffingtonpost.com/asset/5f0b698d2500005108c299c5.png?cache=1ryhwgnSca&ops=1778_1000\"\r\n    },\r\n    {\r\n        title: \"Tự tạo ra niềm tin, đặt niềm tin một cách khôn ngoan, niềm tin là sức mạnh có thể thay đổi nhiều thứ..\",\r\n        promise: \"Na hứa luôn bình tâm khí hoà, chuyện gì cũng phải từ từ nghĩ ra cốt lõi mà giải quyết, nóng tính chỉ làm mọi thứ rối bù\",\r\n        src: \"https://digitalcampaignsstorage.blob.core.windows.net/change4life/production/recipe/image/94/64b11a513160acf282c14c86c0abd8bd.jpg\"\r\n    },\r\n    {\r\n        title: \"Thuỳ không được tranh ăn với bé con, ăn hết phần con mãi thì sao mà nó ú lên được..\",\r\n        promise: \"Na hứa sẽ luôn nhường nhịn C46, không dành bất cứ gì của C46\",\r\n        src: \"https://lh3.googleusercontent.com/zCaM3FsOMuXlSUHNFGYdsBJilnJbLYNs3GicvjwzHrMhEDP_uNHIB-bRGC07rUX2sM97hVWUS56OP2u9tW_7lXzSPPI2=w1000\"\r\n    },\r\n    {\r\n        title: \"Thuỳ phải đi ngủ đúng giờ, không được ngủ muộn, Kêu ngủ là phải off game để ngủ..\",\r\n        promise: \"Na hứa sẽ luôn nghe lời C46, không cãi lại câu nào nếu đúng\",\r\n        src: \"https://upload.wikimedia.org/wikipedia/commons/a/a3/Eq_it-na_pizza-margherita_sep2005_sml.jpg\"\r\n    },\r\n    {\r\n        title: \"Nếu có thức giấc phải nhắm mắt và ngủ lại ngay không được thức, đi làm lại ngủ gục..\",\r\n        promise: \"Na hứa sẽ luôn ngủ thật ngon không thức nửa đêm, 5h sáng có dậy cũng ngủ lại cho đủ giấc\",\r\n        src: \"https://wi.wallpapertip.com/wsimgs/27-276821_happy-birthday-cake-wallpaper-beautiful-birthday-real-cakes.jpg\"\r\n       \r\n    },\r\n    {\r\n        title: \"Tối về chăm con hỏi mẹ thế nào, bớt ôm điện thoại, ru cho con bé ngủ sớm..\",\r\n        promise: \"Na hứa sẽ luôn vui vẻ, thương yêu gia đình nhỏ, dù có chuyện gì đi nữa.\",\r\n        src: \"https://ca-times.brightspotcdn.com/dims4/default/a0cc65a/2147483647/strip/true/crop/500x333+0+0/resize/840x559!/quality/90/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F33%2F65%2F2ddba8bc05df61989244d43f24df%2Fla-fo-review07-ldnuz6nc.jpg\"\r\n    },\r\n    {\r\n        title: \"Thuỳ tập nấu ăn giỏi giống mẹ, tập chạy xe cho rành, Nấu ăn dở thêm không chạy xe được là ế dài dài..\",\r\n        promise: \"Na hứa lúc rảnh tối nào cũng lên thăm C46 Hôn cái rồi mới đi ngủ\",\r\n        src: \"https://paperstreetparlour.com/wp-content/uploads/2019/12/Valentines-Chocolate-Explosion-Cake-Decorating-Class.jpg\"\r\n    },\r\n    {\r\n        title: \"Chuyện Cty thì vào Cty giải quyết, mọi người trong nhà chỉ muốn thấy Thuỳ vui vẻ, không quạo..\",\r\n        promise: \"Na hứa không trêu nhây với C46, không chọc C46\",\r\n        src: \"https://i.pinimg.com/originals/f6/93/67/f69367284cc5998d5f897c2cbab50a06.jpg\"\r\n    },\r\n    {\r\n        title: \"Có chuyện buồn phải nói ra cho bạn thân biết, không được tự giữ mang uất, con nó học theo thì không tốt..\",\r\n        promise: \"Na giận gì phải nói cho C46, không giận cá chém C46\",\r\n        src: \"https://i.pinimg.com/736x/1d/66/56/1d6656f913029bf69603427b946f20d3.jpg\"\r\n    },\r\n    {\r\n        title: \"Tết Thuỳ không được đánh đề để lên vip, không được lừa hết tiền mấy đứa nhỏ.. lì xì cho nDs(Hưng) nữa\",\r\n        promise: \"Na hứa hát cho C46 nghe nhiều hơn, làm cho C46 giận ít nhất 1 lần, bớt nhây với C46..\",\r\n        src: \"https://toppng.com/uploads/preview/chocolate-drip-cake-chocolate-explosion-cake-white-chocolate-drip-cake-11563417048uz4veyawn3.png\"\r\n    },\r\n    {\r\n        title: \"Không có gì không làm được, mọi việc đều có cách giải quyết, nghĩ chậm và làm phải nhanh và chắc chắn(phần này bị lỗi ảnh nDs chưa kịp sửa)..\",\r\n        promise: \"Na hứa với C46 không được vì người khác mà thất vọng, mọi thứ do chính mình quyết định, không để ai chi phối\",\r\n        src: \"https://tarot.vn/wp-content/uploads/2016/07/123-5960-BLK-L01-300x300.png\"\r\n    },\r\n    {\r\n        title: \"Thuỳ không được hành chủ account C46 tới nửa đêm, sáng không dậy nổi, tới 23h thả cho hắn đi ngủ được rồi..\",\r\n        promise: \"Na hứa C46 kêu nhanh là phải nhanh không được vòng vo, phạt hôn 20 cái nếu lì không nghe lời C46 ..\",\r\n        src: \"https://i.pinimg.com/736x/dd/2b/11/dd2b11d2245d89968d58251cafe17e19.jpg\"\r\n    },\r\n\r\n]\r\n","import React, { useState } from \"react\";\r\n\r\nimport Banner from \"./Banner\";\r\nimport _ from 'lodash';\r\n\r\nimport birth1 from '../images/birth1.jpg';\r\nimport birth2 from '../images/birth2.jpg';\r\nimport birth3 from '../images/birth3.jpg';\r\nimport birth4 from '../images/birth4.jpg';\r\nimport birth5 from '../images/birth5.jpg';\r\nimport birth6 from '../images/birth6.jpg';\r\nimport birth7 from '../images/birth7.jpg';\r\nimport birth8 from '../images/birth8.jpg';\r\n\r\nimport { FiToggleRight } from 'react-icons/fi';\r\n// import fetchJsonp from \"fetch-jsonp\";\r\nimport Hero from \"./Hero\";\r\n\r\nimport dataWishes from './data.js/dataListWishes'\r\nimport { IconButton, LinearProgress } from \"@material-ui/core\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"../apis/axios\";\r\n\r\n\r\nexport const Wheel = (props) => {\r\n\r\n    const [number, setNumber] = useState(null);\r\n    const [user, setIDUser] = useState(null);\r\n    const [ipClient, setIpClient] = useState(null);\r\n\r\n    const [message, setMessage] = useState(null);\r\n\r\n    // const GeoAPI = \"https://ipapi.co/jsonp\";1ee4f3b489024e8d826db9a66af54bcb\r\n    const GeoAPI = \"https://ipgeolocation.abstractapi.com/v1/?api_key=1ee4f3b489024e8d826db9a66af54bcb\"\r\n\r\n\r\n    const [verify, setVerify] = useState(false)\r\n\r\n    const [error, setError] = useState(null)\r\n    const [msgSym, setmsgSym] = useState(null)\r\n\r\n    const [open, setOpen] = useState([])\r\n    const [isSending, setIsSending] = useState(false)\r\n\r\n\r\n    const [urlAvt, setUrlAvt] = useState(birth2)\r\n\tconst births = [birth1, birth2, birth3, birth4, birth5, birth6, birth7, birth8]\r\n\r\n\r\n    const Wishes = []\r\n    Object.keys(dataWishes).forEach(function(key) {\r\n        Wishes.push(dataWishes[key])\r\n    });\r\n\r\n\r\n    const readOutLoud = (message) => {\r\n        \r\n        const speech = new SpeechSynthesisUtterance();\r\n        let voices = window.speechSynthesis.getVoices();\r\n        speech.text = message;\r\n        speech.volume = 1;\r\n        speech.rate = 0.8;\r\n        speech.pitch = 1;\r\n        speech.lang = \"en-GB\";\r\n        speech.voice = voices[4];\r\n        speech.voiceURI = voices[4];\r\n        window.speechSynthesis.speak(speech);\r\n}\r\n\r\n    const handleChangeAvt = () => {\r\n        // e.preventDefault()\r\n        let temp = Math.floor(Math.random()*births.length)\r\n        setUrlAvt(births[temp])\r\n\t\t// console.log(\"chose video url in\", temp)\r\n\r\n    }\r\n\r\n\r\n    const fetchIPclient = async () => {\r\n        \r\n            await fetch(`${GeoAPI}`)\r\n            .then(function(response) {\r\n                return response.json();\r\n              })\r\n              .then(json => {\r\n                    setIpClient(json)\r\n                    // console.log(\"fetch sucessfull is \", json)\r\n              })\r\n              .catch(function(ex) {\r\n                console.log(\"parsing failed\", ex);\r\n              });\r\n\r\n\r\n            const getVerifyFromSessionStore = window.sessionStorage.getItem(\"verify-birthday\");\r\n            console.log(getVerifyFromSessionStore)\r\n            setVerify(getVerifyFromSessionStore || false)\r\n\r\n    };\r\n\r\n    const handleSendMess = async () => {\r\n        setIsSending(true)\r\n        console.log(message)\r\n        console.log(\"here handleSendMess\");\r\n        const post = {\r\n            message: message,\r\n            timestamp: new Date(),\r\n            }\r\n\r\n        if(message && message.length > 3){\r\n            await axios\r\n            .post('/message', post)\r\n            .then(function(response) {\r\n                console.log(response.data.status);\r\n                console.log(response.data.message);\r\n                // also clear the form\r\n                setMessage(null)\r\n                setmsgSym(\"Your Message was Sent to nDs\")\r\n                // setSnackbarMsg(response.data.status);\r\n                setIsSending(false);\r\n                \r\n            })\r\n            .catch(function(error) {\r\n                // console.log(error.response.status);\r\n                if (error.response) {\r\n                if (error.response.status === 429) {\r\n                    alert(\"Message failed to send please try again\")\r\n                    // setSnackbarMsg(\"We accept limited feedback!\");\r\n                }\r\n                }\r\n                setIsSending(false);\r\n            })\r\n            } else {\r\n                setmsgSym(\"Your Message must fill out\")\r\n                setIsSending(false);\r\n            }\r\n        \r\n      \r\n        \r\n    }\r\n\r\n    const sendPromise =  async (promise) => {\r\n\r\n        console.log(\"here sendPromise\");\r\n        // const post = {\r\n        //     promise: promise,\r\n        //     timestamp: new Date() + \" by \" + `${ipClient.ip_address +  \" at \" + ipClient.region + \" of \" + ipClient.connection.autonomous_system_organization}`,\r\n        //     }\r\n      \r\n        // await axios\r\n        //     .post('/promise', post)\r\n        //     .then(function(response) {\r\n        //         console.log(response.data.status);\r\n        //         console.log(response.data.message);\r\n        //         // setSnackbarMsg(response.data.status);\r\n            \r\n        //     })\r\n        //     .catch(function(error) {\r\n        //         // console.log(error.response.status);\r\n        //         if (error.response) {\r\n        //         if (error.response.status === 429) {\r\n        //             // setSnackbarMsg(\"We accept limited feedback!\");\r\n        //         }\r\n        //         }\r\n        //     });\r\n    }\r\n\r\n\r\n    const handleSubmit = () => {\r\n\r\n\r\n        if(user === 'vothithanhthuy' && number === 'anhyeuem'){\r\n            setVerify(true)\r\n            readOutLoud(\"Happy Birthday to Thanh Thuỳ\")\r\n            window.sessionStorage.setItem(\"verify-birthday\", true)        \r\n        }\r\n        else {\r\n            setError('Not Valid with THANH THUY')\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n    // const openGift = (key, promise) => {\r\n    //     console.log(key, promise)\r\n\r\n       \r\n    //     if(open.includes(key.toString())){\r\n\r\n    //         let temps = _.difference(open, [key.toString()])\r\n    //         // console.log(temps)\r\n    //        setOpen(temps)\r\n\r\n    //     }else{\r\n    //         sendPromise(promise)\r\n\r\n    //         let temps = _.uniq([...open, key.toString()]);\r\n    //         // console.log(temps)\r\n    //         setOpen(temps)\r\n\r\n    //     }\r\n        \r\n    // }\r\n\r\n\r\n    React.useEffect(() => {\r\n        \r\n        fetchIPclient();\r\n        window.speechSynthesis.getVoices();\r\n\r\n    }, [])\r\n\r\n\r\n    \r\n    return <>\r\n\r\n    {\r\n        !verify ? <Hero>\r\n        <Banner title=\"Wheel\" subtitle=\"Funny Birthday\">\r\n        \r\n\r\n        {\r\n            error ? <p className='err-greeting' style={{color: 'rgb(202, 60, 17)'}}>{error}</p> : null\r\n        }\r\n\r\n\r\n\r\n        <form>\r\n            \r\n            <span>\r\n                <h4>Verification for Wheel</h4>\r\n            </span>\r\n                                \r\n            <span>\r\n                <label htmlFor=\"password\">Your ID</label>\r\n                <input \r\n                placeholder=\"ex: nameID\" \r\n                required type=\"text\" name=\"text\"\r\n                value = {user} \r\n                onChange = {({target})=>{\r\n                    setIDUser(target.value)\r\n                }} \r\n                id=\"password\" ></input>\r\n            </span>\r\n                <h4></h4>\r\n            <span>\r\n                \r\n                <label htmlFor=\"repassword\">Password</label>\r\n                <input\r\n                placeholder=\"ex: nickname\"\r\n                required type=\"text\" name=\"text\"\r\n                value = {number}\r\n                onChange = {({target})=> {\r\n                        setNumber(target.value) \r\n                }} \r\n                id=\"repassword\" ></input>\r\n            </span>\r\n            <br/><br />\r\n            <span>\r\n                <button style={{marginTop: '1rem'}} type=\"button\" onClick={() => handleSubmit()} className=\"login-btn\">Turn in</button>\r\n            </span>\r\n        \r\n    \r\n        </form>\r\n\r\n        \r\n        </Banner>\r\n    </Hero>\r\n    \r\n    :\r\n\r\n    <div className=\"main-birth\">\r\n      <div className=\"switch-FW-BD\">\r\n            <Link to=\"/ndsweb/wheel/firework\">\r\n                <IconButton>\r\n                    <FiToggleRight style={{color: 'rgb(36, 139, 10)'}} />\r\n                </IconButton>\r\n            </Link>\r\n        </div>\r\n      \r\n        <div className=\"header-birth\">\r\n            <h2>THANH THUY</h2>\r\n            <div className=\"avt-birth\" onClick = {() => handleChangeAvt()}>\r\n                <img src={urlAvt} alt=\"avt-birth\" />\r\n            </div>\r\n\r\n            <img src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/d/dd/Birthday_candles.jpg/1200px-Birthday_candles.jpg\" alt=\"img-header\" />\r\n\r\n\r\n        </div>\r\n  \r\n                \r\n        <div className=\"body-birth\">\r\n            <p>5 Feb - 5 Feb 2022..</p>\r\n            <h3>Click on avatar to see the surprise</h3>\r\n            <h3>LiveTime Anh and Em</h3>\r\n            {/* <div className=\"card-gifts\">\r\n\r\n                {Wishes.map((wish, key) => {\r\n\r\n                    return <div key={key} className=\"card-gift\">\r\n                    <div className=\"header-gift\" onClick= {() => {openGift(key, wish.promise)}}>\r\n                        <img src={wish.src} alt=\"img-gift\" />\r\n                    </div>\r\n                    { (open.includes(key.toString())) ? <div className=\"body-gift\">\r\n                        <p>{wish.title}</p>\r\n                    </div> : null }\r\n                    \r\n                </div>\r\n                })}\r\n               \r\n            </div> */}\r\n\r\n            <h4>Send Message to nDs</h4>\r\n\r\n            <div className=\"form-sendMessBD\">\r\n\r\n                {msgSym ? <h4 style={{textTransform: 'uppercase', color: 'rgba(28, 158, 10, 0.9)'}}>{msgSym}</h4> : null}\r\n                \r\n                <span>\r\n                    \r\n                    <textarea\r\n                    placeholder=\"Type Your Message\" \r\n                    required type=\"text\" name=\"text\"\r\n                    multiline=\"true\"\r\n                    value = {message}\r\n                    onChange = {({target})=> {\r\n                            setMessage(target.value) \r\n                    }} \r\n                    id=\"repassword\" ></textarea>\r\n\r\n                </span>\r\n                {isSending ? (\r\n                <LinearProgress\r\n                style={{\r\n                    width: \"70%\",\r\n                    transform: \"translateY(-12px)\",\r\n                    borderRadius: \"1px\",\r\n                    display: \"flex\",\r\n                    margin: \"0 auto\",\r\n                }}\r\n            />\r\n          ) : null}\r\n                <br/><br />\r\n                <span>\r\n                    <button type=\"button\" onClick={() => handleSendMess()} className=\"login-btn\">Send Message</button>\r\n                </span>\r\n            </div>\r\n\r\n\r\n        </div>\r\n\r\n\r\n\r\n        <div className=\"footer-birth\">\r\n\r\n            <h4>This is a birthday letter dedicated to Thanh Thuy</h4>\r\n            \r\n            <p>Production & Operation by nDs</p> \r\n\r\n            <p>Network safety and security</p>\r\n\r\n        \r\n        </div>\r\n\r\n    </div>\r\n    }\r\n\r\n\r\n    </>\r\n        \r\n}\r\n \r\n\r\n","import React, { Component } from 'react';\r\nimport { IconButton } from '@material-ui/core';\r\nimport { FiToggleLeft } from 'react-icons/fi';\r\nimport {FaRegStopCircle, FaRegPlayCircle} from 'react-icons/fa';\r\nimport { Link } from 'react-router-dom';\r\nimport song from '../../images/happyny.mp3';\r\n\r\nclass Firework extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.canvas = React.createRef();\r\n    this.state = {\r\n        isPlaySong : true,\r\n        audio : new Audio(song),\r\n    }\r\n    \r\n  }\r\n  componentDidUpdate() {\r\n    this.fancy();\r\n   \r\n  }\r\n\r\n  componentDidMount(){\r\n    this.fancy();\r\n    this.handlePlayMusic()\r\n  }\r\n\r\n\r\n  \r\n  handlePlayMusic = (music) => {\r\n    const {isPlaySong, audio} = this.state\r\n    try {\r\n        audio.pause();\r\n        audio.currentTime = 0;\r\n        this.setState({isPlaySong: true})\r\n    \r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n    audio.play()\r\n    audio.loop = true\r\n    \r\n   \r\n}\r\n\r\nhandleStopMusic = () => {\r\n    const {isPlaySong, audio} = this.state\r\n    audio.pause();\r\n    audio.currentTime = 0;\r\n    this.setState({isPlaySong: false})\r\n}\r\n\r\n\r\nfancy(){\r\n    const PI2 = Math.PI * 2\r\n    const random = (min, max) => Math.random() * (max - min + 1) + min | 0\r\n    const timestamp = _ => new Date().getTime()\r\n\r\n    // container\r\n    class Birthday {\r\n    constructor() {\r\n        this.resize()\r\n\r\n        // create a lovely place to store the firework\r\n        this.fireworks = []\r\n        this.counter = 0\r\n\r\n    }\r\n    \r\n    resize() {\r\n        this.width = canvas.width = window.innerWidth\r\n        let center = this.width / 2 | 0\r\n        this.spawnA = center - center / 4 | 0\r\n        this.spawnB = center + center / 4 | 0\r\n        \r\n        this.height = canvas.height = window.innerHeight\r\n        this.spawnC = this.height * .1\r\n        this.spawnD = this.height * .5\r\n        \r\n    }\r\n    \r\n    onClick(evt) {\r\n        let x = evt.clientX || evt.touches && evt.touches[0].pageX\r\n        let y = evt.clientY || evt.touches && evt.touches[0].pageY\r\n        \r\n        let count = random(3,5)\r\n        for(let i = 0; i < count; i++) this.fireworks.push(new Firework(\r\n            random(this.spawnA, this.spawnB),\r\n            this.height,\r\n            x,\r\n            y,\r\n            random(0, 260),\r\n            random(30, 110)))\r\n            \r\n        this.counter = -1\r\n        \r\n    }\r\n    \r\n    update(delta) {\r\n        ctx.globalCompositeOperation = 'hard-light'\r\n        ctx.fillStyle = `rgba(20,20,20,${ 7 * delta })`\r\n        ctx.fillRect(0, 0, this.width, this.height)\r\n\r\n        ctx.globalCompositeOperation = 'lighter'\r\n        for (let firework of this.fireworks) firework.update(delta)\r\n\r\n        // if enough time passed... create new new firework\r\n        this.counter += delta * 3 // each second\r\n        if (this.counter >= 1) {\r\n        this.fireworks.push(new Firework(\r\n            random(this.spawnA, this.spawnB),\r\n            this.height,\r\n            random(0, this.width),\r\n            random(this.spawnC, this.spawnD),\r\n            random(0, 360),\r\n            random(30, 110)))\r\n        this.counter = 0\r\n        }\r\n\r\n        // remove the dead fireworks\r\n        if (this.fireworks.length > 1000) this.fireworks = this.fireworks.filter(firework => !firework.dead)\r\n\r\n    }\r\n    }\r\n\r\n    class Firework {\r\n    constructor(x, y, targetX, targetY, shade, offsprings) {\r\n        this.dead = false\r\n        this.offsprings = offsprings\r\n\r\n        this.x = x\r\n        this.y = y\r\n        this.targetX = targetX\r\n        this.targetY = targetY\r\n\r\n        this.shade = shade\r\n        this.history = []\r\n    }\r\n    update(delta) {\r\n        if (this.dead) return\r\n\r\n        let xDiff = this.targetX - this.x\r\n        let yDiff = this.targetY - this.y\r\n        if (Math.abs(xDiff) > 3 || Math.abs(yDiff) > 3) { // is still moving\r\n        this.x += xDiff * 2 * delta\r\n        this.y += yDiff * 2 * delta\r\n\r\n        this.history.push({\r\n            x: this.x,\r\n            y: this.y\r\n        })\r\n\r\n        if (this.history.length > 20) this.history.shift()\r\n\r\n        } else {\r\n        if (this.offsprings && !this.madeChilds) {\r\n            \r\n            let babies = this.offsprings / 2\r\n            for (let i = 0; i < babies; i++) {\r\n            let targetX = this.x + this.offsprings * Math.cos(PI2 * i / babies) | 0\r\n            let targetY = this.y + this.offsprings * Math.sin(PI2 * i / babies) | 0\r\n\r\n            birthday.fireworks.push(new Firework(this.x, this.y, targetX, targetY, this.shade, 0))\r\n\r\n            }\r\n\r\n        }\r\n        this.madeChilds = true\r\n        this.history.shift()\r\n        }\r\n        \r\n        if (this.history.length === 0) this.dead = true\r\n        else if (this.offsprings) { \r\n            for (let i = 0; this.history.length > i; i++) {\r\n            let point = this.history[i]\r\n            ctx.beginPath()\r\n            ctx.fillStyle = 'hsl(' + this.shade + ',100%,' + i + '%)'\r\n            ctx.arc(point.x, point.y, 1, 0, PI2, false)\r\n            ctx.fill()\r\n            } \r\n        } else {\r\n        ctx.beginPath()\r\n        ctx.fillStyle = 'hsl(' + this.shade + ',100%,50%)'\r\n        ctx.arc(this.x, this.y, 1, 0, PI2, false)\r\n        ctx.fill()\r\n        }\r\n\r\n    }\r\n    }\r\n\r\n    let canvas = document.getElementById('birthday')\r\n    let ctx = canvas.getContext('2d')\r\n\r\n    let then = timestamp()\r\n\r\n    let birthday = new Birthday\r\n    window.onresize = () => birthday.resize()\r\n    document.onclick = evt => birthday.onClick(evt)\r\n    document.ontouchstart = evt => birthday.onClick(evt);\r\n    (function loop(){\r\n        requestAnimationFrame(loop)\r\n\r\n        let now = timestamp()\r\n        let delta = now - then\r\n\r\n        then = now\r\n        birthday.update(delta / 1000)\r\n        \r\n\r\n    })()\r\n    }\r\n\r\n  \r\n \r\n  render() {\r\n\r\n    return <>\r\n        <div className=\"switch-FW-BD\">\r\n        <Link onClick={() => this.handleStopMusic() } to=\"/ndsappbeta/wheel\">\r\n            <IconButton>\r\n                <FiToggleLeft style={{color: 'rgb(202, 60, 17)'}} /> \r\n            </IconButton>\r\n        </Link>\r\n           \r\n        </div>\r\n        <div className=\"song-control\">\r\n       \r\n            <IconButton>\r\n                {this.state.isPlaySong ? <FaRegStopCircle onClick={ () => this.handleStopMusic()} style={{color: 'rgb(36, 139, 10)'}} /> : <FaRegPlayCircle onClick={ () => this.handlePlayMusic()} style={{color: 'rgb(202, 60, 17)'}} />}\r\n            </IconButton>\r\n       \r\n        </div>\r\n        <div className=\"Wishes-Firework\">\r\n\r\n            <h2>Happy Lunar New Year Tan Suu</h2>\r\n            <h2>Wishes Affluent Family </h2>\r\n            <h2>Funny Birthday</h2>\r\n            <h2>2021</h2>\r\n\r\n        </div>\r\n        \r\n        <canvas id=\"birthday\"></canvas>\r\n\r\n    </>\r\n    \r\n   \r\n  }\r\n}\r\n\r\nexport default Firework;","import React, {Component} from 'react'\r\nimport {Wheel} from '../components/Wheel';\r\nimport Store from '../store';\r\nimport {Route, Switch} from 'react-router-dom';\r\nimport Errors from \"./Error\";\r\n\r\nimport {Helmet} from \"react-helmet\";\r\nimport Firework from '../components/Animation/Firework';\r\n\r\nexport default class Page4 extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            store: new Store(this),\r\n        }\r\n    }\r\n    render(){\r\n        const { store } = this.state;\r\n        return (\r\n            <Switch>\r\n\r\n                <Route exact path=\"/ndsweb/wheel\">\r\n                    <>\r\n                    <Wheel store = { store } />\r\n                    <Helmet>\r\n                        <title>Wheel | nDsWeb</title>\r\n                    </Helmet>\r\n                    </>\r\n                </Route>\r\n\r\n                <Route exact path=\"/ndsweb/wheel/firework\">\r\n                    <>\r\n                    <Firework />\r\n                    <Helmet>\r\n                        <title>Firework | nDsWeb</title>\r\n                    </Helmet>\r\n                    </>\r\n                </Route>\r\n        \r\n                <Route component={Errors} />\r\n            </Switch>\r\n        )   \r\n        }\r\n   \r\n}\r\n","import React, { Component } from 'react';\r\nimport './App.css';\r\n// import './style.css';\r\n\r\nimport Home from \"./pages/Home\";\r\n// import Errors from \"./pages/Error\";\r\nimport {Route, Switch} from 'react-router-dom';\r\nimport Navbar from './components/Navbar';\r\nimport Page1 from './pages/Page1';\r\nimport Page2 from './pages/Page2';\r\nimport AuthWrapper from \"./pages/AuthWrapper\";\r\nimport PrivateRoute from \"./pages/PrivateRoute\";\r\n// import Login from './pages/Login';\r\nimport Page3 from './pages/Page3';\r\n// import Page4 from './pages/Page4';\r\nimport About  from './pages/About';\r\nimport Maintenance from './pages/Maintenance';\r\nimport Landing from './pages/Landing';\r\n\r\nclass App extends Component {\r\n\t render() {\r\n\t \treturn(\r\n\t\t\t<AuthWrapper>\r\n\t\t\t\t<Navbar />\r\n\t\t\t\r\n\t\t\t\t<Switch>\r\n\t\t\t\t\t<PrivateRoute path=\"/ndsweb\" exact={true}>\r\n\t\t\t\t\t\t<Home />\r\n\t\t\t\t\t</PrivateRoute>\r\n\r\n\t\t\t\t\t<Route path=\"/ndsweb/weather\">\r\n\t\t\t\t\t\t<Page1 />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t\t\r\n\t\t\t\t\t{/* <Route path=\"/ndsweb/retrille\">\r\n\t\t\t\t\t\t<Page4 />\r\n\t\t\t\t\t</Route> */}\r\n\t\t\t\t\t{/* <Route path=\"/login\">\r\n\t\t\t\t\t\t<Login/>\r\n\t\t\t\t\t</Route>  */}\r\n\r\n\t\t\t\t\t{/* chat */}\r\n\t\t\t\t\t<Route path=\"/ndsweb/chat\">\r\n\t\t\t\t\t\t<Page3 />\r\n\t\t\t\t\t</Route>\r\n\r\n\t\t\t\t\t{/* music */}\r\n\t\t\t\t\t<Route path=\"/ndsweb/music\"> \r\n\t\t\t\t\t\t<Page2 />\r\n\t\t\t\t\t</Route>\r\n\r\n\t\t\t\t\t<Route path=\"/ndsweb/wheel\">\r\n\t\t\t\t\t\t<Landing />\r\n\t\t\t\t\t</Route> \r\n\r\n\t\t\t\t\t<Route path=\"/ndsweb/about\">\r\n\t\t\t\t\t\t<About/>\r\n\t\t\t\t\t</Route>\r\n\t\r\n\r\n\t\t\t\t\t<Route component={Maintenance} />\r\n\t\t\t\t</Switch>\r\n\t\t\t\r\n\t\t\r\n\t\t\t</AuthWrapper>\t\t\t\r\n\r\n  \t\t);\r\n\t}\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { Auth0Provider } from '@auth0/auth0-react';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport  {BrowserRouter as Router} from 'react-router-dom';\r\n// import NotificationProvider from './notifications/NotificationProvider';\r\n\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Router>\r\n    {/* <NotificationProvider> */}\r\n     <Auth0Provider\r\n      domain=\"ndscoop.us.auth0.com\"\r\n      clientId=\"VjJpWQ2c7EELPIisJatPwQMM4Mh1DjsR\"\r\n      redirectUri={window.location.origin}\r\n    >\r\n      {/* <NotificationProvider> */}\r\n        <App />\r\n      {/* </NotificationProvider> */}\r\n   \r\n         \r\n            \r\n    </Auth0Provider>\r\n    {/* </NotificationProvider> */}\r\n         \r\n    </Router>\r\n    \r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\n\r\n\r\nserviceWorker.unregister();\r\n","import React, { Component } from 'react'\r\n\r\nexport class Datetime1 extends Component {\r\n    constructor(){\r\n        super()\r\n        this.state = { time: new Date() }\r\n    }\r\n    loopTime()\r\n    {\r\n        this.setState({\r\n            time: new Date()\r\n        })\r\n    }\r\n    componentDidMount()\r\n    {\r\n        setInterval(() =>\r\n            this.loopTime(), 1000\r\n        )\r\n    }\r\n    render() {\r\n        return (\r\n            <>\r\n                VietNam, {this.state.time.toLocaleDateString()}-{this.state.time.toLocaleTimeString()}\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Datetime1\r\n","import React from 'react';\r\nimport Datetime1 from './Datetime1';\r\n\r\n//const RoomContext = React.createCo\r\nconst Banner = ({children, title, subtitle}) => {\r\n\t \treturn(\r\n\t\t\t\r\n\t\t\t\t<div className=\"banner\" style={{overflow: 'scroll', maxHeight: '40rem', zIndex: '103'}}>\r\n\t\t\t\t\t<h1>{title}</h1>\r\n\t\t\t\t\t<div></div>\r\n\t\t\t\t\t<Datetime1 />\r\n\t\t\t\t\t<p>{subtitle}</p>\r\n\t\t\t\t\t<p>Vạn Vật Từ Tâm</p>\r\n\t\t\t\t\t{children}\r\n\t \t\t\t</div>\r\n\t\t\t\r\n\t \t\t);\r\n\r\n\t};\r\n\t\r\n\r\nexport default Banner","module.exports = __webpack_public_path__ + \"static/media/svgnds.73ead5f6.png\";"],"sourceRoot":""}